- change: added
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: Added optional agent_version to specify a particular agent version (string or integer).
  paths:
    - path: requestBody.content.application/json.schema.allOf[0].properties.agent_version
      before: 'null'
      after: 'anyOf: [string, integer, null], default: null'
  date: '2026-02-20'
- change: added
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: Added optional metadata object for custom key/value metadata on the conversation.
  paths:
    - path: requestBody.content.application/json.schema.allOf[0].properties.metadata
      before: 'null'
      after: 'anyOf: [object, null] (additionalProperties: true), default: null'
  date: '2026-02-20'
- change: changed
  target: request
  breaking: true
  deprecated: false
  doc_only: false
  note: 'tools is no longer nullable; remove passing tools: null. It must be an array if provided.'
  paths:
    - path: requestBody.content.application/json.schema.allOf[0].properties.tools
      before: 'anyOf: [array, null], default: null'
      after: 'type: array'
  date: '2026-02-20'
- change: added
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: New thinking (ThinkChunk) content type supported in user/assistant input message content.
  paths:
    - path: requestBody.content.application/json.schema.allOf[0].properties.inputs.anyOf[1].items.anyOf[0].properties.content.anyOf[1].items.anyOf
      before: '[TextChunk, ImageURLChunk, ToolFileChunk, DocumentURLChunk]'
      after: '[TextChunk, ImageURLChunk, ToolFileChunk, DocumentURLChunk, ThinkChunk]'
  date: '2026-02-20'
- change: added
  target: response
  breaking: false
  deprecated: false
  doc_only: false
  note: New thinking (ThinkChunk) content type can appear in streamed message.output.delta content.
  paths:
    - path: responses.200.content.text/event-stream.schema.properties.data.oneOf[type=message.output.delta].properties.content.anyOf[1].items.anyOf
      before: '[TextChunk, ImageURLChunk, ToolFileChunk, DocumentURLChunk, ToolReferenceChunk]'
      after: '[TextChunk, ImageURLChunk, ToolFileChunk, DocumentURLChunk, ThinkChunk, ToolReferenceChunk]'
  date: '2026-02-20'
- change: changed
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: Tool identifiers are more permissive. Fields now accept any string in addition to built-in enums.
  paths:
    - path: requestBody.content.application/json.schema.allOf[0].properties.inputs.anyOf[1].items.anyOf[0].properties.content.anyOf[1].items.anyOf[ToolFileChunk].properties.tool
      before: 'enum: [web_search, web_search_premium, code_interpreter, image_generation, document_library]'
      after: 'anyOf: [enum(built-ins), string]'
    - path: requestBody.content.application/json.schema.allOf[0].properties.inputs.anyOf[1].items.anyOf[1].properties.content.anyOf[1].items.anyOf[ToolFileChunk].properties.tool
      before: 'enum: [web_search, web_search_premium, code_interpreter, image_generation, document_library]'
      after: 'anyOf: [enum(built-ins), string]'
    - path: requestBody.content.application/json.schema.allOf[0].properties.inputs.anyOf[1].items.anyOf[1].properties.content.anyOf[1].items.anyOf[ToolReferenceChunk].properties.tool
      before: 'enum: [web_search, web_search_premium, code_interpreter, image_generation, document_library]'
      after: 'anyOf: [enum(built-ins), string]'
    - path: requestBody.content.application/json.schema.allOf[0].properties.inputs.anyOf[1].items.anyOf[4=ToolExecutionEntry].properties.name
      before: 'enum: [web_search, web_search_premium, code_interpreter, image_generation, document_library]'
      after: 'anyOf: [enum(built-ins), string]'
  date: '2026-02-20'
- change: changed
  target: response
  breaking: false
  deprecated: false
  doc_only: false
  note: ToolExecution events now allow any string for name in addition to built-ins.
  paths:
    - path: responses.200.content.text/event-stream.schema.properties.data.oneOf[type=tool.execution.started].properties.name
      before: 'enum: [web_search, web_search_premium, code_interpreter, image_generation, document_library]'
      after: 'anyOf: [enum(built-ins), string]'
    - path: responses.200.content.text/event-stream.schema.properties.data.oneOf[type=tool.execution.delta].properties.name
      before: 'enum: [web_search, web_search_premium, code_interpreter, image_generation, document_library]'
      after: 'anyOf: [enum(built-ins), string]'
    - path: responses.200.content.text/event-stream.schema.properties.data.oneOf[type=tool.execution.done].properties.name
      before: 'enum: [web_search, web_search_premium, code_interpreter, image_generation, document_library]'
      after: 'anyOf: [enum(built-ins), string]'
  date: '2026-02-20'
- change: changed
  target: response
  breaking: false
  deprecated: false
  doc_only: false
  note: In streamed message.output.delta content, tool fields now allow any string in addition to built-ins.
  paths:
    - path: responses.200.content.text/event-stream.schema.properties.data.oneOf[type=message.output.delta].properties.content.anyOf[1].items.anyOf[ToolFileChunk].properties.tool
      before: 'enum: [web_search, web_search_premium, code_interpreter, image_generation, document_library]'
      after: 'anyOf: [enum(built-ins), string]'
    - path: responses.200.content.text/event-stream.schema.properties.data.oneOf[type=message.output.delta].properties.content.anyOf[1].items.anyOf[ToolReferenceChunk].properties.tool
      before: 'enum: [web_search, web_search_premium, code_interpreter, image_generation, document_library]'
      after: 'anyOf: [enum(built-ins), string]'
  date: '2026-02-20'
- change: changed
  target: response
  breaking: false
  deprecated: false
  doc_only: false
  note: usage.connectors in ResponseDoneEvent is now an open map of integers (no restricted keys).
  paths:
    - path: responses.200.content.text/event-stream.schema.properties.data.oneOf[type=conversation.response.done].properties.usage.properties.connectors
      before: 'anyOf: [object with propertyNames restricted to built-in connector keys; additionalProperties: integer, null]'
      after: 'anyOf: [object with additionalProperties: integer, null]'
  date: '2026-02-20'
- change: changed
  target: request
  breaking: false
  deprecated: false
  doc_only: true
  note: Updated response_format documentation and added examples; schema unchanged.
  paths:
    - path: requestBody.content.application/json.schema.allOf[0].properties.completion_args.properties.response_format.description
      before: 'An object specifying the format that the model must output. Setting to { "type": "json_object" } enables JSON mode, which guarantees the message the model generates is in JSON. When using JSON mode you MUST also instruct the model to produce JSON yourself with a system or a user message.'
      after: 'Specify the format that the model must output. By default it will use { "type": "text" }. Setting to { "type": "json_object" } enables JSON mode ... Setting to { "type": "json_schema" } enables JSON schema mode ...'
    - path: requestBody.content.application/json.schema.allOf[0].properties.completion_args.properties.response_format.examples
      before: 'null'
      after: '[{"type":"text"},{"type":"json_object"},{"type":"json_schema","json_schema":{"name":"book","schema":{...},"strict":true}}]'
  date: '2026-02-20'
- change: changed
  target: request
  breaking: false
  deprecated: false
  doc_only: true
  note: Added documentation for completion_args.prediction (behavioral description only).
  paths:
    - path: requestBody.content.application/json.schema.allOf[0].properties.completion_args.properties.prediction.description
      before: 'null'
      after: Enable users to specify an expected completion, optimizing response times by leveraging known or predictable content.
  date: '2026-02-20'
