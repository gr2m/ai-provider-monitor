- change: added
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: Added agent_version to select a specific agent version (string, integer, or null).
  paths:
    - path: $.requestBody.content.application/json.schema.allOf[0].properties.agent_version
      before: 'null'
      after: '{ anyOf: [{type:"string"},{type:"integer"},{type:"null"}], default: null, title: "Agent Version" }'
  date: '2026-02-20'
- change: added
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: Added metadata object for custom key/value metadata on the conversation.
  paths:
    - path: $.requestBody.content.application/json.schema.allOf[0].properties.metadata
      before: 'null'
      after: '{ anyOf: [{type:"object", additionalProperties: true, title:"MetadataDict"},{type:"null"}], default: null }'
  date: '2026-02-20'
- change: changed
  target: request
  breaking: true
  deprecated: false
  doc_only: false
  note: tools can no longer be null; the property, if present, must be an array (default null removed).
  paths:
    - path: $.requestBody.content.application/json.schema.allOf[0].properties.tools
      before: '{ anyOf: [{type:"array", items: ...}, {type:"null"}], default: null, title: "Tools" }'
      after: '{ type: "array", items: ..., title: "Tools", description: "List of tools which are available..." }'
  date: '2026-02-20'
- change: added
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: New thinking content chunk (ThinkChunk) allowed in MessageInputEntry content.
  paths:
    - path: $.requestBody.content.application/json.schema.allOf[0].properties.inputs.anyOf[1].items.anyOf[0].properties.content.anyOf[1].items.anyOf
      before: No 'thinking' chunk type in MessageInputContentChunks
      after: '''thinking'' chunk type (ThinkChunk) added with fields: thinking[], closed'
  date: '2026-02-20'
- change: added
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: New thinking content chunk (ThinkChunk) allowed in MessageOutputEntry content (when submitting output entries).
  paths:
    - path: $.requestBody.content.application/json.schema.allOf[0].properties.inputs.anyOf[1].items.anyOf[1].properties.content.anyOf[1].items.anyOf
      before: No 'thinking' chunk type in MessageOutputContentChunks
      after: '''thinking'' chunk type (ThinkChunk) added with fields: thinking[], closed'
  date: '2026-02-20'
- change: changed
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: ToolFileChunk.tool in MessageInput content now accepts custom tool names (string) in addition to built-ins.
  paths:
    - path: $.requestBody.content.application/json.schema.allOf[0].properties.inputs.anyOf[1].items.anyOf[0].properties.content.anyOf[1].items.anyOf[*].properties.tool
      before: 'enum: [web_search, web_search_premium, code_interpreter, image_generation, document_library]'
      after: 'anyOf: [same enum, string]'
  date: '2026-02-20'
- change: changed
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: ToolFileChunk.tool and ToolReferenceChunk.tool in MessageOutput content now accept custom tool names (string) in addition to built-ins.
  paths:
    - path: $.requestBody.content.application/json.schema.allOf[0].properties.inputs.anyOf[1].items.anyOf[1].properties.content.anyOf[1].items.anyOf[*].properties.tool
      before: 'enum: [web_search, web_search_premium, code_interpreter, image_generation, document_library]'
      after: 'anyOf: [same enum, string]'
  date: '2026-02-20'
- change: changed
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: ToolExecutionEntry.name now allows custom tool names (string) in addition to built-ins.
  paths:
    - path: $.requestBody.content.application/json.schema.allOf[0].properties.inputs.anyOf[1].items.anyOf[4].properties.name
      before: 'enum: [web_search, web_search_premium, code_interpreter, image_generation, document_library]'
      after: 'anyOf: [same enum, string]'
  date: '2026-02-20'
- change: changed
  target: request
  breaking: false
  deprecated: false
  doc_only: true
  note: Updated description and added examples for completion_args.response_format.
  paths:
    - path: $.requestBody.content.application/json.schema.allOf[0].properties.completion_args.anyOf[0].properties.response_format
      before: Shorter description; no examples
      after: Expanded description clarifying text/json_object/json_schema modes; examples added
  date: '2026-02-20'
- change: changed
  target: request
  breaking: false
  deprecated: false
  doc_only: true
  note: Updated description for completion_args.prediction to clarify purpose and behavior.
  paths:
    - path: $.requestBody.content.application/json.schema.allOf[0].properties.completion_args.anyOf[0].properties.prediction.anyOf[0]
      before: No/short description
      after: 'Description added: enables specifying an expected completion to optimize response times'
  date: '2026-02-20'
- change: changed
  target: response
  breaking: false
  deprecated: false
  doc_only: false
  note: usage.connectors now allows arbitrary connector keys instead of only predefined built-ins.
  paths:
    - path: $.responses["200"].content["text/event-stream"].schema.properties.data.oneOf[1].properties.usage.properties.connectors
      before: 'object with propertyNames restricted to built-in connector enums; additionalProperties: integer'
      after: 'object with additionalProperties: integer (no propertyNames restriction)'
  date: '2026-02-20'
- change: changed
  target: response
  breaking: true
  deprecated: false
  doc_only: false
  note: ToolExecutionStartedEvent.name may now be a custom string (not limited to built-ins).
  paths:
    - path: $.responses["200"].content["text/event-stream"].schema.properties.data.oneOf[3].properties.name
      before: 'enum: [web_search, web_search_premium, code_interpreter, image_generation, document_library]'
      after: 'anyOf: [same enum, string]'
  date: '2026-02-20'
- change: changed
  target: response
  breaking: true
  deprecated: false
  doc_only: false
  note: ToolExecutionDeltaEvent.name may now be a custom string (not limited to built-ins).
  paths:
    - path: $.responses["200"].content["text/event-stream"].schema.properties.data.oneOf[4].properties.name
      before: 'enum: [web_search, web_search_premium, code_interpreter, image_generation, document_library]'
      after: 'anyOf: [same enum, string]'
  date: '2026-02-20'
- change: changed
  target: response
  breaking: true
  deprecated: false
  doc_only: false
  note: ToolExecutionDoneEvent.name may now be a custom string (not limited to built-ins).
  paths:
    - path: $.responses["200"].content["text/event-stream"].schema.properties.data.oneOf[5].properties.name
      before: 'enum: [web_search, web_search_premium, code_interpreter, image_generation, document_library]'
      after: 'anyOf: [same enum, string]'
  date: '2026-02-20'
- change: added
  target: response
  breaking: true
  deprecated: false
  doc_only: false
  note: New thinking content chunk (ThinkChunk) can appear in streamed MessageOutputEvent content.
  paths:
    - path: $.responses["200"].content["text/event-stream"].schema.properties.data.oneOf[6].properties.content.anyOf[1].items.anyOf
      before: No 'thinking' chunk type in OutputContentChunks
      after: '''thinking'' chunk type (ThinkChunk) added with fields: thinking[], closed'
  date: '2026-02-20'
- change: changed
  target: response
  breaking: true
  deprecated: false
  doc_only: false
  note: In streamed MessageOutputEvent content, ToolFileChunk.tool and ToolReferenceChunk.tool may include custom tool names (string).
  paths:
    - path: $.responses["200"].content["text/event-stream"].schema.properties.data.oneOf[6].properties.content.anyOf[1].items.anyOf[*].properties.tool
      before: 'enum: [web_search, web_search_premium, code_interpreter, image_generation, document_library]'
      after: 'anyOf: [same enum, string]'
  date: '2026-02-20'
