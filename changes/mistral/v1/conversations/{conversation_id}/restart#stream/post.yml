- change: added
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: Added optional agent_version to select a specific agent version when restarting.
  paths:
    - path: requestBody.content.application/json.schema.allOf[0].properties.agent_version
      before: 'null'
      after: '{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"null"}],"description":"Specific version of the agent to use when restarting. If not provided, uses the current version.","title":"Agent Version"}'
  date: '2026-02-20'
- change: added
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: Added optional metadata object for custom conversation metadata.
  paths:
    - path: requestBody.content.application/json.schema.allOf[0].properties.metadata
      before: 'null'
      after: '{"anyOf":[{"additionalProperties":true,"description":"Custom type for metadata with embedded validation.","title":"MetadataDict","type":"object"},{"type":"null"}],"description":"Custom metadata for the conversation."}'
  date: '2026-02-20'
- change: changed
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: Broadened tool fields in content chunks to allow custom tool identifiers (string) in addition to built-in enum.
  paths:
    - path: requestBody.content.application/json.schema.allOf[0].properties.inputs.anyOf[1].items.anyOf[0].properties.content.anyOf[1].items.anyOf[ToolFileChunk].properties.tool
      before: '{"enum":["web_search","web_search_premium","code_interpreter","image_generation","document_library"],"title":"BuiltInConnectors","type":"string"}'
      after: '{"anyOf":[{"enum":["web_search","web_search_premium","code_interpreter","image_generation","document_library"],"title":"BuiltInConnectors","type":"string"},{"type":"string"}],"title":"Tool"}'
    - path: requestBody.content.application/json.schema.allOf[0].properties.inputs.anyOf[1].items.anyOf[1].properties.content.anyOf[1].items.anyOf[ToolFileChunk].properties.tool
      before: '{"enum":["web_search","web_search_premium","code_interpreter","image_generation","document_library"],"title":"BuiltInConnectors","type":"string"}'
      after: '{"anyOf":[{"enum":["web_search","web_search_premium","code_interpreter","image_generation","document_library"],"title":"BuiltInConnectors","type":"string"},{"type":"string"}],"title":"Tool"}'
    - path: requestBody.content.application/json.schema.allOf[0].properties.inputs.anyOf[1].items.anyOf[1].properties.content.anyOf[1].items.anyOf[ToolReferenceChunk].properties.tool
      before: '{"enum":["web_search","web_search_premium","code_interpreter","image_generation","document_library"],"title":"BuiltInConnectors","type":"string"}'
      after: '{"anyOf":[{"enum":["web_search","web_search_premium","code_interpreter","image_generation","document_library"],"title":"BuiltInConnectors","type":"string"},{"type":"string"}],"title":"Tool"}'
  date: '2026-02-20'
- change: changed
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: Broadened ToolExecutionEntry.name to allow custom tool names (string) in addition to built-in enum.
  paths:
    - path: requestBody.content.application/json.schema.allOf[0].properties.inputs.anyOf[1].items.anyOf[ToolExecutionEntry].properties.name
      before: '{"enum":["web_search","web_search_premium","code_interpreter","image_generation","document_library"],"title":"BuiltInConnectors","type":"string"}'
      after: '{"anyOf":[{"enum":["web_search","web_search_premium","code_interpreter","image_generation","document_library"],"title":"BuiltInConnectors","type":"string"},{"type":"string"}],"title":"Name"}'
  date: '2026-02-20'
- change: added
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: Added new content chunk type "thinking" (ThinkChunk) to MessageInputContentChunks and MessageOutputContentChunks.
  paths:
    - path: requestBody.content.application/json.schema.allOf[0].properties.inputs.anyOf[1].items.anyOf[0].properties.content.anyOf[1].items.anyOf
      before: (no ThinkChunk variant)
      after: '(includes ThinkChunk: {"title":"ThinkChunk","type":"object","properties":{"closed":{"type":"boolean"},"thinking":{"type":"array","items":[TextChunk|ReferenceChunk]}},"required":["thinking"],"properties.type.enum":["thinking"]})'
    - path: requestBody.content.application/json.schema.allOf[0].properties.inputs.anyOf[1].items.anyOf[1].properties.content.anyOf[1].items.anyOf
      before: (no ThinkChunk variant)
      after: '(includes ThinkChunk: {"title":"ThinkChunk","type":"object","properties":{"closed":{"type":"boolean"},"thinking":{"type":"array","items":[TextChunk|ReferenceChunk]}},"required":["thinking"],"properties.type.enum":["thinking"]})'
  date: '2026-02-20'
- change: changed
  target: response
  breaking: true
  deprecated: false
  doc_only: false
  note: Broadened tool fields in streamed message output content chunks to allow custom tool identifiers (string).
  paths:
    - path: responses.200.content.text/event-stream.schema.properties.data.oneOf[MessageOutputEvent].properties.content.anyOf.items.anyOf[ToolFileChunk].properties.tool
      before: '{"enum":["web_search","web_search_premium","code_interpreter","image_generation","document_library"],"title":"BuiltInConnectors","type":"string"}'
      after: '{"anyOf":[{"enum":["web_search","web_search_premium","code_interpreter","image_generation","document_library"],"title":"BuiltInConnectors","type":"string"},{"type":"string"}],"title":"Tool"}'
    - path: responses.200.content.text/event-stream.schema.properties.data.oneOf[MessageOutputEvent].properties.content.anyOf.items.anyOf[ToolReferenceChunk].properties.tool
      before: '{"enum":["web_search","web_search_premium","code_interpreter","image_generation","document_library"],"title":"BuiltInConnectors","type":"string"}'
      after: '{"anyOf":[{"enum":["web_search","web_search_premium","code_interpreter","image_generation","document_library"],"title":"BuiltInConnectors","type":"string"},{"type":"string"}],"title":"Tool"}'
  date: '2026-02-20'
- change: changed
  target: response
  breaking: true
  deprecated: false
  doc_only: false
  note: Broadened tool name fields in ToolExecution events to allow custom strings (not limited to built-ins).
  paths:
    - path: responses.200.content.text/event-stream.schema.properties.data.oneOf[ToolExecutionStartedEvent].properties.name
      before: '{"enum":["web_search","web_search_premium","code_interpreter","image_generation","document_library"],"title":"BuiltInConnectors","type":"string"}'
      after: '{"anyOf":[{"enum":["web_search","web_search_premium","code_interpreter","image_generation","document_library"],"title":"BuiltInConnectors","type":"string"},{"type":"string"}],"title":"Name"}'
    - path: responses.200.content.text/event-stream.schema.properties.data.oneOf[ToolExecutionDeltaEvent].properties.name
      before: '{"enum":["web_search","web_search_premium","code_interpreter","image_generation","document_library"],"title":"BuiltInConnectors","type":"string"}'
      after: '{"anyOf":[{"enum":["web_search","web_search_premium","code_interpreter","image_generation","document_library"],"title":"BuiltInConnectors","type":"string"},{"type":"string"}],"title":"Name"}'
    - path: responses.200.content.text/event-stream.schema.properties.data.oneOf[ToolExecutionDoneEvent].properties.name
      before: '{"enum":["web_search","web_search_premium","code_interpreter","image_generation","document_library"],"title":"BuiltInConnectors","type":"string"}'
      after: '{"anyOf":[{"enum":["web_search","web_search_premium","code_interpreter","image_generation","document_library"],"title":"BuiltInConnectors","type":"string"},{"type":"string"}],"title":"Name"}'
  date: '2026-02-20'
- change: added
  target: response
  breaking: true
  deprecated: false
  doc_only: false
  note: Added new "thinking" (ThinkChunk) type to streamed MessageOutputEvent content chunks.
  paths:
    - path: responses.200.content.text/event-stream.schema.properties.data.oneOf[MessageOutputEvent].properties.content.anyOf.items.anyOf
      before: (no ThinkChunk variant)
      after: '(includes ThinkChunk: {"title":"ThinkChunk","type":"object","properties":{"closed":{"type":"boolean"},"thinking":{"type":"array","items":[TextChunk|ReferenceChunk]}},"required":["thinking"],"properties.type.enum":["thinking"]})'
  date: '2026-02-20'
- change: changed
  target: response
  breaking: false
  deprecated: false
  doc_only: false
  note: Relaxed usage.connectors schema to allow any connector keys, not just built-in names.
  paths:
    - path: responses.200.content.text/event-stream.schema.properties.data.oneOf[ResponseDoneEvent].properties.usage.properties.connectors
      before: '{"anyOf":[{"additionalProperties":{"type":"integer"},"propertyNames":{"enum":["web_search","web_search_premium","code_interpreter","image_generation","document_library"],"title":"BuiltInConnectors","type":"string"},"type":"object"},{"type":"null"}],"default":null,"title":"Connectors"}'
      after: '{"anyOf":[{"additionalProperties":{"type":"integer"},"type":"object"},{"type":"null"}],"default":null,"title":"Connectors"}'
  date: '2026-02-20'
- change: changed
  target: request
  breaking: false
  deprecated: false
  doc_only: true
  note: Updated docs for completion_args.prediction with a clearer description.
  paths:
    - path: requestBody.content.application/json.schema.allOf[0].properties.completion_args.properties.prediction.description
      before: 'null'
      after: Enable users to specify an expected completion, optimizing response times by leveraging known or predictable content.
  date: '2026-02-20'
- change: changed
  target: request
  breaking: false
  deprecated: false
  doc_only: true
  note: Updated completion_args.response_format docs and added examples; behavior unchanged.
  paths:
    - path: requestBody.content.application/json.schema.allOf[0].properties.completion_args.properties.response_format.description
      before: 'An object specifying the format that the model must output. Setting to `{ "type": "json_object" }` enables JSON mode, which guarantees the message the model generates is in JSON. When using JSON mode you MUST also instruct the model to produce JSON yourself with a system or a user message.'
      after: 'Specify the format that the model must output. By default it will use `{ "type": "text" }`. Setting to `{ "type": "json_object" }` enables JSON mode, which guarantees the message the model generates is in JSON. When using JSON mode you MUST also instruct the model to produce JSON yourself with a system or a user message. Setting to `{ "type": "json_schema" }` enables JSON schema mode, which guarantees the message the model generates is in JSON and follows the schema you provide.'
    - path: requestBody.content.application/json.schema.allOf[0].properties.completion_args.properties.response_format.examples
      before: 'null'
      after: '[{"type":"text"},{"type":"json_object"},{"type":"json_schema","json_schema":{"name":"book","schema":{"type":"object","title":"Book","additionalProperties":false,"properties":{"name":{"type":"string","title":"Name"},"authors":{"type":"array","title":"Authors","items":{"type":"string"}}},"required":["name","authors"]},"strict":true}}]'
  date: '2026-02-20'
