- change: added
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: Added optional agent_version to select a specific agent version when restarting.
  paths:
    - path: $.requestBody.content.application/json.schema.allOf[0].properties.agent_version
      before: 'null'
      after: string | integer | null
  date: '2026-02-20'
- change: added
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: Added optional metadata field for custom conversation metadata.
  paths:
    - path: $.requestBody.content.application/json.schema.allOf[0].properties.metadata
      before: 'null'
      after: object | null
  date: '2026-02-20'
- change: added
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: Added structured thinking content (ThinkChunk) to message content arrays in requests (for both MessageInputEntry and MessageOutputEntry content).
  paths:
    - path: $.requestBody.content.application/json.schema.allOf[0].properties.inputs.anyOf[1].items.anyOf[0].properties.content.anyOf[1].items.anyOf
      before: TextChunk | ImageURLChunk | ToolFileChunk | DocumentURLChunk
      after: TextChunk | ImageURLChunk | ToolFileChunk | DocumentURLChunk | ThinkChunk
    - path: $.requestBody.content.application/json.schema.allOf[0].properties.inputs.anyOf[1].items.anyOf[1].properties.content.anyOf[1].items.anyOf
      before: TextChunk | ImageURLChunk | ToolFileChunk | DocumentURLChunk | ToolReferenceChunk
      after: TextChunk | ImageURLChunk | ToolFileChunk | DocumentURLChunk | ThinkChunk | ToolReferenceChunk
  date: '2026-02-20'
- change: added
  target: response
  breaking: true
  deprecated: false
  doc_only: false
  note: Responses may now include structured thinking content (ThinkChunk) in message content; clients must handle a new chunk type with type="thinking".
  paths:
    - path: $.responses.200.content.application/json.schema.properties.outputs.items.anyOf[0].properties.content.anyOf[1].items.anyOf
      before: TextChunk | ImageURLChunk | ToolFileChunk | DocumentURLChunk | ToolReferenceChunk
      after: TextChunk | ImageURLChunk | ToolFileChunk | DocumentURLChunk | ThinkChunk | ToolReferenceChunk
  date: '2026-02-20'
- change: changed
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: ToolFileChunk.tool now accepts any string (not only built-in connectors) in requests.
  paths:
    - path: $.requestBody.content.application/json.schema.allOf[0].properties.inputs.anyOf[1].items.anyOf[0].properties.content.anyOf[1].items.anyOf[ToolFileChunk].properties.tool
      before: enum{web_search, web_search_premium, code_interpreter, image_generation, document_library}
      after: string | enum{web_search, web_search_premium, code_interpreter, image_generation, document_library}
    - path: $.requestBody.content.application/json.schema.allOf[0].properties.inputs.anyOf[1].items.anyOf[1].properties.content.anyOf[1].items.anyOf[ToolFileChunk].properties.tool
      before: enum{web_search, web_search_premium, code_interpreter, image_generation, document_library}
      after: string | enum{web_search, web_search_premium, code_interpreter, image_generation, document_library}
  date: '2026-02-20'
- change: changed
  target: response
  breaking: true
  deprecated: false
  doc_only: false
  note: ToolFileChunk.tool in responses may now be any string (not only built-in connectors).
  paths:
    - path: $.responses.200.content.application/json.schema.properties.outputs.items.anyOf[0].properties.content.anyOf[1].items.anyOf[ToolFileChunk].properties.tool
      before: enum{web_search, web_search_premium, code_interpreter, image_generation, document_library}
      after: string | enum{web_search, web_search_premium, code_interpreter, image_generation, document_library}
  date: '2026-02-20'
- change: changed
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: ToolReferenceChunk.tool in requests now accepts any string (not only built-in connectors).
  paths:
    - path: $.requestBody.content.application/json.schema.allOf[0].properties.inputs.anyOf[1].items.anyOf[1].properties.content.anyOf[1].items.anyOf[ToolReferenceChunk].properties.tool
      before: enum{web_search, web_search_premium, code_interpreter, image_generation, document_library}
      after: string | enum{web_search, web_search_premium, code_interpreter, image_generation, document_library}
  date: '2026-02-20'
- change: changed
  target: response
  breaking: true
  deprecated: false
  doc_only: false
  note: ToolReferenceChunk.tool in responses may now be any string (not only built-in connectors).
  paths:
    - path: $.responses.200.content.application/json.schema.properties.outputs.items.anyOf[0].properties.content.anyOf[1].items.anyOf[ToolReferenceChunk].properties.tool
      before: enum{web_search, web_search_premium, code_interpreter, image_generation, document_library}
      after: string | enum{web_search, web_search_premium, code_interpreter, image_generation, document_library}
  date: '2026-02-20'
- change: changed
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: ToolExecutionEntry.name in requests now accepts any string (not only built-in connectors).
  paths:
    - path: $.requestBody.content.application/json.schema.allOf[0].properties.inputs.anyOf[1].items.anyOf[ToolExecutionEntry].properties.name
      before: enum{web_search, web_search_premium, code_interpreter, image_generation, document_library}
      after: string | enum{web_search, web_search_premium, code_interpreter, image_generation, document_library}
  date: '2026-02-20'
- change: changed
  target: response
  breaking: true
  deprecated: false
  doc_only: false
  note: ToolExecutionEntry.name in responses may now be any string (not only built-in connectors).
  paths:
    - path: $.responses.200.content.application/json.schema.properties.outputs.items.anyOf[ToolExecutionEntry].properties.name
      before: enum{web_search, web_search_premium, code_interpreter, image_generation, document_library}
      after: string | enum{web_search, web_search_premium, code_interpreter, image_generation, document_library}
  date: '2026-02-20'
- change: changed
  target: response
  breaking: true
  deprecated: false
  doc_only: false
  note: usage.connectors now allows arbitrary keys (not restricted to built-in connector names).
  paths:
    - path: $.responses.200.content.application/json.schema.properties.usage.properties.connectors
      before: 'object with propertyNames restricted to built-in connectors; values: integer'
      after: 'object with arbitrary keys; values: integer'
  date: '2026-02-20'
- change: changed
  target: request
  breaking: false
  deprecated: false
  doc_only: true
  note: completion_args.response_format description clarified and examples added (text/json_object/json_schema).
  paths:
    - path: $.requestBody.content.application/json.schema.allOf[0].properties.completion_args.properties.response_format.description
      before: 'An object specifying the format that the model must output. Setting to `{ "type": "json_object" }` enables JSON mode, which guarantees the message the model generates is in JSON. When using JSON mode you MUST also instruct the model to produce JSON yourself with a system or a user message.'
      after: 'Specify the format that the model must output. By default it will use `{ "type": "text" }`. Setting to `{ "type": "json_object" }` enables JSON mode, which guarantees the message the model generates is in JSON. When using JSON mode you MUST also instruct the model to produce JSON yourself with a system or a user message. Setting to `{ "type": "json_schema" }` enables JSON schema mode, which guarantees the message the model generates is in JSON and follows the schema you provide.'
    - path: $.requestBody.content.application/json.schema.allOf[0].properties.completion_args.properties.response_format.examples
      before: 'null'
      after: '[{"type":"text"},{"type":"json_object"},{"type":"json_schema","json_schema":{"name":"book","schema":{"type":"object","title":"Book","additionalProperties":false,"properties":{"name":{"type":"string","title":"Name"},"authors":{"type":"array","title":"Authors","items":{"type":"string"}}},"required":["name","authors"]},"strict":true}}]'
  date: '2026-02-20'
- change: changed
  target: request
  breaking: false
  deprecated: false
  doc_only: true
  note: completion_args.prediction now documented with a description (no structural change).
  paths:
    - path: $.requestBody.content.application/json.schema.allOf[0].properties.completion_args.properties.prediction.description
      before: 'null'
      after: Enable users to specify an expected completion, optimizing response times by leveraging known or predictable content.
  date: '2026-02-20'
