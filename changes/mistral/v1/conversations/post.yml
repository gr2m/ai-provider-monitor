- change: added
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: Added agent_version field to ConversationRequest (string | integer | null).
  paths:
    - path: $.requestBody.content.application/json.schema.allOf[0].properties.agent_version
      before: 'null'
      after: '{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"null"}],"default":null}'
  date: '2026-02-20'
- change: added
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: Added metadata field to ConversationRequest for custom key-value metadata.
  paths:
    - path: $.requestBody.content.application/json.schema.allOf[0].properties.metadata
      before: 'null'
      after: '{"anyOf":[{"type":"object","additionalProperties":true},{"type":"null"}],"default":null}'
  date: '2026-02-20'
- change: added
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: Added 'thinking' content chunk type (ThinkChunk) to allowed message content in requests (user/assistant entries).
  paths:
    - path: $.requestBody.content.application/json.schema.allOf[0].properties.inputs.anyOf[1].items.anyOf[0].properties.content.anyOf[1].items
      before: 'null'
      after: includes ThinkChunk (type="thinking") in MessageInputContentChunks
    - path: $.requestBody.content.application/json.schema.allOf[0].properties.inputs.anyOf[1].items.anyOf[1].properties.content.anyOf[1].items
      before: 'null'
      after: includes ThinkChunk (type="thinking") in MessageOutputContentChunks (when providing history)
  date: '2026-02-20'
- change: added
  target: response
  breaking: false
  deprecated: false
  doc_only: false
  note: Added 'thinking' content chunk type (ThinkChunk) to outputs in responses.
  paths:
    - path: $.responses.200.content.application/json.schema.properties.outputs.items.anyOf[0].properties.content.anyOf[1].items
      before: 'null'
      after: includes ThinkChunk (type="thinking") in MessageOutputContentChunks
  date: '2026-02-20'
- change: changed
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: Relaxed tool identifier fields to accept arbitrary strings in requests (in addition to built-in enums).
  paths:
    - path: $.requestBody.content.application/json.schema.allOf[0].properties.inputs.anyOf[1].items.anyOf[0].properties.content.anyOf[1].items[ToolFileChunk].properties.tool
      before: '{"enum":["web_search","web_search_premium","code_interpreter","image_generation","document_library"]}'
      after: '{"anyOf":[{"enum":["web_search","web_search_premium","code_interpreter","image_generation","document_library"]},{"type":"string"}]}'
    - path: $.requestBody.content.application/json.schema.allOf[0].properties.inputs.anyOf[1].items.anyOf[1].properties.content.anyOf[1].items[ToolFileChunk].properties.tool
      before: '{"enum":["web_search","web_search_premium","code_interpreter","image_generation","document_library"]}'
      after: '{"anyOf":[{"enum":["web_search","web_search_premium","code_interpreter","image_generation","document_library"]},{"type":"string"}]}'
    - path: $.requestBody.content.application/json.schema.allOf[0].properties.inputs.anyOf[1].items.anyOf[1].properties.content.anyOf[1].items[ToolReferenceChunk].properties.tool
      before: '{"enum":["web_search","web_search_premium","code_interpreter","image_generation","document_library"]}'
      after: '{"anyOf":[{"enum":["web_search","web_search_premium","code_interpreter","image_generation","document_library"]},{"type":"string"}]}'
    - path: $.requestBody.content.application/json.schema.allOf[0].properties.inputs.anyOf[1].items.anyOf[4].properties.name
      before: '{"enum":["web_search","web_search_premium","code_interpreter","image_generation","document_library"]}'
      after: '{"anyOf":[{"enum":["web_search","web_search_premium","code_interpreter","image_generation","document_library"]},{"type":"string"}]}'
  date: '2026-02-20'
- change: changed
  target: response
  breaking: false
  deprecated: false
  doc_only: false
  note: Relaxed tool identifier fields to accept arbitrary strings in responses (in addition to built-in enums).
  paths:
    - path: $.responses.200.content.application/json.schema.properties.outputs.items.anyOf[0].properties.content.anyOf[1].items[ToolFileChunk].properties.tool
      before: '{"enum":["web_search","web_search_premium","code_interpreter","image_generation","document_library"]}'
      after: '{"anyOf":[{"enum":["web_search","web_search_premium","code_interpreter","image_generation","document_library"]},{"type":"string"}]}'
    - path: $.responses.200.content.application/json.schema.properties.outputs.items.anyOf[0].properties.content.anyOf[1].items[ToolReferenceChunk].properties.tool
      before: '{"enum":["web_search","web_search_premium","code_interpreter","image_generation","document_library"]}'
      after: '{"anyOf":[{"enum":["web_search","web_search_premium","code_interpreter","image_generation","document_library"]},{"type":"string"}]}'
    - path: $.responses.200.content.application/json.schema.properties.outputs.items.anyOf[1].properties.name
      before: '{"enum":["web_search","web_search_premium","code_interpreter","image_generation","document_library"]}'
      after: '{"anyOf":[{"enum":["web_search","web_search_premium","code_interpreter","image_generation","document_library"]},{"type":"string"}]}'
  date: '2026-02-20'
- change: changed
  target: request
  breaking: true
  deprecated: false
  doc_only: false
  note: tools no longer accepts null; must be an array if provided.
  paths:
    - path: $.requestBody.content.application/json.schema.allOf[0].properties.tools
      before: '{"anyOf":[{"type":"array"},{"type":"null"}],"default":null}'
      after: '{"type":"array"}'
  date: '2026-02-20'
- change: changed
  target: request
  breaking: false
  deprecated: false
  doc_only: true
  note: 'Documentation updates: added description to completion_args.prediction; moved/expanded response_format description and added examples; removed old description from response_format.type; added description for tools property.'
  paths:
    - path: $.requestBody.content.application/json.schema.allOf[0].properties.completion_args.anyOf[0].properties.prediction.anyOf[0].description
      before: 'null'
      after: Enable users to specify an expected completion, optimizing response times by leveraging known or predictable content.
    - path: $.requestBody.content.application/json.schema.allOf[0].properties.completion_args.anyOf[0].properties.response_format.anyOf[0].description
      before: 'null'
      after: 'Specify the format that the model must output. By default it will use `{ "type": "text" }`. Setting to `{ "type": "json_object" }` enables JSON mode, which guarantees the message the model generates is in JSON. When using JSON mode you MUST also instruct the model to produce JSON yourself with a system or a user message. Setting to `{ "type": "json_schema" }` enables JSON schema mode, which guarantees the message the model generates is in JSON and follows the schema you provide.'
    - path: $.requestBody.content.application/json.schema.allOf[0].properties.completion_args.anyOf[0].properties.response_format.anyOf[0].examples
      before: 'null'
      after: '[{"type":"text"},{"type":"json_object"},{"type":"json_schema","json_schema":{"name":"book","schema":{"type":"object","title":"Book","additionalProperties":false,"required":["name","authors"],"properties":{"name":{"type":"string","title":"Name"},"authors":{"type":"array","title":"Authors","items":{"type":"string"}}}},"strict":true}}]'
    - path: $.requestBody.content.application/json.schema.allOf[0].properties.completion_args.anyOf[0].properties.response_format.anyOf[0].properties.type.description
      before: 'An object specifying the format that the model must output. Setting to `{ "type": "json_object" }` enables JSON mode, which guarantees the message the model generates is in JSON. When using JSON mode you MUST also instruct the model to produce JSON yourself with a system or a user message.'
      after: 'null'
    - path: $.requestBody.content.application/json.schema.allOf[0].properties.tools.description
      before: 'null'
      after: List of tools which are available to the model during the conversation.
  date: '2026-02-20'
- change: changed
  target: response
  breaking: false
  deprecated: false
  doc_only: false
  note: usage.connectors now allows arbitrary connector keys (removed propertyNames restriction).
  paths:
    - path: $.responses.200.content.application/json.schema.properties.usage.properties.connectors.anyOf[0]
      before: '{"additionalProperties":{"type":"integer"},"propertyNames":{"enum":["web_search","web_search_premium","code_interpreter","image_generation","document_library"]},"type":"object"}'
      after: '{"additionalProperties":{"type":"integer"},"type":"object"}'
  date: '2026-02-20'
