- change: changed
  target: route
  breaking: false
  deprecated: false
  doc_only: true
  note: Updated docs links in route description to absolute https URLs.
  paths:
    - path: description
      before: ... [user guide](/en/docs/build-with-claude/batch-processing)
      after: ... [user guide](https://docs.claude.com/en/docs/build-with-claude/batch-processing)
  date: '2026-02-20'
- change: changed
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: Increased maximum number of requests per batch from 10,000 to 100,000.
  paths:
    - path: requestBody.content.application/json.schema.properties.requests.maxItems
      before: '10000'
      after: '100000'
  date: '2026-02-20'
- change: added
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: Added top-level cache_control to Message create params (applies to last cacheable block automatically).
  paths:
    - path: requestBody.content.application/json.schema.properties.requests.items.properties.params.properties.cache_control
      before: 'null'
      after: present
  date: '2026-02-20'
- change: added
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: Added container identifier to reuse container across requests.
  paths:
    - path: requestBody.content.application/json.schema.properties.requests.items.properties.params.properties.container
      before: 'null'
      after: present
  date: '2026-02-20'
- change: added
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: Added inference_geo to specify geographic region for inference.
  paths:
    - path: requestBody.content.application/json.schema.properties.requests.items.properties.params.properties.inference_geo
      before: 'null'
      after: present
  date: '2026-02-20'
- change: added
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: Added output_config for response formatting (effort, JSON schema output).
  paths:
    - path: requestBody.content.application/json.schema.properties.requests.items.properties.params.properties.output_config
      before: 'null'
      after: present
  date: '2026-02-20'
- change: added
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: Thinking config now supports adaptive mode in addition to enabled/disabled.
  paths:
    - path: requestBody.content.application/json.schema.properties.requests.items.properties.params.properties.thinking.oneOf[type=adaptive]
      before: 'null'
      after: present
  date: '2026-02-20'
- change: added
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: 'Expanded allowed message content blocks: added web_fetch_tool_result, code_execution_tool_result, bash_code_execution_tool_result, text_editor_code_execution_tool_result, tool_search_tool_result, container_upload; tool_result content now supports tool_reference blocks.'
  paths:
    - path: requestBody.content.application/json.schema.properties.requests.items.properties.params.properties.messages.items.properties.content.items.discriminator.mapping.web_fetch_tool_result
      before: 'null'
      after: '#/components/schemas/RequestWebFetchToolResultBlock'
    - path: requestBody.content.application/json.schema.properties.requests.items.properties.params.properties.messages.items.properties.content.items.discriminator.mapping.code_execution_tool_result
      before: 'null'
      after: '#/components/schemas/RequestCodeExecutionToolResultBlock'
    - path: requestBody.content.application/json.schema.properties.requests.items.properties.params.properties.messages.items.properties.content.items.discriminator.mapping.bash_code_execution_tool_result
      before: 'null'
      after: '#/components/schemas/RequestBashCodeExecutionToolResultBlock'
    - path: requestBody.content.application/json.schema.properties.requests.items.properties.params.properties.messages.items.properties.content.items.discriminator.mapping.text_editor_code_execution_tool_result
      before: 'null'
      after: '#/components/schemas/RequestTextEditorCodeExecutionToolResultBlock'
    - path: requestBody.content.application/json.schema.properties.requests.items.properties.params.properties.messages.items.properties.content.items.discriminator.mapping.tool_search_tool_result
      before: 'null'
      after: '#/components/schemas/RequestToolSearchToolResultBlock'
    - path: requestBody.content.application/json.schema.properties.requests.items.properties.params.properties.messages.items.properties.content.items.discriminator.mapping.container_upload
      before: 'null'
      after: '#/components/schemas/RequestContainerUploadBlock'
    - path: requestBody.content.application/json.schema.properties.requests.items.properties.params.properties.messages.items.properties.content.items.oneOf[*].properties.content.items.discriminator.mapping.tool_reference
      before: 'null'
      after: '#/components/schemas/RequestToolReferenceBlock'
  date: '2026-02-20'
- change: changed
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: server_tool_use name expanded from only 'web_search' to multiple names (web_search, web_fetch, code_execution, bash_code_execution, text_editor_code_execution, tool_search_tool_regex, tool_search_tool_bm25).
  paths:
    - path: requestBody.content.application/json.schema.properties.requests.items.properties.params.properties.messages.items.properties.content.items.oneOf[RequestServerToolUseBlock].properties.name
      before: 'const: web_search'
      after: 'enum: [web_search, web_fetch, code_execution, bash_code_execution, text_editor_code_execution, tool_search_tool_regex, tool_search_tool_bm25]'
  date: '2026-02-20'
- change: added
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: tool_use blocks now support an optional caller field indicating direct or server-tool-originated invocations.
  paths:
    - path: requestBody.content.application/json.schema.properties.requests.items.properties.params.properties.messages.items.properties.content.items.oneOf[RequestToolUseBlock].properties.caller
      before: 'null'
      after: present
  date: '2026-02-20'
- change: changed
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: Web search tool result error codes extended with request_too_large.
  paths:
    - path: requestBody.content.application/json.schema.properties.requests.items.properties.params.properties.messages.items.properties.content.items.oneOf[RequestWebSearchToolResultBlock].properties.content.oneOf[RequestWebSearchToolResultError].properties.error_code.enum
      before: '[invalid_tool_input, unavailable, max_uses_exceeded, too_many_requests, query_too_long]'
      after: '[invalid_tool_input, unavailable, max_uses_exceeded, too_many_requests, query_too_long, request_too_large]'
  date: '2026-02-20'
- change: added
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: 'Added new tool result block types: web_fetch_tool_result, code_execution_tool_result, bash_code_execution_tool_result, text_editor_code_execution_tool_result, tool_search_tool_result.'
  paths:
    - path: requestBody.content.application/json.schema.properties.requests.items.properties.params.properties.messages.items.properties.content.items.oneOf[RequestWebFetchToolResultBlock]
      before: 'null'
      after: present
    - path: requestBody.content.application/json.schema.properties.requests.items.properties.params.properties.messages.items.properties.content.items.oneOf[RequestCodeExecutionToolResultBlock]
      before: 'null'
      after: present
    - path: requestBody.content.application/json.schema.properties.requests.items.properties.params.properties.messages.items.properties.content.items.oneOf[RequestBashCodeExecutionToolResultBlock]
      before: 'null'
      after: present
    - path: requestBody.content.application/json.schema.properties.requests.items.properties.params.properties.messages.items.properties.content.items.oneOf[RequestTextEditorCodeExecutionToolResultBlock]
      before: 'null'
      after: present
    - path: requestBody.content.application/json.schema.properties.requests.items.properties.params.properties.messages.items.properties.content.items.oneOf[RequestToolSearchToolResultBlock]
      before: 'null'
      after: present
  date: '2026-02-20'
- change: added
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: Added container_upload content block to attach files to a container.
  paths:
    - path: requestBody.content.application/json.schema.properties.requests.items.properties.params.properties.messages.items.properties.content.items.oneOf[RequestContainerUploadBlock]
      before: 'null'
      after: present
  date: '2026-02-20'
- change: added
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: 'New model IDs supported: claude-opus-4-6, claude-sonnet-4-6, claude-opus-4-5, claude-opus-4-5-20251101.'
  paths:
    - path: requestBody.content.application/json.schema.properties.requests.items.properties.params.properties.model.anyOf[const=claude-opus-4-6]
      before: 'null'
      after: present
    - path: requestBody.content.application/json.schema.properties.requests.items.properties.params.properties.model.anyOf[const=claude-sonnet-4-6]
      before: 'null'
      after: present
    - path: requestBody.content.application/json.schema.properties.requests.items.properties.params.properties.model.anyOf[const=claude-opus-4-5]
      before: 'null'
      after: present
    - path: requestBody.content.application/json.schema.properties.requests.items.properties.params.properties.model.anyOf[const=claude-opus-4-5-20251101]
      before: 'null'
      after: present
  date: '2026-02-20'
- change: changed
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: Marked some older models as deprecated (e.g., claude-3-5-haiku-latest, claude-3-5-haiku-20241022).
  paths:
    - path: requestBody.content.application/json.schema.properties.requests.items.properties.params.properties.model.anyOf[const=claude-3-5-haiku-latest].deprecated
      before: 'null'
      after: 'true'
    - path: requestBody.content.application/json.schema.properties.requests.items.properties.params.properties.model.anyOf[const=claude-3-5-haiku-20241022].deprecated
      before: 'null'
      after: 'true'
  date: '2026-02-20'
- change: added
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: 'Expanded tool definitions: added code_execution (multiple versions), memory, web_fetch (multiple versions), web_search_20260209, tool_search_tool_{regex,bm25}; added tool metadata fields (allowed_callers, defer_loading, input_examples, strict, eager_input_streaming) across tools/custom tools.'
  paths:
    - path: requestBody.content.application/json.schema.properties.requests.items.properties.params.properties.tools.items.oneOf[CodeExecutionTool_20250522]
      before: 'null'
      after: present
    - path: requestBody.content.application/json.schema.properties.requests.items.properties.params.properties.tools.items.oneOf[CodeExecutionTool_20250825]
      before: 'null'
      after: present
    - path: requestBody.content.application/json.schema.properties.requests.items.properties.params.properties.tools.items.oneOf[CodeExecutionTool_20260120]
      before: 'null'
      after: present
    - path: requestBody.content.application/json.schema.properties.requests.items.properties.params.properties.tools.items.oneOf[MemoryTool_20250818]
      before: 'null'
      after: present
    - path: requestBody.content.application/json.schema.properties.requests.items.properties.params.properties.tools.items.oneOf[WebFetchTool_20250910]
      before: 'null'
      after: present
    - path: requestBody.content.application/json.schema.properties.requests.items.properties.params.properties.tools.items.oneOf[WebFetchTool_20260209]
      before: 'null'
      after: present
    - path: requestBody.content.application/json.schema.properties.requests.items.properties.params.properties.tools.items.oneOf[WebSearchTool_20260209]
      before: 'null'
      after: present
    - path: requestBody.content.application/json.schema.properties.requests.items.properties.params.properties.tools.items.oneOf[ToolSearchToolRegex_20251119]
      before: 'null'
      after: present
    - path: requestBody.content.application/json.schema.properties.requests.items.properties.params.properties.tools.items.oneOf[ToolSearchToolBM25_20251119]
      before: 'null'
      after: present
    - path: requestBody.content.application/json.schema.properties.requests.items.properties.params.properties.tools.items.oneOf[Tool].properties.allowed_callers
      before: 'null'
      after: present
    - path: requestBody.content.application/json.schema.properties.requests.items.properties.params.properties.tools.items.oneOf[Tool].properties.defer_loading
      before: 'null'
      after: present
    - path: requestBody.content.application/json.schema.properties.requests.items.properties.params.properties.tools.items.oneOf[Tool].properties.input_examples
      before: 'null'
      after: present
    - path: requestBody.content.application/json.schema.properties.requests.items.properties.params.properties.tools.items.oneOf[Tool].properties.strict
      before: 'null'
      after: present
    - path: requestBody.content.application/json.schema.properties.requests.items.properties.params.properties.tools.items.oneOf[Tool].properties.eager_input_streaming
      before: 'null'
      after: present
  date: '2026-02-20'
- change: changed
  target: response
  breaking: false
  deprecated: false
  doc_only: false
  note: Success response 'type' schema simplified to const only (enum removed).
  paths:
    - path: responses.200.content.application/json.schema.properties.type.enum
      before: '["message_batch"]'
      after: 'null'
  date: '2026-02-20'
- change: changed
  target: response
  breaking: false
  deprecated: false
  doc_only: false
  note: Error response schemas simplified to const-only for type fields (removed enum).
  paths:
    - path: responses.4XX.content.application/json.schema.properties.type.enum
      before: '["error"]'
      after: 'null'
    - path: responses.4XX.content.application/json.schema.properties.error.oneOf[InvalidRequestError].properties.type.enum
      before: '["invalid_request_error"]'
      after: 'null'
  date: '2026-02-20'
- change: changed
  target: request
  breaking: false
  deprecated: false
  doc_only: true
  note: Updated various documentation links and examples (e.g., Messages API URL, example model id).
  paths:
    - path: requestBody.content.application/json.schema.properties.requests.items.properties.params.example.model
      before: claude-sonnet-4-5-20250929
      after: claude-opus-4-6
    - path: requestBody.content.application/json.schema.properties.requests.items.properties.params.description
      before: ... [Messages API reference](/en/api/messages) ...
      after: ... [Messages API reference](https://docs.claude.com/en/api/messages) ...
  date: '2026-02-20'
