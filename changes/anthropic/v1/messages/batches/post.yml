- change: changed
  target: route
  breaking: false
  deprecated: false
  doc_only: true
  note: Updated route description doc link to absolute URL
  paths:
    - path: $.description
      before: ...user guide](/en/docs/build-with-claude/batch-processing)
      after: ...user guide](https://docs.claude.com/en/docs/build-with-claude/batch-processing)
  date: '2026-02-20'
- change: changed
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: Increased maximum requests per batch from 10,000 to 100,000
  paths:
    - path: $.requestBody.content.application/json.schema.properties.requests.maxItems
      before: '10000'
      after: '100000'
  date: '2026-02-20'
- change: added
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: Added top-level cache_control for message params
  paths:
    - path: $.requestBody.content.application/json.schema.properties.requests.items.properties.params.properties.cache_control
      before: 'null'
      after: '{ anyOf: [CacheControlEphemeral, null], description: Top-level cache control... }'
  date: '2026-02-20'
- change: added
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: Added container identifier field for reuse across requests
  paths:
    - path: $.requestBody.content.application/json.schema.properties.requests.items.properties.params.properties.container
      before: 'null'
      after: '{ anyOf: [string, null], description: Container identifier... }'
  date: '2026-02-20'
- change: added
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: Added inference_geo to select geographic region for inference
  paths:
    - path: $.requestBody.content.application/json.schema.properties.requests.items.properties.params.properties.inference_geo
      before: 'null'
      after: '{ anyOf: [string, null], description: Specifies the geographic region... }'
  date: '2026-02-20'
- change: added
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: Added output_config to control response formatting (effort, JSON schema output)
  paths:
    - path: $.requestBody.content.application/json.schema.properties.requests.items.properties.params.properties.output_config
      before: 'null'
      after: '{ properties: {effort, format(json_schema)}, type: object }'
  date: '2026-02-20'
- change: added
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: Thinking config now supports an adaptive mode
  paths:
    - path: $.requestBody.content.application/json.schema.properties.requests.items.properties.params.properties.thinking.discriminator.mapping.adaptive
      before: 'null'
      after: '#/components/schemas/ThinkingConfigAdaptive'
    - path: $.requestBody.content.application/json.schema.properties.requests.items.properties.params.properties.thinking.oneOf[*].properties.type.const
      before: disabled|enabled
      after: disabled|enabled|adaptive
  date: '2026-02-20'
- change: added
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: Added new message content block types (container_upload, web_fetch_tool_result, code_execution_tool_result, bash_code_execution_tool_result, text_editor_code_execution_tool_result, tool_search_tool_result)
  paths:
    - path: $.requestBody.content.application/json.schema.properties.requests.items.properties.params.properties.messages.items.properties.content.anyOf[1].items.discriminator.mapping.container_upload
      before: 'null'
      after: '#/components/schemas/RequestContainerUploadBlock'
    - path: $.requestBody.content.application/json.schema.properties.requests.items.properties.params.properties.messages.items.properties.content.anyOf[1].items.discriminator.mapping.web_fetch_tool_result
      before: 'null'
      after: '#/components/schemas/RequestWebFetchToolResultBlock'
    - path: $.requestBody.content.application/json.schema.properties.requests.items.properties.params.properties.messages.items.properties.content.anyOf[1].items.discriminator.mapping.code_execution_tool_result
      before: 'null'
      after: '#/components/schemas/RequestCodeExecutionToolResultBlock'
    - path: $.requestBody.content.application/json.schema.properties.requests.items.properties.params.properties.messages.items.properties.content.anyOf[1].items.discriminator.mapping.bash_code_execution_tool_result
      before: 'null'
      after: '#/components/schemas/RequestBashCodeExecutionToolResultBlock'
    - path: $.requestBody.content.application/json.schema.properties.requests.items.properties.params.properties.messages.items.properties.content.anyOf[1].items.discriminator.mapping.text_editor_code_execution_tool_result
      before: 'null'
      after: '#/components/schemas/RequestTextEditorCodeExecutionToolResultBlock'
    - path: $.requestBody.content.application/json.schema.properties.requests.items.properties.params.properties.messages.items.properties.content.anyOf[1].items.discriminator.mapping.tool_search_tool_result
      before: 'null'
      after: '#/components/schemas/RequestToolSearchToolResultBlock'
  date: '2026-02-20'
- change: added
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: tool_use blocks now support a caller field (direct or server tool caller)
  paths:
    - path: $.requestBody.content.application/json.schema.properties.requests.items.properties.params.properties.messages.items.properties.content.anyOf[1].items.oneOf[*].title=RequestToolUseBlock.properties.caller
      before: 'null'
      after: '{ discriminator on type: direct | code_execution_20250825 | code_execution_20260120 }'
  date: '2026-02-20'
- change: added
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: server_tool_use blocks now support a caller field
  paths:
    - path: $.requestBody.content.application/json.schema.properties.requests.items.properties.params.properties.messages.items.properties.content.anyOf[1].items.oneOf[*].title=RequestServerToolUseBlock.properties.caller
      before: 'null'
      after: '{ discriminator on type: direct | code_execution_20250825 | code_execution_20260120 }'
  date: '2026-02-20'
- change: changed
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: Expanded server_tool_use name from a single value to multiple supported server tools
  paths:
    - path: $.requestBody.content.application/json.schema.properties.requests.items.properties.params.properties.messages.items.properties.content.anyOf[1].items.oneOf[*].title=RequestServerToolUseBlock.properties.name
      before: '{ const: "web_search" }'
      after: '{ enum: ["web_search","web_fetch","code_execution","bash_code_execution","text_editor_code_execution","tool_search_tool_regex","tool_search_tool_bm25"] }'
  date: '2026-02-20'
- change: added
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: tool_result content can now include tool_reference blocks
  paths:
    - path: $.requestBody.content.application/json.schema.properties.requests.items.properties.params.properties.messages.items.properties.content.anyOf[1].items.oneOf[*].title=RequestToolResultBlock.properties.content.items.discriminator.mapping.tool_reference
      before: 'null'
      after: '#/components/schemas/RequestToolReferenceBlock'
  date: '2026-02-20'
- change: added
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: Added Web Fetch tool result (success and error variants)
  paths:
    - path: $.requestBody.content.application/json.schema.properties.requests.items.properties.params.properties.messages.items.properties.content.anyOf[1].items.discriminator.mapping.web_fetch_tool_result
      before: 'null'
      after: '#/components/schemas/RequestWebFetchToolResultBlock'
  date: '2026-02-20'
- change: added
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: Added Code Execution, Bash Code Execution, and Text Editor Code Execution tool result blocks
  paths:
    - path: $.requestBody.content.application/json.schema.properties.requests.items.properties.params.properties.messages.items.properties.content.anyOf[1].items.discriminator.mapping.code_execution_tool_result
      before: 'null'
      after: '#/components/schemas/RequestCodeExecutionToolResultBlock'
    - path: $.requestBody.content.application/json.schema.properties.requests.items.properties.params.properties.messages.items.properties.content.anyOf[1].items.discriminator.mapping.bash_code_execution_tool_result
      before: 'null'
      after: '#/components/schemas/RequestBashCodeExecutionToolResultBlock'
    - path: $.requestBody.content.application/json.schema.properties.requests.items.properties.params.properties.messages.items.properties.content.anyOf[1].items.discriminator.mapping.text_editor_code_execution_tool_result
      before: 'null'
      after: '#/components/schemas/RequestTextEditorCodeExecutionToolResultBlock'
  date: '2026-02-20'
- change: added
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: Added Tool Search tool result support with tool_references output
  paths:
    - path: $.requestBody.content.application/json.schema.properties.requests.items.properties.params.properties.messages.items.properties.content.anyOf[1].items.discriminator.mapping.tool_search_tool_result
      before: 'null'
      after: '#/components/schemas/RequestToolSearchToolResultBlock'
  date: '2026-02-20'
- change: added
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: Expanded tools catalog with new built-in tools (code_execution*, memory, web_fetch*, web_search_20260209, tool_search_tool_*)
  paths:
    - path: $.requestBody.content.application/json.schema.properties.requests.items.properties.params.properties.tools.items
      before: 'did not include: code_execution_20250522|20250825|20260120, memory_20250818, web_fetch_20250910|20260209, web_search_20260209, tool_search_tool_bm25(_20251119), tool_search_tool_regex(_20251119)'
      after: now includes the above tool types
  date: '2026-02-20'
- change: added
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: Tool definitions support new fields (allowed_callers, defer_loading, eager_input_streaming, input_examples, strict)
  paths:
    - path: $.requestBody.content.application/json.schema.properties.requests.items.properties.params.properties.tools.items.oneOf[0].properties.allowed_callers
      before: 'null'
      after: array<string> of allowed callers
    - path: $.requestBody.content.application/json.schema.properties.requests.items.properties.params.properties.tools.items.oneOf[0].properties.defer_loading
      before: 'null'
      after: boolean
    - path: $.requestBody.content.application/json.schema.properties.requests.items.properties.params.properties.tools.items.oneOf[0].properties.eager_input_streaming
      before: 'null'
      after: boolean|null
    - path: $.requestBody.content.application/json.schema.properties.requests.items.properties.params.properties.tools.items.oneOf[0].properties.input_examples
      before: 'null'
      after: array<object>
    - path: $.requestBody.content.application/json.schema.properties.requests.items.properties.params.properties.tools.items.oneOf[0].properties.strict
      before: 'null'
      after: boolean
  date: '2026-02-20'
- change: changed
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: Web search tool result error codes expanded to include request_too_large
  paths:
    - path: $.requestBody.content.application/json.schema.properties.requests.items.properties.params.properties.messages.items.properties.content.anyOf[1].items.oneOf[*].title=RequestWebSearchToolResultBlock.properties.content.oneOf[1].properties.error_code.enum
      before: '["invalid_tool_input","unavailable","max_uses_exceeded","too_many_requests","query_too_long"]'
      after: '["invalid_tool_input","unavailable","max_uses_exceeded","too_many_requests","query_too_long","request_too_large"]'
  date: '2026-02-20'
- change: added
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: New model IDs supported (e.g., claude-opus-4-6, claude-sonnet-4-6, claude-opus-4-5, claude-opus-4-5-20251101)
  paths:
    - path: $.requestBody.content.application/json.schema.properties.requests.items.properties.params.properties.model.anyOf
      before: 'did not include: "claude-opus-4-6","claude-sonnet-4-6","claude-opus-4-5","claude-opus-4-5-20251101"'
      after: now includes those constants
  date: '2026-02-20'
- change: changed
  target: request
  breaking: false
  deprecated: true
  doc_only: false
  note: Models claude-3-5-haiku-latest and claude-3-5-haiku-20241022 marked as deprecated
  paths:
    - path: $.requestBody.content.application/json.schema.properties.requests.items.properties.params.properties.model.anyOf[*]{const=="claude-3-5-haiku-latest"}.deprecated
      before: null or false
      after: 'true'
    - path: $.requestBody.content.application/json.schema.properties.requests.items.properties.params.properties.model.anyOf[*]{const=="claude-3-5-haiku-20241022"}.deprecated
      before: null or false
      after: 'true'
  date: '2026-02-20'
- change: changed
  target: request
  breaking: false
  deprecated: false
  doc_only: true
  note: Updated example model in params from claude-sonnet-4-5-20250929 to claude-opus-4-6
  paths:
    - path: $.requestBody.content.application/json.schema.properties.requests.items.properties.params.example.model
      before: '"claude-sonnet-4-5-20250929"'
      after: '"claude-opus-4-6"'
  date: '2026-02-20'
