- change: changed
  target: response
  breaking: false
  deprecated: false
  doc_only: true
  note: Updated user guide link in description to absolute URL.
  paths:
    - path: description
      before: |-
        Streams the results of a Message Batch as a `.jsonl` file.

        Each line in the file is a JSON object containing the result of a single request in the Message Batch. Results are not guaranteed to be in the same order as requests. Use the `custom_id` field to match results to requests.

        Learn more about the Message Batches API in our [user guide](/en/docs/build-with-claude/batch-processing)
      after: |-
        Streams the results of a Message Batch as a `.jsonl` file.

        Each line in the file is a JSON object containing the result of a single request in the Message Batch. Results are not guaranteed to be in the same order as requests. Use the `custom_id` field to match results to requests.

        Learn more about the Message Batches API in our [user guide](https://docs.claude.com/en/docs/build-with-claude/batch-processing)
  date: '2026-02-20'
- change: changed
  target: response
  breaking: false
  deprecated: false
  doc_only: true
  note: Example message model updated in examples (now shows claude-opus-4-6).
  paths:
    - path: responses.200.content.application/x-jsonl.schema.properties.result.oneOf[0].properties.message.examples[0].model
      before: claude-sonnet-4-5-20250929
      after: claude-opus-4-6
  date: '2026-02-20'
- change: added
  target: response
  breaking: false
  deprecated: false
  doc_only: false
  note: Added Message.container property (nullable) and included it in required fields.
  paths:
    - path: responses.200.content.application/x-jsonl.schema.properties.result.oneOf[0].properties.message.properties.container
      before: 'null'
      after: '{ anyOf: [Container, null], default: null }'
    - path: responses.200.content.application/x-jsonl.schema.properties.result.oneOf[0].properties.message.required
      before: '["id","type","role","content","model","stop_reason","stop_sequence","usage"]'
      after: '["id","type","role","content","model","stop_reason","stop_sequence","usage","container"]'
  date: '2026-02-20'
- change: added
  target: response
  breaking: true
  deprecated: false
  doc_only: false
  note: 'Added new response content block types: web_fetch_tool_result, code_execution_tool_result, bash_code_execution_tool_result, text_editor_code_execution_tool_result, tool_search_tool_result, container_upload.'
  paths:
    - path: responses.200.content.application/x-jsonl.schema.properties.result.oneOf[0].properties.message.properties.content.items.discriminator.mapping.web_fetch_tool_result
      before: 'null'
      after: '#/components/schemas/ResponseWebFetchToolResultBlock'
    - path: responses.200.content.application/x-jsonl.schema.properties.result.oneOf[0].properties.message.properties.content.items.discriminator.mapping.code_execution_tool_result
      before: 'null'
      after: '#/components/schemas/ResponseCodeExecutionToolResultBlock'
    - path: responses.200.content.application/x-jsonl.schema.properties.result.oneOf[0].properties.message.properties.content.items.discriminator.mapping.bash_code_execution_tool_result
      before: 'null'
      after: '#/components/schemas/ResponseBashCodeExecutionToolResultBlock'
    - path: responses.200.content.application/x-jsonl.schema.properties.result.oneOf[0].properties.message.properties.content.items.discriminator.mapping.text_editor_code_execution_tool_result
      before: 'null'
      after: '#/components/schemas/ResponseTextEditorCodeExecutionToolResultBlock'
    - path: responses.200.content.application/x-jsonl.schema.properties.result.oneOf[0].properties.message.properties.content.items.discriminator.mapping.tool_search_tool_result
      before: 'null'
      after: '#/components/schemas/ResponseToolSearchToolResultBlock'
    - path: responses.200.content.application/x-jsonl.schema.properties.result.oneOf[0].properties.message.properties.content.items.discriminator.mapping.container_upload
      before: 'null'
      after: '#/components/schemas/ResponseContainerUploadBlock'
  date: '2026-02-20'
- change: added
  target: response
  breaking: false
  deprecated: false
  doc_only: false
  note: Added 'caller' property to tool_use block and made it required.
  paths:
    - path: responses.200.content.application/x-jsonl.schema.properties.result.oneOf[0].properties.message.properties.content.items.oneOf[type=tool_use].properties.caller
      before: 'null'
      after: '{ oneOf: [DirectCaller, ServerToolCaller, ServerToolCaller_20260120], default: {type: "direct"} }'
    - path: responses.200.content.application/x-jsonl.schema.properties.result.oneOf[0].properties.message.properties.content.items.oneOf[type=tool_use].required
      before: '["id","input","name","type"]'
      after: '["caller","id","input","name","type"]'
  date: '2026-02-20'
- change: changed
  target: response
  breaking: false
  deprecated: false
  doc_only: false
  note: Expanded server_tool_use.name from only 'web_search' to multiple tool names.
  paths:
    - path: responses.200.content.application/x-jsonl.schema.properties.result.oneOf[0].properties.message.properties.content.items.oneOf[type=server_tool_use].properties.name.enum
      before: '["web_search"]'
      after: '["web_search","web_fetch","code_execution","bash_code_execution","text_editor_code_execution","tool_search_tool_regex","tool_search_tool_bm25"]'
  date: '2026-02-20'
- change: added
  target: response
  breaking: false
  deprecated: false
  doc_only: false
  note: Added 'caller' property to server_tool_use block and made it required.
  paths:
    - path: responses.200.content.application/x-jsonl.schema.properties.result.oneOf[0].properties.message.properties.content.items.oneOf[type=server_tool_use].properties.caller
      before: 'null'
      after: '{ oneOf: [DirectCaller, ServerToolCaller, ServerToolCaller_20260120], default: {type: "direct"} }'
    - path: responses.200.content.application/x-jsonl.schema.properties.result.oneOf[0].properties.message.properties.content.items.oneOf[type=server_tool_use].required
      before: '["id","input","name","type"]'
      after: '["caller","id","input","name","type"]'
  date: '2026-02-20'
- change: added
  target: response
  breaking: false
  deprecated: false
  doc_only: false
  note: Added 'caller' property to web_search_tool_result block and made it required.
  paths:
    - path: responses.200.content.application/x-jsonl.schema.properties.result.oneOf[0].properties.message.properties.content.items.oneOf[type=web_search_tool_result].properties.caller
      before: 'null'
      after: '{ oneOf: [DirectCaller, ServerToolCaller, ServerToolCaller_20260120], default: {type: "direct"} }'
    - path: responses.200.content.application/x-jsonl.schema.properties.result.oneOf[0].properties.message.properties.content.items.oneOf[type=web_search_tool_result].required
      before: '["content","tool_use_id","type"]'
      after: '["caller","content","tool_use_id","type"]'
  date: '2026-02-20'
- change: added
  target: response
  breaking: true
  deprecated: false
  doc_only: false
  note: Added new error code 'request_too_large' to web_search_tool_result error_code enum.
  paths:
    - path: responses.200.content.application/x-jsonl.schema.properties.result.oneOf[0].properties.message.properties.content.items.oneOf[type=web_search_tool_result].properties.content.anyOf[0].properties.error_code.enum
      before: '["invalid_tool_input","unavailable","max_uses_exceeded","too_many_requests","query_too_long"]'
      after: '["invalid_tool_input","unavailable","max_uses_exceeded","too_many_requests","query_too_long","request_too_large"]'
  date: '2026-02-20'
- change: added
  target: response
  breaking: false
  deprecated: false
  doc_only: false
  note: Added Usage.inference_geo (nullable string) and included it in required fields.
  paths:
    - path: responses.200.content.application/x-jsonl.schema.properties.result.oneOf[0].properties.message.properties.usage.properties.inference_geo
      before: 'null'
      after: '{ anyOf: [string, null], default: null }'
    - path: responses.200.content.application/x-jsonl.schema.properties.result.oneOf[0].properties.message.properties.usage.required
      before: '["cache_creation","cache_creation_input_tokens","cache_read_input_tokens","input_tokens","output_tokens","server_tool_use","service_tier"]'
      after: '["cache_creation","cache_creation_input_tokens","cache_read_input_tokens","inference_geo","input_tokens","output_tokens","server_tool_use","service_tier"]'
  date: '2026-02-20'
- change: added
  target: response
  breaking: false
  deprecated: false
  doc_only: false
  note: Added web_fetch_requests to Usage.server_tool_use and included it in required fields.
  paths:
    - path: responses.200.content.application/x-jsonl.schema.properties.result.oneOf[0].properties.message.properties.usage.properties.server_tool_use.properties.web_fetch_requests
      before: 'null'
      after: '{ type: integer, minimum: 0, default: 0 }'
    - path: responses.200.content.application/x-jsonl.schema.properties.result.oneOf[0].properties.message.properties.usage.properties.server_tool_use.required
      before: '["web_search_requests"]'
      after: '["web_fetch_requests","web_search_requests"]'
  date: '2026-02-20'
- change: added
  target: response
  breaking: false
  deprecated: false
  doc_only: false
  note: 'Added new allowed model IDs: claude-opus-4-6, claude-sonnet-4-6, claude-opus-4-5-20251101, claude-opus-4-5.'
  paths:
    - path: responses.200.content.application/x-jsonl.schema.properties.result.oneOf[0].properties.message.properties.model.anyOf (added)
      before: 'null'
      after: const=claude-opus-4-6
    - path: responses.200.content.application/x-jsonl.schema.properties.result.oneOf[0].properties.message.properties.model.anyOf (added)
      before: 'null'
      after: const=claude-sonnet-4-6
    - path: responses.200.content.application/x-jsonl.schema.properties.result.oneOf[0].properties.message.properties.model.anyOf (added)
      before: 'null'
      after: const=claude-opus-4-5-20251101
    - path: responses.200.content.application/x-jsonl.schema.properties.result.oneOf[0].properties.message.properties.model.anyOf (added)
      before: 'null'
      after: const=claude-opus-4-5
  date: '2026-02-20'
- change: changed
  target: response
  breaking: false
  deprecated: false
  doc_only: false
  note: 'Marked models deprecated: claude-3-5-haiku-latest, claude-3-5-haiku-20241022.'
  paths:
    - path: responses.200.content.application/x-jsonl.schema.properties.result.oneOf[0].properties.message.properties.model.anyOf[const=claude-3-5-haiku-latest].deprecated
      before: 'null'
      after: 'true'
    - path: responses.200.content.application/x-jsonl.schema.properties.result.oneOf[0].properties.message.properties.model.anyOf[const=claude-3-5-haiku-20241022].deprecated
      before: 'null'
      after: 'true'
  date: '2026-02-20'
