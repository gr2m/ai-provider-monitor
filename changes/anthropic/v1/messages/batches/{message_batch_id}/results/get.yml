- change: changed
  target: route
  breaking: false
  deprecated: false
  doc_only: true
  note: Updated user guide link in route description to a fully-qualified URL.
  paths:
    - path: description
      before: ...(/en/docs/build-with-claude/batch-processing)
      after: ...(https://docs.claude.com/en/docs/build-with-claude/batch-processing)
  date: '2026-02-20'
- change: changed
  target: response
  breaking: false
  deprecated: false
  doc_only: true
  note: 'Updated documented model IDs: added claude-opus-4-6, claude-sonnet-4-6, claude-opus-4-5, claude-opus-4-5-20251101; marked claude-3-5-haiku-latest and claude-3-5-haiku-20241022 as deprecated (model list remains non-restrictive due to generic string allowance).'
  paths:
    - path: responses.200.content.application/x-jsonl.schema.properties.result.oneOf[0].properties.message.properties.model.anyOf
      before: List without opus-4-6/sonnet-4-6; haiku 3.5 entries not deprecated
      after: List includes opus-4-6/sonnet-4-6/opus-4-5[-20251101]; haiku 3.5 entries deprecated
  date: '2026-02-20'
- change: added
  target: response
  breaking: true
  deprecated: false
  doc_only: false
  note: Added message.container (nullable) describing the container used (id, expires_at) and made it required.
  paths:
    - path: responses.200.content.application/x-jsonl.schema.properties.result.oneOf[0].properties.message.properties.container
      before: 'null'
      after: '{ expires_at: string(date-time), id: string } | null'
    - path: responses.200.content.application/x-jsonl.schema.properties.result.oneOf[0].properties.message.required
      before: '["id","type","role","content","model","stop_reason","stop_sequence","usage"]'
      after: '["id","type","role","content","model","stop_reason","stop_sequence","usage","container"]'
  date: '2026-02-20'
- change: added
  target: response
  breaking: true
  deprecated: false
  doc_only: false
  note: Added usage.inference_geo (nullable string) and included it in the required fields.
  paths:
    - path: responses.200.content.application/x-jsonl.schema.properties.result.oneOf[0].properties.message.properties.usage.properties.inference_geo
      before: 'null'
      after: string | null
    - path: responses.200.content.application/x-jsonl.schema.properties.result.oneOf[0].properties.message.properties.usage.required
      before: '["cache_creation","cache_creation_input_tokens","cache_read_input_tokens","input_tokens","output_tokens","server_tool_use","service_tier"]'
      after: '["cache_creation","cache_creation_input_tokens","cache_read_input_tokens","inference_geo","input_tokens","output_tokens","server_tool_use","service_tier"]'
  date: '2026-02-20'
- change: added
  target: response
  breaking: false
  deprecated: false
  doc_only: false
  note: Added server_tool_use.web_fetch_requests metric and updated required keys for this object.
  paths:
    - path: responses.200.content.application/x-jsonl.schema.properties.result.oneOf[0].properties.message.properties.usage.properties.server_tool_use.oneOf[0].properties.web_fetch_requests
      before: 'null'
      after: integer (>=0)
    - path: responses.200.content.application/x-jsonl.schema.properties.result.oneOf[0].properties.message.properties.usage.properties.server_tool_use.oneOf[0].required
      before: '["web_search_requests"]'
      after: '["web_fetch_requests","web_search_requests"]'
  date: '2026-02-20'
- change: added
  target: response
  breaking: false
  deprecated: false
  doc_only: false
  note: 'Added new content block types in message.content: web_fetch_tool_result, code_execution_tool_result (incl. encrypted variant), bash_code_execution_tool_result, text_editor_code_execution_tool_result, tool_search_tool_result, container_upload.'
  paths:
    - path: responses.200.content.application/x-jsonl.schema.properties.result.oneOf[0].properties.message.properties.content.items.discriminator.mapping.web_fetch_tool_result
      before: 'null'
      after: '#/components/schemas/ResponseWebFetchToolResultBlock'
    - path: responses.200.content.application/x-jsonl.schema.properties.result.oneOf[0].properties.message.properties.content.items.discriminator.mapping.code_execution_tool_result
      before: 'null'
      after: '#/components/schemas/ResponseCodeExecutionToolResultBlock'
    - path: responses.200.content.application/x-jsonl.schema.properties.result.oneOf[0].properties.message.properties.content.items.discriminator.mapping.bash_code_execution_tool_result
      before: 'null'
      after: '#/components/schemas/ResponseBashCodeExecutionToolResultBlock'
    - path: responses.200.content.application/x-jsonl.schema.properties.result.oneOf[0].properties.message.properties.content.items.discriminator.mapping.text_editor_code_execution_tool_result
      before: 'null'
      after: '#/components/schemas/ResponseTextEditorCodeExecutionToolResultBlock'
    - path: responses.200.content.application/x-jsonl.schema.properties.result.oneOf[0].properties.message.properties.content.items.discriminator.mapping.tool_search_tool_result
      before: 'null'
      after: '#/components/schemas/ResponseToolSearchToolResultBlock'
    - path: responses.200.content.application/x-jsonl.schema.properties.result.oneOf[0].properties.message.properties.content.items.discriminator.mapping.container_upload
      before: 'null'
      after: '#/components/schemas/ResponseContainerUploadBlock'
  date: '2026-02-20'
- change: added
  target: response
  breaking: true
  deprecated: false
  doc_only: false
  note: Added required property caller to tool_use content block (indicates direct vs server tool invocation).
  paths:
    - path: responses.200.content.application/x-jsonl.schema.properties.result.oneOf[0].properties.message.properties.content.items.oneOf[type=tool_use].properties.caller
      before: 'null'
      after: '{ type: ''direct'' | ''code_execution_20250825'' | ''code_execution_20260120'', tool_id?: string }'
    - path: responses.200.content.application/x-jsonl.schema.properties.result.oneOf[0].properties.message.properties.content.items.oneOf[type=tool_use].required
      before: '["id","input","name","type"]'
      after: '["caller","id","input","name","type"]'
  date: '2026-02-20'
- change: added
  target: response
  breaking: true
  deprecated: false
  doc_only: false
  note: Added required property caller to server_tool_use content block.
  paths:
    - path: responses.200.content.application/x-jsonl.schema.properties.result.oneOf[0].properties.message.properties.content.items.oneOf[type=server_tool_use].properties.caller
      before: 'null'
      after: '{ type: ''direct'' | ''code_execution_20250825'' | ''code_execution_20260120'', tool_id?: string }'
    - path: responses.200.content.application/x-jsonl.schema.properties.result.oneOf[0].properties.message.properties.content.items.oneOf[type=server_tool_use].required
      before: '["id","input","name","type"]'
      after: '["caller","id","input","name","type"]'
  date: '2026-02-20'
- change: changed
  target: response
  breaking: false
  deprecated: false
  doc_only: false
  note: 'Relaxed server_tool_use.name from const ''web_search'' to enum including: web_search, web_fetch, code_execution, bash_code_execution, text_editor_code_execution, tool_search_tool_regex, tool_search_tool_bm25.'
  paths:
    - path: responses.200.content.application/x-jsonl.schema.properties.result.oneOf[0].properties.message.properties.content.items.oneOf[type=server_tool_use].properties.name
      before: const = "web_search"
      after: enum = ["web_search","web_fetch","code_execution","bash_code_execution","text_editor_code_execution","tool_search_tool_regex","tool_search_tool_bm25"]
  date: '2026-02-20'
- change: added
  target: response
  breaking: true
  deprecated: false
  doc_only: false
  note: Added required property caller to web_search_tool_result content block.
  paths:
    - path: responses.200.content.application/x-jsonl.schema.properties.result.oneOf[0].properties.message.properties.content.items.oneOf[type=web_search_tool_result].properties.caller
      before: 'null'
      after: '{ type: ''direct'' | ''code_execution_20250825'' | ''code_execution_20260120'', tool_id?: string }'
    - path: responses.200.content.application/x-jsonl.schema.properties.result.oneOf[0].properties.message.properties.content.items.oneOf[type=web_search_tool_result].required
      before: '["content","tool_use_id","type"]'
      after: '["caller","content","tool_use_id","type"]'
  date: '2026-02-20'
- change: changed
  target: response
  breaking: true
  deprecated: false
  doc_only: false
  note: Extended web_search_tool_result.error_code enum to include request_too_large.
  paths:
    - path: responses.200.content.application/x-jsonl.schema.properties.result.oneOf[0].properties.message.properties.content.items.oneOf[type=web_search_tool_result].properties.content.anyOf[0].properties.error_code.enum
      before: '["invalid_tool_input","unavailable","max_uses_exceeded","too_many_requests","query_too_long"]'
      after: '["invalid_tool_input","unavailable","max_uses_exceeded","too_many_requests","query_too_long","request_too_large"]'
  date: '2026-02-20'
- change: added
  target: response
  breaking: true
  deprecated: false
  doc_only: false
  note: Added required property caller to web_fetch_tool_result content block.
  paths:
    - path: responses.200.content.application/x-jsonl.schema.properties.result.oneOf[0].properties.message.properties.content.items.oneOf[type=web_fetch_tool_result].properties.caller
      before: 'null'
      after: '{ type: ''direct'' | ''code_execution_20250825'' | ''code_execution_20260120'', tool_id?: string }'
    - path: responses.200.content.application/x-jsonl.schema.properties.result.oneOf[0].properties.message.properties.content.items.oneOf[type=web_fetch_tool_result].required
      before: '["content","tool_use_id","type"]'
      after: '["caller","content","tool_use_id","type"]'
  date: '2026-02-20'
