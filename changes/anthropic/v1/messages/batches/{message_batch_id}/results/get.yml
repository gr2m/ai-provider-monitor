- change: changed
  target: route
  breaking: false
  deprecated: false
  doc_only: true
  note: Updated user guide link in description to absolute https URL.
  paths:
    - path: description
      before: ... [user guide](/en/docs/build-with-claude/batch-processing)
      after: ... [user guide](https://docs.claude.com/en/docs/build-with-claude/batch-processing)
  date: '2026-02-20'
- change: added
  target: response
  breaking: false
  deprecated: false
  doc_only: false
  note: Added message.container (nullable object) and made it required in Message.
  paths:
    - path: responses/200/content/application/x-jsonl/schema/properties/result/oneOf/0/properties/message/properties/container
      before: 'null'
      after: 'object|null with properties {id: string, expires_at: string(date-time)}'
    - path: responses/200/content/application/x-jsonl/schema/properties/result/oneOf/0/properties/message/required
      before: '["id","type","role","content","model","stop_reason","stop_sequence","usage"]'
      after: '["id","type","role","content","model","stop_reason","stop_sequence","usage","container"]'
  date: '2026-02-20'
- change: added
  target: response
  breaking: false
  deprecated: false
  doc_only: false
  note: 'Added new content block types in Message.content: web_fetch_tool_result, code_execution_tool_result, bash_code_execution_tool_result, text_editor_code_execution_tool_result, tool_search_tool_result, container_upload.'
  paths:
    - path: responses/200/content/application/x-jsonl/schema/properties/result/oneOf/0/properties/message/properties/content/items/discriminator/mapping/web_fetch_tool_result
      before: 'null'
      after: '#/components/schemas/ResponseWebFetchToolResultBlock'
    - path: responses/200/content/application/x-jsonl/schema/properties/result/oneOf/0/properties/message/properties/content/items/discriminator/mapping/code_execution_tool_result
      before: 'null'
      after: '#/components/schemas/ResponseCodeExecutionToolResultBlock'
    - path: responses/200/content/application/x-jsonl/schema/properties/result/oneOf/0/properties/message/properties/content/items/discriminator/mapping/bash_code_execution_tool_result
      before: 'null'
      after: '#/components/schemas/ResponseBashCodeExecutionToolResultBlock'
    - path: responses/200/content/application/x-jsonl/schema/properties/result/oneOf/0/properties/message/properties/content/items/discriminator/mapping/text_editor_code_execution_tool_result
      before: 'null'
      after: '#/components/schemas/ResponseTextEditorCodeExecutionToolResultBlock'
    - path: responses/200/content/application/x-jsonl/schema/properties/result/oneOf/0/properties/message/properties/content/items/discriminator/mapping/tool_search_tool_result
      before: 'null'
      after: '#/components/schemas/ResponseToolSearchToolResultBlock'
    - path: responses/200/content/application/x-jsonl/schema/properties/result/oneOf/0/properties/message/properties/content/items/discriminator/mapping/container_upload
      before: 'null'
      after: '#/components/schemas/ResponseContainerUploadBlock'
  date: '2026-02-20'
- change: changed
  target: response
  breaking: true
  deprecated: false
  doc_only: false
  note: Server tool use name is no longer fixed; it now allows multiple values instead of only "web_search".
  paths:
    - path: components/schemas/ResponseServerToolUseBlock/properties/name
      before: 'const: "web_search"'
      after: 'enum: ["web_search","web_fetch","code_execution","bash_code_execution","text_editor_code_execution","tool_search_tool_regex","tool_search_tool_bm25"]'
  date: '2026-02-20'
- change: added
  target: response
  breaking: false
  deprecated: false
  doc_only: false
  note: Added caller discriminator to tool-related blocks and made it required.
  paths:
    - path: components/schemas/ResponseToolUseBlock/properties/caller
      before: 'null'
      after: 'Caller (oneOf: direct | server tool variants)'
    - path: components/schemas/ResponseToolUseBlock/required
      before: '["id","input","name","type"]'
      after: '["caller","id","input","name","type"]'
    - path: components/schemas/ResponseServerToolUseBlock/properties/caller
      before: 'null'
      after: 'Caller (oneOf: direct | server tool variants)'
    - path: components/schemas/ResponseServerToolUseBlock/required
      before: '["id","input","name","type"]'
      after: '["caller","id","input","name","type"]'
    - path: components/schemas/ResponseWebSearchToolResultBlock/properties/caller
      before: 'null'
      after: 'Caller (oneOf: direct | server tool variants)'
    - path: components/schemas/ResponseWebSearchToolResultBlock/required
      before: '["content","tool_use_id","type"]'
      after: '["caller","content","tool_use_id","type"]'
    - path: components/schemas/ResponseWebFetchToolResultBlock/properties/caller
      before: 'null'
      after: 'Caller (oneOf: direct | server tool variants)'
    - path: components/schemas/ResponseWebFetchToolResultBlock/required
      before: '["content","tool_use_id","type"]'
      after: '["caller","content","tool_use_id","type"]'
  date: '2026-02-20'
- change: added
  target: response
  breaking: false
  deprecated: false
  doc_only: false
  note: Added usage.inference_geo (string|null) and made it required in Usage.
  paths:
    - path: responses/200/content/application/x-jsonl/schema/properties/result/oneOf/0/properties/message/properties/usage/properties/inference_geo
      before: 'null'
      after: string|null
    - path: responses/200/content/application/x-jsonl/schema/properties/result/oneOf/0/properties/message/properties/usage/required
      before: '["cache_creation","cache_creation_input_tokens","cache_read_input_tokens","input_tokens","output_tokens","server_tool_use","service_tier"]'
      after: '["cache_creation","cache_creation_input_tokens","cache_read_input_tokens","inference_geo","input_tokens","output_tokens","server_tool_use","service_tier"]'
  date: '2026-02-20'
- change: added
  target: response
  breaking: false
  deprecated: false
  doc_only: false
  note: Added usage.server_tool_use.web_fetch_requests metric and updated required metrics list.
  paths:
    - path: responses/200/content/application/x-jsonl/schema/properties/result/oneOf/0/properties/message/properties/usage/properties/server_tool_use/properties/web_fetch_requests
      before: 'null'
      after: integer (default 0)
    - path: responses/200/content/application/x-jsonl/schema/properties/result/oneOf/0/properties/message/properties/usage/properties/server_tool_use/required
      before: '["web_search_requests"]'
      after: '["web_fetch_requests","web_search_requests"]'
  date: '2026-02-20'
- change: added
  target: response
  breaking: false
  deprecated: false
  doc_only: false
  note: Added "request_too_large" to web_search_tool_result_error error_code enum.
  paths:
    - path: components/schemas/ResponseWebSearchToolResultError/properties/error_code/enum
      before: '["invalid_tool_input","unavailable","max_uses_exceeded","too_many_requests","query_too_long"]'
      after: '["invalid_tool_input","unavailable","max_uses_exceeded","too_many_requests","query_too_long","request_too_large"]'
  date: '2026-02-20'
- change: added
  target: response
  breaking: false
  deprecated: false
  doc_only: false
  note: Expanded Message.model options with new model IDs; also flagged claude-3-5-haiku-latest and claude-3-5-haiku-20241022 as deprecated.
  paths:
    - path: responses/200/content/application/x-jsonl/schema/properties/result/oneOf/0/properties/message/properties/model/anyOf
      before: 'Did not include: claude-opus-4-6, claude-sonnet-4-6, claude-opus-4-5-20251101, claude-opus-4-5; haiku 3.5 entries not marked deprecated'
      after: 'Includes: claude-opus-4-6, claude-sonnet-4-6, claude-opus-4-5-20251101, claude-opus-4-5; claude-3-5-haiku-latest and claude-3-5-haiku-20241022 marked deprecated'
  date: '2026-02-20'
- change: changed
  target: response
  breaking: false
  deprecated: false
  doc_only: true
  note: Updated example message model value.
  paths:
    - path: responses/200/content/application/x-jsonl/schema/properties/result/oneOf/0/properties/message/examples/0/model
      before: '"claude-sonnet-4-5-20250929"'
      after: '"claude-opus-4-6"'
  date: '2026-02-20'
