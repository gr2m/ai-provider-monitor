- change: changed
  target: route
  breaking: false
  deprecated: false
  doc_only: true
  note: Endpoint description link updated to full docs.claude.com URL.
  paths:
    - path: $.description
      before: ... [user guide](/en/docs/initial-setup)
      after: ... [user guide](https://docs.claude.com/en/docs/initial-setup)
  date: '2026-02-20'
- change: added
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: Added top-level cache_control option to apply a cache marker to the last cacheable block.
  paths:
    - path: $.requestBody.content.application/json.schema.properties.cache_control
      before: 'null'
      after: object | null (CacheControlEphemeral)
  date: '2026-02-20'
- change: added
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: Added top-level container identifier for reuse across requests.
  paths:
    - path: $.requestBody.content.application/json.schema.properties.container
      before: 'null'
      after: string | null
  date: '2026-02-20'
- change: added
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: Added inference_geo to control geographic region for inference.
  paths:
    - path: $.requestBody.content.application/json.schema.properties.inference_geo
      before: 'null'
      after: string | null
  date: '2026-02-20'
- change: added
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: Added output_config to control response effort and structured output format (JSON schema).
  paths:
    - path: $.requestBody.content.application/json.schema.properties.output_config
      before: 'null'
      after: object (effort | format.json_schema)
  date: '2026-02-20'
- change: added
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: 'Expanded allowable message content block types: added code/web tools and container upload (bash_code_execution_tool_result, code_execution_tool_result, text_editor_code_execution_tool_result, tool_search_tool_result, web_fetch_tool_result, container_upload).'
  paths:
    - path: $.requestBody.content.application/json.schema.properties.messages.items.properties.content.anyOf[1].items.discriminator.mapping
      before: '{ document, image, redacted_thinking, search_result, server_tool_use, text, thinking, tool_result, tool_use, web_search_tool_result }'
      after: '{ document, image, redacted_thinking, search_result, server_tool_use, text, thinking, tool_result, tool_use, web_search_tool_result, bash_code_execution_tool_result, code_execution_tool_result, text_editor_code_execution_tool_result, tool_search_tool_result, web_fetch_tool_result, container_upload }'
  date: '2026-02-20'
- change: added
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: tool_result content may now include a tool_reference block.
  paths:
    - path: $.requestBody.content.application/json.schema.properties.messages.items.properties.content.anyOf[1].items.oneOf[?type=="tool_result"].properties.content.anyOf[1].items.discriminator.mapping.tool_reference
      before: 'null'
      after: '#/components/schemas/RequestToolReferenceBlock'
  date: '2026-02-20'
- change: added
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: Added optional caller field to tool_use blocks to indicate direct vs server-tool initiated calls.
  paths:
    - path: $.requestBody.content.application/json.schema.properties.messages.items.properties.content.anyOf[1].items.oneOf[?title=="RequestToolUseBlock"].properties.caller
      before: 'null'
      after: oneOf(direct | code_execution_20250825 | code_execution_20260120)
  date: '2026-02-20'
- change: changed
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: 'Server tool use: name enum expanded (web_search, web_fetch, code_execution, bash_code_execution, text_editor_code_execution, tool_search_tool_regex, tool_search_tool_bm25) and optional caller added.'
  paths:
    - path: $.requestBody.content.application/json.schema.properties.messages.items.properties.content.anyOf[1].items.oneOf[?title=="RequestServerToolUseBlock"].properties.name.enum
      before: '["web_search"]'
      after: '["web_search","web_fetch","code_execution","bash_code_execution","text_editor_code_execution","tool_search_tool_regex","tool_search_tool_bm25"]'
    - path: $.requestBody.content.application/json.schema.properties.messages.items.properties.content.anyOf[1].items.oneOf[?title=="RequestServerToolUseBlock"].properties.caller
      before: 'null'
      after: oneOf(direct | code_execution_20250825 | code_execution_20260120)
  date: '2026-02-20'
- change: added
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: Web search tool result error_code now includes request_too_large.
  paths:
    - path: $.requestBody.content.application/json.schema.properties.messages.items.properties.content.anyOf[1].items.oneOf[?title=="RequestWebSearchToolResultBlock"].properties.content.anyOf[1].properties.error_code.enum
      before: '["invalid_tool_input","unavailable","max_uses_exceeded","too_many_requests","query_too_long"]'
      after: '["invalid_tool_input","unavailable","max_uses_exceeded","too_many_requests","query_too_long","request_too_large"]'
  date: '2026-02-20'
- change: added
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: 'Introduced new server tool result blocks: web_fetch_tool_result, code_execution_tool_result, bash_code_execution_tool_result, text_editor_code_execution_tool_result, tool_search_tool_result, plus web_fetch_result and tool_reference structures.'
  paths:
    - path: $.requestBody.content.application/json.schema.properties.messages.items.properties.content.anyOf[1].items.oneOf[*].title
      before: No WebFetch/CodeExec/TextEditor/ToolSearch result blocks
      after: Includes RequestWebFetchToolResultBlock, RequestCodeExecutionToolResultBlock, RequestBashCodeExecutionToolResultBlock, RequestTextEditorCodeExecutionToolResultBlock, RequestToolSearchToolResultBlock, RequestWebFetchResultBlock, RequestToolReferenceBlock
  date: '2026-02-20'
- change: added
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: 'Tools: added optional fields (allowed_callers, defer_loading, input_examples, strict, eager_input_streaming for custom tools).'
  paths:
    - path: $.requestBody.content.application/json.schema.properties.tools.items.oneOf[?title=="Tool"].properties.allowed_callers
      before: 'null'
      after: string[]
    - path: $.requestBody.content.application/json.schema.properties.tools.items.oneOf[?title=="Tool"].properties.defer_loading
      before: 'null'
      after: boolean
    - path: $.requestBody.content.application/json.schema.properties.tools.items.oneOf[?title=="Tool"].properties.input_examples
      before: 'null'
      after: array<object>
    - path: $.requestBody.content.application/json.schema.properties.tools.items.oneOf[?title=="Tool"].properties.strict
      before: 'null'
      after: boolean
    - path: $.requestBody.content.application/json.schema.properties.tools.items.oneOf[?title=="Tool"].properties.eager_input_streaming
      before: 'null'
      after: boolean | null
  date: '2026-02-20'
- change: added
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: 'Added many tool definitions: code_execution (20250522/20250825/20260120), memory_20250818, web_fetch (20250910/20260209), web_search_20260209, tool_search_tool_bm25(_20251119), tool_search_tool_regex(_20251119).'
  paths:
    - path: $.requestBody.content.application/json.schema.properties.tools.items.oneOf[*].title
      before: No CodeExecution_*, MemoryTool_*, WebFetch_*, ToolSearch_* entries
      after: Includes CodeExecutionTool_20250522, CodeExecutionTool_20250825, CodeExecutionTool_20260120, MemoryTool_20250818, WebFetchTool_20250910, WebFetchTool_20260209, WebSearchTool_20260209, ToolSearchToolBM25_20251119, ToolSearchToolRegex_20251119
  date: '2026-02-20'
- change: changed
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: 'Model options updated: added opus-4-6/sonnet-4-6/opus-4-5(-20251101) and marked 3.5-haiku models as deprecated.'
  paths:
    - path: $.requestBody.content.application/json.schema.properties.model.anyOf
      before: Older model set incl. claude-3-5-haiku-latest (not deprecated), 3-5-haiku-20241022 (not deprecated)
      after: Adds claude-opus-4-6, claude-sonnet-4-6, claude-opus-4-5-20251101, claude-opus-4-5; marks claude-3-5-haiku-latest and 3-5-haiku-20241022 deprecated
  date: '2026-02-20'
- change: added
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: Thinking config supports new adaptive mode.
  paths:
    - path: $.requestBody.content.application/json.schema.properties.thinking.oneOf[?title=="ThinkingConfigAdaptive"]
      before: 'null'
      after: '{ type: "adaptive" }'
  date: '2026-02-20'
- change: changed
  target: request
  breaking: false
  deprecated: false
  doc_only: true
  note: Example model in request body example changed to claude-opus-4-6.
  paths:
    - path: $.requestBody.content.application/json.schema.example.model
      before: '"claude-sonnet-4-5-20250929"'
      after: '"claude-opus-4-6"'
  date: '2026-02-20'
- change: added
  target: response
  breaking: true
  deprecated: false
  doc_only: false
  note: Added top-level container field (nullable) to responses and made it required.
  paths:
    - path: $.responses.200.content.application/json.schema.properties.container
      before: 'null'
      after: 'object | null (Container info: id, expires_at)'
    - path: $.responses.200.content.application/json.schema.required
      before: '["id","type","role","content","model","stop_reason","stop_sequence","usage"]'
      after: '["id","type","role","content","model","stop_reason","stop_sequence","usage","container"]'
  date: '2026-02-20'
- change: added
  target: response
  breaking: false
  deprecated: false
  doc_only: false
  note: Expanded response content block types to include web_fetch, code execution, text editor execution, tool search results, and container_upload.
  paths:
    - path: $.responses.200.content.application/json.schema.properties.content.items.discriminator.mapping
      before: '{ redacted_thinking, server_tool_use, text, thinking, tool_use, web_search_tool_result }'
      after: '{ redacted_thinking, server_tool_use, text, thinking, tool_use, web_search_tool_result, web_fetch_tool_result, code_execution_tool_result, bash_code_execution_tool_result, text_editor_code_execution_tool_result, tool_search_tool_result, container_upload }'
  date: '2026-02-20'
- change: added
  target: response
  breaking: false
  deprecated: false
  doc_only: false
  note: tool_use and server_tool_use response blocks now include a caller field indicating direct vs server-tool generated; caller is required in these blocks.
  paths:
    - path: $.responses.200.content.application/json.schema.properties.content.items.oneOf[?title=="ResponseToolUseBlock"].properties.caller
      before: 'null'
      after: oneOf(direct | code_execution_20250825 | code_execution_20260120)
    - path: $.responses.200.content.application/json.schema.properties.content.items.oneOf[?title=="ResponseToolUseBlock"].required
      before: '["id","input","name","type"]'
      after: '["caller","id","input","name","type"]'
    - path: $.responses.200.content.application/json.schema.properties.content.items.oneOf[?title=="ResponseServerToolUseBlock"].properties.caller
      before: 'null'
      after: oneOf(direct | code_execution_20250825 | code_execution_20260120)
    - path: $.responses.200.content.application/json.schema.properties.content.items.oneOf[?title=="ResponseServerToolUseBlock"].required
      before: '["id","input","name","type"]'
      after: '["caller","id","input","name","type"]'
  date: '2026-02-20'
- change: added
  target: response
  breaking: false
  deprecated: false
  doc_only: false
  note: Web search tool result response now includes caller and supports error_code request_too_large.
  paths:
    - path: $.responses.200.content.application/json.schema.properties.content.items.oneOf[?title=="ResponseWebSearchToolResultBlock"].properties.caller
      before: 'null'
      after: oneOf(direct | code_execution_20250825 | code_execution_20260120)
    - path: $.responses.200.content.application/json.schema.properties.content.items.oneOf[?title=="ResponseWebSearchToolResultBlock"].properties.content.anyOf[0].properties.error_code.enum
      before: '["invalid_tool_input","unavailable","max_uses_exceeded","too_many_requests","query_too_long"]'
      after: '["invalid_tool_input","unavailable","max_uses_exceeded","too_many_requests","query_too_long","request_too_large"]'
  date: '2026-02-20'
- change: added
  target: response
  breaking: false
  deprecated: false
  doc_only: false
  note: Usage now includes inference_geo and server_tool_use.web_fetch_requests; usage.required updated to include inference_geo.
  paths:
    - path: $.responses.200.content.application/json.schema.properties.usage.properties.inference_geo
      before: 'null'
      after: string | null
    - path: $.responses.200.content.application/json.schema.properties.usage.properties.server_tool_use.properties.web_fetch_requests
      before: 'null'
      after: integer (default 0)
    - path: $.responses.200.content.application/json.schema.properties.usage.required
      before: '["cache_creation","cache_creation_input_tokens","cache_read_input_tokens","input_tokens","output_tokens","server_tool_use","service_tier"]'
      after: '["cache_creation","cache_creation_input_tokens","cache_read_input_tokens","inference_geo","input_tokens","output_tokens","server_tool_use","service_tier"]'
  date: '2026-02-20'
- change: changed
  target: response
  breaking: false
  deprecated: false
  doc_only: false
  note: 'Response model options updated: added opus-4-6/sonnet-4-6/opus-4-5(-20251101); marked 3.5-haiku models deprecated.'
  paths:
    - path: $.responses.200.content.application/json.schema.properties.model.anyOf
      before: Older model set incl. claude-3-5-haiku-latest (not deprecated), 3-5-haiku-20241022 (not deprecated)
      after: Adds claude-opus-4-6, claude-sonnet-4-6, claude-opus-4-5-20251101, claude-opus-4-5; marks claude-3-5-haiku-latest and 3-5-haiku-20241022 deprecated
  date: '2026-02-20'
- change: changed
  target: response
  breaking: false
  deprecated: false
  doc_only: true
  note: Example model in success example changed to claude-opus-4-6.
  paths:
    - path: $.responses.200.content.application/json.schema.examples[0].model
      before: '"claude-sonnet-4-5-20250929"'
      after: '"claude-opus-4-6"'
  date: '2026-02-20'
