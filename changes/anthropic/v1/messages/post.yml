- change: changed
  target: route
  breaking: false
  deprecated: false
  doc_only: true
  note: Updated top-level route description link to docs.claude.com
  paths:
    - path: $.description
      before: ...our [user guide](/en/docs/initial-setup)
      after: ...our [user guide](https://docs.claude.com/en/docs/initial-setup)
  date: '2026-02-20'
- change: added
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: Added top-level cache_control to apply a cache marker automatically to the last cacheable block
  paths:
    - path: $.requestBody.content.application/json.schema.properties.cache_control
      before: 'null'
      after: '{ type: ''ephemeral'', ttl: ''5m'' | ''1h'' }'
  date: '2026-02-20'
- change: added
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: Added container identifier for reuse across requests
  paths:
    - path: $.requestBody.content.application/json.schema.properties.container
      before: 'null'
      after: 'type: string | null'
  date: '2026-02-20'
- change: added
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: Added inference_geo to choose geographic region for inference
  paths:
    - path: $.requestBody.content.application/json.schema.properties.inference_geo
      before: 'null'
      after: 'type: string | null'
  date: '2026-02-20'
- change: added
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: Added output_config to control model output (effort, structured output via json_schema)
  paths:
    - path: $.requestBody.content.application/json.schema.properties.output_config
      before: 'null'
      after: '{ effort?: ''low''|''medium''|''high''|''max'', format?: { type: ''json_schema'', schema: {...} } }'
  date: '2026-02-20'
- change: changed
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: Thinking config now supports an additional 'adaptive' mode
  paths:
    - path: $.requestBody.content.application/json.schema.properties.thinking.discriminator.mapping
      before: '{ enabled, disabled }'
      after: '{ enabled, disabled, adaptive }'
    - path: $.requestBody.content.application/json.schema.properties.thinking.oneOf[2]
      before: 'null'
      after: '{ type: ''adaptive'' }'
  date: '2026-02-20'
- change: added
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: Expanded message content blocks with new tool and container-related types; tool_use/server_tool_use now support optional 'caller'; tool_result content can include tool_reference
  paths:
    - path: $.requestBody.content.application/json.schema.properties.messages.items.properties.content.anyOf[1].items.discriminator.mapping
      before: '{document,image,redacted_thinking,search_result,server_tool_use,text,thinking,tool_result,tool_use,web_search_tool_result}'
      after: '{document,image,redacted_thinking,search_result,server_tool_use,text,thinking,tool_result,tool_use,web_search_tool_result,web_fetch_tool_result,code_execution_tool_result,bash_code_execution_tool_result,text_editor_code_execution_tool_result,tool_search_tool_result,container_upload,tool_search_tool_result,web_fetch_result}'
  date: '2026-02-20'
- change: added
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: Added 'caller' field to tool_use and server_tool_use request blocks (direct or server-side tool invoker)
  paths:
    - path: $.requestBody.content.application/json.schema.properties.messages.items.properties.content.anyOf[1].items.oneOf[*].properties.caller
      before: 'null'
      after: '{ type: ''direct'' | ''code_execution_20250825'' | ''code_execution_20260120'', tool_id? }'
  date: '2026-02-20'
- change: added
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: Request tool_result content may now include a tool_reference block
  paths:
    - path: $.requestBody.content.application/json.schema.properties.messages.items.properties.content.anyOf[1].items.oneOf[*].properties.content.anyOf[1].items.discriminator.mapping.tool_reference
      before: 'null'
      after: '#/components/schemas/RequestToolReferenceBlock'
  date: '2026-02-20'
- change: added
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: 'New server tool result block types: web_fetch_tool_result, code_execution_tool_result, bash_code_execution_tool_result, text_editor_code_execution_tool_result, tool_search_tool_result; plus container_upload content block'
  paths:
    - path: $.requestBody.content.application/json.schema.properties.messages.items.properties.content.anyOf[1].items.oneOf[*].title
      before: RequestWebSearchToolResultBlock, RequestToolResultBlock, RequestToolUseBlock, ...
      after: ... + RequestWebFetchToolResultBlock + RequestCodeExecutionToolResultBlock + RequestBashCodeExecutionToolResultBlock + RequestTextEditorCodeExecutionToolResultBlock + RequestToolSearchToolResultBlock + RequestContainerUploadBlock
  date: '2026-02-20'
- change: changed
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: Web search tool result error_code gains 'request_too_large'
  paths:
    - path: $.requestBody.content.application/json.schema.properties.messages.items.properties.content.anyOf[1].items.oneOf[*].properties.content.anyOf[1].properties.error_code.enum
      before: '[invalid_tool_input, unavailable, max_uses_exceeded, too_many_requests, query_too_long]'
      after: '[invalid_tool_input, unavailable, max_uses_exceeded, too_many_requests, query_too_long, request_too_large]'
  date: '2026-02-20'
- change: added
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: Added web_fetch tool support with new error codes and fetched document block
  paths:
    - path: $.requestBody.content.application/json.schema.properties.messages.items.properties.content.anyOf[1].items.oneOf[*].properties.type.const
      before: 'null'
      after: web_fetch_tool_result
    - path: $.requestBody.content.application/json.schema.properties.messages.items.properties.content.anyOf[1].items.oneOf[*].title
      before: 'null'
      after: RequestWebFetchResultBlock
  date: '2026-02-20'
- change: added
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: 'Tool definitions expanded: new built-in tools (code_execution variants, memory, web_fetch variants, web_search_20260209, tool_search tools) and new tool-level fields (allowed_callers, defer_loading, strict, input_examples, eager_input_streaming)'
  paths:
    - path: $.requestBody.content.application/json.schema.properties.tools.items
      before: BashTool_20250124 | TextEditor_20250124 | TextEditor_20250429 | TextEditor_20250728 | WebSearchTool_20250305 | Tool(custom)
      after: ... + CodeExecutionTool_20250522 + CodeExecutionTool_20250825 + CodeExecutionTool_20260120 + MemoryTool_20250818 + WebFetchTool_20250910 + WebFetchTool_20260209 + WebSearchTool_20260209 + ToolSearchToolBM25_20251119 + ToolSearchToolRegex_20251119 + new fields allowed_callers,defer_loading,strict,input_examples,eager_input_streaming on tools
  date: '2026-02-20'
- change: changed
  target: request
  breaking: false
  deprecated: false
  doc_only: false
  note: 'Updated model options: added opus-4-6, sonnet-4-6, opus-4-5 (incl. 20251101); marked several Haiku 3.5 entries deprecated; request example model updated'
  paths:
    - path: $.requestBody.content.application/json.schema.example.model
      before: '"claude-sonnet-4-5-20250929"'
      after: '"claude-opus-4-6"'
    - path: $.requestBody.content.application/json.schema.properties.model.anyOf
      before: ...[claude-3-5-haiku-* not deprecated]...
      after: ...[claude-opus-4-6, claude-sonnet-4-6, claude-opus-4-5(-20251101) added; claude-3-5-haiku-* deprecated]...
  date: '2026-02-20'
- change: added
  target: response
  breaking: false
  deprecated: false
  doc_only: false
  note: Added container field (nullable) in Message response and included it in required list
  paths:
    - path: $.responses.200.content.application/json.schema.properties.container
      before: 'null'
      after: '{ id: string, expires_at: date-time } | null'
    - path: $.responses.200.content.application/json.schema.required
      before: '[id,type,role,content,model,stop_reason,stop_sequence,usage]'
      after: '[id,type,role,content,model,stop_reason,stop_sequence,usage,container]'
  date: '2026-02-20'
- change: added
  target: response
  breaking: false
  deprecated: false
  doc_only: false
  note: Expanded response content blocks to include web_fetch_tool_result, code_execution_tool_result, bash_code_execution_tool_result, text_editor_code_execution_tool_result, tool_search_tool_result, container_upload; added 'caller' to tool_use and server_tool_use responses
  paths:
    - path: $.responses.200.content.application/json.schema.properties.content.items.discriminator.mapping
      before: '{redacted_thinking,server_tool_use,text,thinking,tool_use,web_search_tool_result}'
      after: '{redacted_thinking,server_tool_use,text,thinking,tool_use,web_search_tool_result,web_fetch_tool_result,code_execution_tool_result,bash_code_execution_tool_result,text_editor_code_execution_tool_result,tool_search_tool_result,container_upload}'
    - path: $.responses.200.content.application/json.schema.properties.content.items.oneOf[*].properties.caller
      before: 'null'
      after: '{ type: ''direct'' | ''code_execution_20250825'' | ''code_execution_20260120'', tool_id? }'
  date: '2026-02-20'
- change: changed
  target: response
  breaking: false
  deprecated: false
  doc_only: false
  note: Web search tool result error_code gains 'request_too_large'
  paths:
    - path: $.responses.200.content.application/json.schema.properties.content.items.oneOf[*].properties.content.anyOf[*].properties.error_code.enum
      before: '[invalid_tool_input, unavailable, max_uses_exceeded, too_many_requests, query_too_long]'
      after: '[invalid_tool_input, unavailable, max_uses_exceeded, too_many_requests, query_too_long, request_too_large]'
  date: '2026-02-20'
- change: added
  target: response
  breaking: false
  deprecated: false
  doc_only: false
  note: Added web_fetch tool result with fetched document block and error variants
  paths:
    - path: $.responses.200.content.application/json.schema.properties.content.items.oneOf[*].properties.type.const
      before: 'null'
      after: web_fetch_tool_result
    - path: $.responses.200.content.application/json.schema.properties.content.items.oneOf[*].title
      before: 'null'
      after: ResponseWebFetchResultBlock
  date: '2026-02-20'
- change: added
  target: response
  breaking: false
  deprecated: false
  doc_only: false
  note: Usage now includes inference_geo and counts web_fetch_requests in server_tool_use
  paths:
    - path: $.responses.200.content.application/json.schema.properties.usage.properties.inference_geo
      before: 'null'
      after: 'type: string | null'
    - path: $.responses.200.content.application/json.schema.properties.usage.properties.server_tool_use.properties.web_fetch_requests
      before: 'null'
      after: 'type: integer, default 0'
  date: '2026-02-20'
- change: changed
  target: response
  breaking: false
  deprecated: false
  doc_only: false
  note: Updated response model options and example to new defaults (opus-4-6, sonnet-4-6, etc.)
  paths:
    - path: $.responses.200.content.application/json.schema.examples[0].model
      before: '"claude-sonnet-4-5-20250929"'
      after: '"claude-opus-4-6"'
    - path: $.responses.200.content.application/json.schema.properties.model.anyOf
      before: ...older set (no opus-4-6/sonnet-4-6)...
      after: ...includes claude-opus-4-6, claude-sonnet-4-6, claude-opus-4-5(20251101) and deprecates some 3.5 haiku...
  date: '2026-02-20'
