{
  "description": "Given a query and a list of documents, returns the documents ranked by their relevance to the query.\nThe documents are scored and sorted in descending order of relevance.\n",
  "operationId": "createReranking",
  "requestBody": {
    "content": {
      "application/json": {
        "schema": {
          "additionalProperties": false,
          "properties": {
            "docs": {
              "description": "An array of documents to rank. Each document is a string containing the text content.\nMaximum of 100 documents per request.\n",
              "example": [
                "Machine learning is a subset of artificial intelligence",
                "The weather forecast predicts rain tomorrow",
                "Deep learning uses neural networks with multiple layers"
              ],
              "items": {
                "minLength": 1,
                "type": "string"
              },
              "maxItems": 100,
              "minItems": 1,
              "type": "array"
            },
            "instruction": {
              "description": "Optional instruction to guide the reranking process. If not provided, \na default instruction will be used.\n",
              "example": "Find the most relevant document about AI research",
              "nullable": true,
              "type": "string"
            },
            "model": {
              "description": "ID of the reranking model to use.\n",
              "example": "qwen3-reranker-4b",
              "type": "string"
            },
            "query": {
              "description": "The search query to rank documents against.\n",
              "example": "artificial intelligence research",
              "type": "string"
            }
          },
          "required": [
            "model",
            "query",
            "docs"
          ],
          "type": "object"
        }
      }
    },
    "required": true
  },
  "responses": {
    "200": {
      "content": {
        "application/json": {
          "schema": {
            "properties": {
              "results": {
                "description": "List of documents sorted by relevance score in descending order.\nEach result contains the original document text and its relevance score.\n",
                "items": {
                  "properties": {
                    "doc": {
                      "description": "The original document text.",
                      "example": "Machine learning is a subset of artificial intelligence",
                      "type": "string"
                    },
                    "score": {
                      "description": "Relevance score between 0.0 and 1.0, where higher scores indicate \ngreater relevance to the query.\n",
                      "example": 0.92,
                      "format": "float",
                      "maximum": 1,
                      "minimum": 0,
                      "type": "number"
                    }
                  },
                  "required": [
                    "doc",
                    "score"
                  ],
                  "type": "object"
                },
                "type": "array"
              }
            },
            "required": [
              "results"
            ],
            "type": "object"
          }
        }
      },
      "description": "OK"
    }
  },
  "summary": "Reranks documents based on their relevance to a query.",
  "tags": [
    "Reranking"
  ]
}
