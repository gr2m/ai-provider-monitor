{
  "description": "<Note>To use our EU server with LeMUR, replace `api.assemblyai.com` with `api.eu.assemblyai.com`.</Note>\nRetrieve a LeMUR response that was previously generated.\n",
  "operationId": "getLemurResponse",
  "parameters": [
    {
      "description": "The ID of the LeMUR request you previously made.\nThis would be found in the response of the original request.\n",
      "in": "path",
      "name": "request_id",
      "required": true,
      "schema": {
        "type": "string"
      }
    }
  ],
  "responses": {
    "200": {
      "content": {
        "application/json": {
          "schema": {
            "oneOf": [
              {
                "allOf": [
                  {
                    "additionalProperties": false,
                    "properties": {
                      "response": {
                        "description": "The response generated by LeMUR.",
                        "type": "string"
                      }
                    },
                    "required": [
                      "response"
                    ],
                    "type": "object"
                  },
                  {
                    "additionalProperties": false,
                    "example": {
                      "request_id": "5e1b27c2-691f-4414-8bc5-f14678442f9e",
                      "usage": {
                        "input_tokens": 27,
                        "output_tokens": 3
                      }
                    },
                    "properties": {
                      "request_id": {
                        "description": "The ID of the LeMUR request",
                        "format": "uuid",
                        "type": "string"
                      },
                      "usage": {
                        "description": "The usage numbers for the LeMUR request",
                        "additionalProperties": false,
                        "properties": {
                          "input_tokens": {
                            "description": "The number of input tokens used by the model",
                            "minimum": 0,
                            "type": "integer"
                          },
                          "output_tokens": {
                            "description": "The number of output tokens generated by the model",
                            "minimum": 0,
                            "type": "integer"
                          }
                        },
                        "required": [
                          "input_tokens",
                          "output_tokens"
                        ],
                        "type": "object"
                      }
                    },
                    "required": [
                      "request_id",
                      "usage"
                    ],
                    "type": "object"
                  }
                ],
                "example": {
                  "request_id": "5e1b27c2-691f-4414-8bc5-f14678442f9e",
                  "response": "Based on the transcript, the following locations were mentioned as being affected by wildfire smoke from Canada:\n\n- Maine\n- Maryland\n- Minnesota\n- Mid Atlantic region\n- Northeast region\n- New York City\n- Baltimore\n",
                  "usage": {
                    "input_tokens": 27,
                    "output_tokens": 3
                  }
                },
                "type": "object"
              },
              {
                "allOf": [
                  {
                    "additionalProperties": false,
                    "example": {
                      "request_id": "5e1b27c2-691f-4414-8bc5-f14678442f9e",
                      "usage": {
                        "input_tokens": 27,
                        "output_tokens": 3
                      }
                    },
                    "properties": {
                      "request_id": {
                        "description": "The ID of the LeMUR request",
                        "format": "uuid",
                        "type": "string"
                      },
                      "usage": {
                        "description": "The usage numbers for the LeMUR request",
                        "additionalProperties": false,
                        "properties": {
                          "input_tokens": {
                            "description": "The number of input tokens used by the model",
                            "minimum": 0,
                            "type": "integer"
                          },
                          "output_tokens": {
                            "description": "The number of output tokens generated by the model",
                            "minimum": 0,
                            "type": "integer"
                          }
                        },
                        "required": [
                          "input_tokens",
                          "output_tokens"
                        ],
                        "type": "object"
                      }
                    },
                    "required": [
                      "request_id",
                      "usage"
                    ],
                    "type": "object"
                  },
                  {
                    "additionalProperties": false,
                    "properties": {
                      "response": {
                        "description": "The answers generated by LeMUR and their questions",
                        "items": {
                          "additionalProperties": false,
                          "description": "An answer generated by LeMUR and its question",
                          "example": {
                            "answer": "CA, US",
                            "question": "Where are there wildfires?"
                          },
                          "properties": {
                            "answer": {
                              "description": "The answer generated by LeMUR",
                              "type": "string"
                            },
                            "question": {
                              "description": "The question for LeMUR to answer",
                              "type": "string"
                            }
                          },
                          "required": [
                            "question",
                            "answer"
                          ],
                          "type": "object"
                        },
                        "type": "array"
                      }
                    },
                    "required": [
                      "response"
                    ],
                    "type": "object"
                  }
                ],
                "example": {
                  "request_id": "5e1b27c2-691f-4414-8bc5-f14678442f9e",
                  "response": [
                    {
                      "answer": "CA, US",
                      "question": "Where are there wildfires?"
                    },
                    {
                      "answer": "yes",
                      "question": "Is global warming affecting wildfires?"
                    }
                  ],
                  "usage": {
                    "input_tokens": 27,
                    "output_tokens": 3
                  }
                },
                "type": "object"
              }
            ],
            "type": "object"
          }
        }
      },
      "description": "LeMUR response"
    },
    "400": {
      "content": {
        "application/json": {
          "example": {
            "error": "This is a sample error message"
          },
          "schema": {
            "additionalProperties": true,
            "example": {
              "error": "format_text must be a Boolean"
            },
            "properties": {
              "error": {
                "description": "Error message",
                "type": "string"
              },
              "status": {
                "const": "error",
                "type": "string"
              }
            },
            "required": [
              "error"
            ],
            "type": "object"
          }
        }
      },
      "description": "Bad request"
    },
    "401": {
      "content": {
        "application/json": {
          "example": {
            "error": "Authentication error, API token missing/invalid"
          },
          "schema": {
            "additionalProperties": true,
            "example": {
              "error": "format_text must be a Boolean"
            },
            "properties": {
              "error": {
                "description": "Error message",
                "type": "string"
              },
              "status": {
                "const": "error",
                "type": "string"
              }
            },
            "required": [
              "error"
            ],
            "type": "object"
          }
        }
      },
      "description": "Unauthorized"
    },
    "404": {
      "content": {
        "application/json": {
          "example": {
            "error": "Not found"
          },
          "schema": {
            "additionalProperties": true,
            "example": {
              "error": "format_text must be a Boolean"
            },
            "properties": {
              "error": {
                "description": "Error message",
                "type": "string"
              },
              "status": {
                "const": "error",
                "type": "string"
              }
            },
            "required": [
              "error"
            ],
            "type": "object"
          }
        }
      },
      "description": "Not found"
    },
    "429": {
      "content": {
        "application/json": {
          "example": {
            "error": "Too Many Requests"
          },
          "schema": {
            "additionalProperties": true,
            "example": {
              "error": "format_text must be a Boolean"
            },
            "properties": {
              "error": {
                "description": "Error message",
                "type": "string"
              },
              "status": {
                "const": "error",
                "type": "string"
              }
            },
            "required": [
              "error"
            ],
            "type": "object"
          }
        }
      },
      "description": "Too many requests",
      "headers": {
        "Retry-After": {
          "description": "The number of seconds to wait before retrying the request",
          "schema": {
            "type": "integer"
          }
        }
      }
    },
    "500": {
      "content": {
        "application/json": {
          "example": {
            "error": "Internal Server Error"
          },
          "schema": {
            "additionalProperties": true,
            "example": {
              "error": "format_text must be a Boolean"
            },
            "properties": {
              "error": {
                "description": "Error message",
                "type": "string"
              },
              "status": {
                "const": "error",
                "type": "string"
              }
            },
            "required": [
              "error"
            ],
            "type": "object"
          }
        }
      },
      "description": "An error occurred while processing the request"
    },
    "503": {
      "description": "Service unavailable"
    },
    "504": {
      "description": "Gateway timeout"
    }
  },
  "summary": "Retrieve LeMUR response",
  "tags": [
    "LeMUR"
  ]
}
