{
  "description": "<Note>To search through a transcription created on our EU server, replace `api.assemblyai.com` with `api.eu.assemblyai.com`.</Note>\nSearch through the transcript for keywords. You can search for individual words, numbers, or phrases containing up to five words or numbers.\n",
  "operationId": "wordSearch",
  "parameters": [
    {
      "description": "ID of the transcript",
      "in": "path",
      "name": "transcript_id",
      "required": true,
      "schema": {
        "type": "string"
      }
    },
    {
      "description": "Keywords to search for",
      "explode": false,
      "in": "query",
      "name": "words",
      "required": true,
      "schema": {
        "items": {
          "type": "string"
        },
        "type": "array"
      },
      "style": "form"
    }
  ],
  "responses": {
    "200": {
      "content": {
        "application/json": {
          "schema": {
            "$ref": "#/components/schemas/WordSearchResponse"
          }
        }
      },
      "description": "Word search response"
    },
    "400": {
      "$ref": "#/components/responses/BadRequest"
    },
    "401": {
      "$ref": "#/components/responses/Unauthorized"
    },
    "404": {
      "$ref": "#/components/responses/NotFound"
    },
    "429": {
      "$ref": "#/components/responses/TooManyRequests"
    },
    "500": {
      "$ref": "#/components/responses/InternalServerError"
    },
    "503": {
      "$ref": "#/components/responses/ServiceUnavailable"
    },
    "504": {
      "$ref": "#/components/responses/GatewayTimeout"
    }
  },
  "summary": "Search words in transcript",
  "tags": [
    "transcript"
  ],
  "components": {
    "schemas": {
      "WordSearchResponse": {
        "additionalProperties": false,
        "example": {
          "id": "d5a3d302-066e-43fb-b63b-8f57baf185db",
          "matches": [
            {
              "count": 6,
              "indexes": [
                0,
                136,
                156,
                486,
                652,
                698
              ],
              "text": "smoke",
              "timestamps": [
                [
                  250,
                  650
                ],
                [
                  49168,
                  49398
                ],
                [
                  55284,
                  55594
                ],
                [
                  168888,
                  169118
                ],
                [
                  215108,
                  215386
                ],
                [
                  225944,
                  226170
                ]
              ]
            },
            {
              "count": 4,
              "indexes": [
                4,
                90,
                140,
                716
              ],
              "text": "wildfires",
              "timestamps": [
                [
                  1668,
                  2346
                ],
                [
                  33852,
                  34546
                ],
                [
                  50118,
                  51110
                ],
                [
                  231356,
                  232354
                ]
              ]
            }
          ],
          "total_count": 10
        },
        "properties": {
          "id": {
            "description": "The ID of the transcript",
            "format": "uuid",
            "type": "string"
          },
          "matches": {
            "description": "The matches of the search",
            "items": {
              "$ref": "#/components/schemas/WordSearchMatch"
            },
            "type": "array"
          },
          "total_count": {
            "description": "The total count of all matched instances. For e.g., word 1 matched 2 times, and word 2 matched 3 times, `total_count` will equal 5.",
            "type": "integer"
          }
        },
        "required": [
          "id",
          "total_count",
          "matches"
        ],
        "type": "object"
      },
      "WordSearchMatch": {
        "additionalProperties": false,
        "example": {
          "count": 6,
          "indexes": [
            0,
            136,
            156,
            486,
            652,
            698
          ],
          "text": "smoke",
          "timestamps": [
            [
              250,
              650
            ],
            [
              49168,
              49398
            ],
            [
              55284,
              55594
            ],
            [
              168888,
              169118
            ],
            [
              215108,
              215386
            ],
            [
              225944,
              226170
            ]
          ]
        },
        "properties": {
          "count": {
            "description": "The total amount of times the word is in the transcript",
            "type": "integer"
          },
          "indexes": {
            "description": "An array of all index locations for that word within the `words` array of the completed transcript",
            "items": {
              "type": "integer"
            },
            "type": "array"
          },
          "text": {
            "description": "The matched word",
            "type": "string"
          },
          "timestamps": {
            "description": "An array of timestamps",
            "items": {
              "$ref": "#/components/schemas/WordSearchTimestamp"
            },
            "type": "array"
          }
        },
        "required": [
          "text",
          "count",
          "timestamps",
          "indexes"
        ],
        "type": "object"
      },
      "Error": {
        "additionalProperties": true,
        "example": {
          "error": "format_text must be a Boolean"
        },
        "properties": {
          "error": {
            "description": "Error message",
            "type": "string"
          },
          "status": {
            "const": "error",
            "type": "string"
          }
        },
        "required": [
          "error"
        ],
        "type": "object"
      },
      "WordSearchTimestamp": {
        "description": "An array of timestamps structured as [`start_time`, `end_time`] in milliseconds",
        "example": [
          250,
          650
        ],
        "items": {
          "description": "Timestamp in milliseconds",
          "type": "integer"
        },
        "type": "array"
      }
    },
    "responses": {
      "BadRequest": {
        "content": {
          "application/json": {
            "example": {
              "error": "This is a sample error message"
            },
            "schema": {
              "$ref": "#/components/schemas/Error"
            }
          }
        },
        "description": "Bad request"
      },
      "Unauthorized": {
        "content": {
          "application/json": {
            "example": {
              "error": "Authentication error, API token missing/invalid"
            },
            "schema": {
              "$ref": "#/components/schemas/Error"
            }
          }
        },
        "description": "Unauthorized"
      },
      "NotFound": {
        "content": {
          "application/json": {
            "example": {
              "error": "Not found"
            },
            "schema": {
              "$ref": "#/components/schemas/Error"
            }
          }
        },
        "description": "Not found"
      },
      "TooManyRequests": {
        "content": {
          "application/json": {
            "example": {
              "error": "Too Many Requests"
            },
            "schema": {
              "$ref": "#/components/schemas/Error"
            }
          }
        },
        "description": "Too many requests",
        "headers": {
          "Retry-After": {
            "description": "The number of seconds to wait before retrying the request",
            "schema": {
              "type": "integer"
            }
          }
        }
      },
      "InternalServerError": {
        "content": {
          "application/json": {
            "example": {
              "error": "Internal Server Error"
            },
            "schema": {
              "$ref": "#/components/schemas/Error"
            }
          }
        },
        "description": "An error occurred while processing the request"
      },
      "ServiceUnavailable": {
        "description": "Service unavailable"
      },
      "GatewayTimeout": {
        "description": "Gateway timeout"
      }
    }
  }
}
