{
  "description": "List the batches for the current user",
  "operationId": "ListBatches",
  "parameters": [
    {
      "description": "The maximum number of batches to return. The service may return fewer than\nthis value.\nIf unspecified, at most 50 batches will be returned.\nThe maximum value is 1000; values above 1000 will be coerced to 1000.",
      "in": "query",
      "name": "page_size",
      "required": false,
      "schema": {
        "format": "int32",
        "type": "integer"
      }
    },
    {
      "description": "A page token, received from a previous `ListBatches` call.\nProvide this to retrieve the subsequent page.",
      "in": "query",
      "name": "page_token",
      "required": false,
      "schema": {
        "type": "string"
      }
    },
    {
      "description": "Batches can be ordered by creation time or last updated time.\nUse `created_at` for creation time or `updated_at` for last updated time.",
      "in": "query",
      "name": "order_by",
      "required": false,
      "schema": {
        "type": "string"
      }
    },
    {
      "description": "The name of the project that is making the request.\n",
      "example": "my-cool-project",
      "in": "header",
      "name": "X-Client-Name",
      "required": false,
      "schema": {
        "type": "string"
      }
    }
  ],
  "responses": {
    "200": {
      "content": {
        "application/json": {
          "example": {
            "batches": [
              {
                "creator_id": "b5e1ffb9-49a1-4653-9927-94083316309d",
                "id": "9439e0e3-49a4-4336-93e3-485fc420bc18",
                "input_dataset_id": "my-requests-dataset",
                "model": "command",
                "name": "my-batch",
                "num_records": 5000,
                "org_id": "62603116-1750-4c04-b1b6-9d5046764bc4",
                "status": "BATCH_STATUS_IN_PROGRESS"
              }
            ]
          },
          "schema": {
            "description": "Response to a request to list batches.",
            "properties": {
              "batches": {
                "description": "The batches that belong to the authenticated user.",
                "items": {
                  "type": "object",
                  "description": "This resource represents a batch job.",
                  "properties": {
                    "created_at": {
                      "description": "read-only. Creation timestamp.",
                      "format": "date-time",
                      "readOnly": true,
                      "type": "string"
                    },
                    "creator_id": {
                      "description": "read-only. User ID of the creator.",
                      "readOnly": true,
                      "type": "string"
                    },
                    "id": {
                      "description": "read-only. Batch ID.",
                      "readOnly": true,
                      "type": "string"
                    },
                    "input_dataset_id": {
                      "description": "ID of the dataset the batch reads inputs from.",
                      "type": "string"
                    },
                    "input_tokens": {
                      "description": "read-only. The total number of input tokens in the batch.",
                      "format": "int64",
                      "readOnly": true,
                      "type": "string"
                    },
                    "model": {
                      "description": "The name of the model the batch uses.",
                      "type": "string"
                    },
                    "name": {
                      "description": "Batch name (e.g. `foobar`).",
                      "type": "string"
                    },
                    "num_failed_records": {
                      "description": "read-only. The current number of failed records in the batch.",
                      "format": "int32",
                      "readOnly": true,
                      "type": "integer"
                    },
                    "num_records": {
                      "description": "read-only. The total number of records in the batch.",
                      "format": "int32",
                      "readOnly": true,
                      "type": "integer"
                    },
                    "num_successful_records": {
                      "description": "read-only. The current number of successful records in the batch.",
                      "format": "int32",
                      "readOnly": true,
                      "type": "integer"
                    },
                    "org_id": {
                      "description": "read-only. Organization ID.",
                      "readOnly": true,
                      "type": "string"
                    },
                    "output_dataset_id": {
                      "readOnly": true,
                      "title": "ID of the dataset the batch writes outputs to",
                      "type": "string"
                    },
                    "output_tokens": {
                      "description": "read-only. The total number of output tokens in the batch.",
                      "format": "int64",
                      "readOnly": true,
                      "type": "string"
                    },
                    "status": {
                      "description": "read-only. Current stage in the life-cycle of the batch.",
                      "readOnly": true,
                      "default": "BATCH_STATUS_UNSPECIFIED",
                      "enum": [
                        "BATCH_STATUS_UNSPECIFIED",
                        "BATCH_STATUS_QUEUED",
                        "BATCH_STATUS_IN_PROGRESS",
                        "BATCH_STATUS_CANCELING",
                        "BATCH_STATUS_COMPLETED",
                        "BATCH_STATUS_FAILED",
                        "BATCH_STATUS_CANCELED"
                      ],
                      "type": "string"
                    },
                    "status_reason": {
                      "description": "read-only. More details about the reason for the status of a batch job.",
                      "readOnly": true,
                      "type": "string"
                    },
                    "updated_at": {
                      "description": "read-only. Latest update timestamp.",
                      "format": "date-time",
                      "readOnly": true,
                      "type": "string"
                    }
                  },
                  "required": [
                    "name",
                    "input_dataset_id",
                    "model"
                  ]
                },
                "type": "array"
              },
              "next_page_token": {
                "description": "A token, which can be sent as `page_token` to retrieve the next page.\nIf this field is omitted, there are no subsequent pages.",
                "type": "string"
              }
            },
            "type": "object"
          }
        }
      },
      "description": "A successful response."
    },
    "400": {
      "content": {
        "application/json": {
          "schema": {
            "description": "Error is the response for any unsuccessful event.",
            "properties": {
              "message": {
                "description": "A developer-facing error message.",
                "type": "string"
              }
            },
            "type": "object"
          }
        }
      },
      "description": "Bad Request"
    },
    "401": {
      "content": {
        "application/json": {
          "schema": {
            "description": "Error is the response for any unsuccessful event.",
            "properties": {
              "message": {
                "description": "A developer-facing error message.",
                "type": "string"
              }
            },
            "type": "object"
          }
        }
      },
      "description": "Unauthorized"
    },
    "403": {
      "content": {
        "application/json": {
          "schema": {
            "description": "Error is the response for any unsuccessful event.",
            "properties": {
              "message": {
                "description": "A developer-facing error message.",
                "type": "string"
              }
            },
            "type": "object"
          }
        }
      },
      "description": "Forbidden"
    },
    "404": {
      "content": {
        "application/json": {
          "schema": {
            "description": "Error is the response for any unsuccessful event.",
            "properties": {
              "message": {
                "description": "A developer-facing error message.",
                "type": "string"
              }
            },
            "type": "object"
          }
        }
      },
      "description": "Not Found"
    },
    "500": {
      "content": {
        "application/json": {
          "schema": {
            "description": "Error is the response for any unsuccessful event.",
            "properties": {
              "message": {
                "description": "A developer-facing error message.",
                "type": "string"
              }
            },
            "type": "object"
          }
        }
      },
      "description": "Internal Server Error"
    },
    "503": {
      "content": {
        "application/json": {
          "schema": {
            "description": "Error is the response for any unsuccessful event.",
            "properties": {
              "message": {
                "description": "A developer-facing error message.",
                "type": "string"
              }
            },
            "type": "object"
          }
        }
      },
      "description": "Status Service Unavailable"
    }
  },
  "summary": "List batches",
  "tags": [
    "/batches"
  ]
}
