{
  "description": "Cancel a pending job. Only jobs in pending status can be canceled.\nRunning jobs cannot be stopped. Returns the job status after the\nattempt. If the job is not pending, returns 409 with the current status\nunchanged.\n",
  "operationId": "cancelQueueJob",
  "requestBody": {
    "content": {
      "application/json": {
        "schema": {
          "$ref": "#/components/schemas/QueueCancelRequest"
        }
      }
    },
    "description": "Cancel request",
    "required": true
  },
  "responses": {
    "200": {
      "content": {
        "application/json": {
          "schema": {
            "$ref": "#/components/schemas/QueueCancelResponse"
          }
        }
      },
      "description": "Successfully canceled"
    },
    "400": {
      "content": {
        "application/json": {
          "schema": {
            "$ref": "#/components/schemas/QueueError"
          }
        }
      },
      "description": "Invalid request"
    },
    "404": {
      "content": {
        "application/json": {
          "schema": {
            "$ref": "#/components/schemas/QueueError"
          }
        }
      },
      "description": "Request not found"
    },
    "409": {
      "content": {
        "application/json": {
          "schema": {
            "$ref": "#/components/schemas/QueueCancelResponse"
          }
        }
      },
      "description": "Job could not be canceled (already completed/failed)"
    },
    "500": {
      "content": {
        "application/json": {
          "schema": {
            "$ref": "#/components/schemas/QueueError"
          }
        }
      },
      "description": "Internal server error"
    }
  },
  "summary": "Cancel a queued job",
  "tags": [
    "Queue"
  ],
  "components": {
    "schemas": {
      "QueueCancelRequest": {
        "properties": {
          "model": {
            "description": "Model identifier the job was submitted to",
            "type": "string"
          },
          "request_id": {
            "description": "The request ID returned from the submit endpoint",
            "type": "string"
          }
        },
        "required": [
          "model",
          "request_id"
        ],
        "type": "object"
      },
      "QueueCancelResponse": {
        "properties": {
          "status": {
            "description": "Job status after the cancel attempt. Only pending jobs can be\ncanceled. If the job is already running, done, or failed, the status\nis returned unchanged.\n",
            "enum": [
              "canceled",
              "running",
              "done",
              "failed"
            ],
            "type": "string"
          }
        },
        "required": [
          "status"
        ],
        "type": "object"
      },
      "QueueError": {
        "properties": {
          "code": {
            "description": "Machine-readable error code",
            "type": "string"
          },
          "message": {
            "description": "Human-readable error message",
            "type": "string"
          },
          "param": {
            "description": "The parameter that caused the error, if applicable",
            "type": "string"
          },
          "type": {
            "description": "Error category (e.g. \"invalid_request_error\", \"not_found_error\")",
            "type": "string"
          }
        },
        "type": "object"
      }
    }
  }
}
