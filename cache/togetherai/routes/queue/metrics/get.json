{
  "description": "Get the current queue statistics for a model, including pending and running job counts.",
  "operationId": "getQueueMetrics",
  "parameters": [
    {
      "in": "query",
      "name": "model",
      "required": true,
      "schema": {
        "description": "Model name to get metrics for",
        "type": "string"
      }
    }
  ],
  "responses": {
    "200": {
      "content": {
        "application/json": {
          "schema": {
            "$ref": "#/components/schemas/QueueMetricsResponse"
          }
        }
      },
      "description": "Queue metrics"
    },
    "400": {
      "content": {
        "application/json": {
          "schema": {
            "$ref": "#/components/schemas/QueueError"
          }
        }
      },
      "description": "Invalid request"
    },
    "401": {
      "content": {
        "application/json": {
          "schema": {
            "$ref": "#/components/schemas/QueueError"
          }
        }
      },
      "description": "Unauthorized"
    },
    "500": {
      "content": {
        "application/json": {
          "schema": {
            "$ref": "#/components/schemas/QueueError"
          }
        }
      },
      "description": "Internal server error"
    }
  },
  "summary": "Get queue metrics",
  "tags": [
    "Queue"
  ],
  "components": {
    "schemas": {
      "QueueMetricsResponse": {
        "properties": {
          "messages_running": {
            "description": "Number of jobs currently being processed",
            "type": "integer"
          },
          "messages_waiting": {
            "description": "Number of jobs waiting to be claimed by a worker",
            "type": "integer"
          },
          "total_jobs": {
            "description": "Total number of active jobs (waiting + running)",
            "type": "integer"
          }
        },
        "required": [
          "messages_running",
          "messages_waiting",
          "total_jobs"
        ],
        "type": "object"
      },
      "QueueError": {
        "properties": {
          "code": {
            "description": "Machine-readable error code",
            "type": "string"
          },
          "message": {
            "description": "Human-readable error message",
            "type": "string"
          },
          "param": {
            "description": "The parameter that caused the error, if applicable",
            "type": "string"
          },
          "type": {
            "description": "Error category (e.g. \"invalid_request_error\", \"not_found_error\")",
            "type": "string"
          }
        },
        "type": "object"
      }
    }
  }
}
