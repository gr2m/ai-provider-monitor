{
  "description": "Upload a custom model or adapter from Hugging Face or S3",
  "operationId": "uploadModel",
  "requestBody": {
    "content": {
      "application/json": {
        "schema": {
          "$ref": "#/components/schemas/ModelUploadRequest"
        }
      }
    },
    "required": true
  },
  "responses": {
    "200": {
      "content": {
        "application/json": {
          "schema": {
            "$ref": "#/components/schemas/ModelUploadSuccessResponse"
          }
        }
      },
      "description": "Model / adapter upload job created successfully"
    }
  },
  "summary": "Upload a custom model or adapter",
  "tags": [
    "Models"
  ],
  "components": {
    "schemas": {
      "ModelUploadRequest": {
        "properties": {
          "base_model": {
            "description": "The base model to use for an adapter if setting it to run against a serverless pool.  Only used for model_type `adapter`.",
            "example": "Qwen/Qwen2.5-72B-Instruct",
            "type": "string"
          },
          "description": {
            "description": "A description of your model",
            "example": "Finetuned Qwen2.5-72B-Instruct by Unsloth",
            "type": "string"
          },
          "hf_token": {
            "description": "Hugging Face token (if uploading from Hugging Face)",
            "example": "hf_examplehuggingfacetoken",
            "type": "string"
          },
          "lora_model": {
            "description": "The lora pool to use for an adapter if setting it to run against, say, a dedicated pool.  Only used for model_type `adapter`.",
            "example": "my_username/Qwen2.5-72B-Instruct-lora",
            "type": "string"
          },
          "model_name": {
            "description": "The name to give to your uploaded model",
            "example": "Qwen2.5-72B-Instruct",
            "type": "string"
          },
          "model_source": {
            "description": "The source location of the model (Hugging Face repo or S3 path)",
            "example": "unsloth/Qwen2.5-72B-Instruct",
            "type": "string"
          },
          "model_type": {
            "default": "model",
            "description": "Whether the model is a full model or an adapter",
            "enum": [
              "model",
              "adapter"
            ],
            "example": "model",
            "type": "string"
          }
        },
        "required": [
          "model_name",
          "model_source"
        ],
        "type": "object"
      },
      "ModelUploadSuccessResponse": {
        "properties": {
          "data": {
            "properties": {
              "job_id": {
                "example": "job-a15dad11-8d8e-4007-97c5-a211304de284",
                "type": "string"
              },
              "model_id": {
                "example": "model-c0e32dfc-637e-47b2-bf4e-e9b2e58c9da7",
                "type": "string"
              },
              "model_name": {
                "example": "necolinehubner/Qwen2.5-72B-Instruct",
                "type": "string"
              },
              "model_source": {
                "example": "huggingface",
                "type": "string"
              }
            },
            "required": [
              "job_id",
              "model_name",
              "model_id",
              "model_source"
            ],
            "type": "object"
          },
          "message": {
            "example": "Processing model weights. Job created.",
            "type": "string"
          }
        },
        "required": [
          "data",
          "message"
        ],
        "type": "object"
      }
    }
  }
}
