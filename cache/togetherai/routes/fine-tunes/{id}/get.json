{
  "description": "List the metadata for a single fine-tuning job.",
  "parameters": [
    {
      "in": "path",
      "name": "id",
      "required": true,
      "schema": {
        "description": "The ID of the job to retrieve",
        "type": "string"
      }
    }
  ],
  "responses": {
    "200": {
      "content": {
        "application/json": {
          "schema": {
            "$ref": "#/components/schemas/FinetuneResponse"
          }
        }
      },
      "description": "Fine-tune job details retrieved successfully"
    }
  },
  "summary": "List job",
  "tags": [
    "Fine-tuning"
  ],
  "components": {
    "schemas": {
      "FinetuneResponse": {
        "properties": {
          "batch_size": {
            "default": "max",
            "oneOf": [
              {
                "type": "integer"
              },
              {
                "enum": [
                  "max"
                ],
                "type": "string"
              }
            ]
          },
          "created_at": {
            "format": "date-time",
            "type": "string"
          },
          "epochs_completed": {
            "type": "integer"
          },
          "eval_steps": {
            "type": "integer"
          },
          "events": {
            "items": {
              "$ref": "#/components/schemas/FineTuneEvent"
            },
            "type": "array"
          },
          "from_checkpoint": {
            "type": "string"
          },
          "from_hf_model": {
            "type": "string"
          },
          "hf_model_revision": {
            "type": "string"
          },
          "id": {
            "format": "uuid",
            "type": "string"
          },
          "job_id": {
            "type": "string"
          },
          "learning_rate": {
            "type": "number"
          },
          "lr_scheduler": {
            "$ref": "#/components/schemas/LRScheduler",
            "type": "object"
          },
          "max_grad_norm": {
            "format": "float",
            "type": "number"
          },
          "model": {
            "type": "string"
          },
          "model_output_name": {
            "type": "string"
          },
          "model_output_path": {
            "type": "string"
          },
          "multimodal_params": {
            "$ref": "#/components/schemas/MultimodalParams"
          },
          "n_checkpoints": {
            "type": "integer"
          },
          "n_epochs": {
            "type": "integer"
          },
          "n_evals": {
            "type": "integer"
          },
          "param_count": {
            "type": "integer"
          },
          "progress": {
            "$ref": "#/components/schemas/FineTuneProgress"
          },
          "queue_depth": {
            "type": "integer"
          },
          "started_at": {
            "format": "date-time",
            "type": "string"
          },
          "status": {
            "$ref": "#/components/schemas/FinetuneJobStatus"
          },
          "token_count": {
            "type": "integer"
          },
          "total_price": {
            "type": "integer"
          },
          "train_on_inputs": {
            "default": "auto",
            "oneOf": [
              {
                "type": "boolean"
              },
              {
                "enum": [
                  "auto"
                ],
                "type": "string"
              }
            ]
          },
          "training_file": {
            "type": "string"
          },
          "training_method": {
            "oneOf": [
              {
                "$ref": "#/components/schemas/TrainingMethodSFT"
              },
              {
                "$ref": "#/components/schemas/TrainingMethodDPO"
              }
            ],
            "type": "object"
          },
          "training_type": {
            "oneOf": [
              {
                "$ref": "#/components/schemas/FullTrainingType"
              },
              {
                "$ref": "#/components/schemas/LoRATrainingType"
              }
            ],
            "type": "object"
          },
          "trainingfile_numlines": {
            "type": "integer"
          },
          "trainingfile_size": {
            "type": "integer"
          },
          "updated_at": {
            "format": "date-time",
            "type": "string"
          },
          "validation_file": {
            "type": "string"
          },
          "wandb_project_name": {
            "type": "string"
          },
          "wandb_url": {
            "type": "string"
          },
          "warmup_ratio": {
            "type": "number"
          },
          "weight_decay": {
            "format": "float",
            "type": "number"
          }
        },
        "required": [
          "id",
          "status"
        ],
        "type": "object"
      },
      "FineTuneEvent": {
        "properties": {
          "checkpoint_path": {
            "type": "string"
          },
          "created_at": {
            "type": "string"
          },
          "hash": {
            "type": "string"
          },
          "level": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/FinetuneEventLevels"
              }
            ]
          },
          "message": {
            "type": "string"
          },
          "model_path": {
            "type": "string"
          },
          "object": {
            "const": "fine-tune-event",
            "description": "The object type, which is always `fine-tune-event`."
          },
          "param_count": {
            "type": "integer"
          },
          "step": {
            "type": "integer"
          },
          "token_count": {
            "type": "integer"
          },
          "total_steps": {
            "type": "integer"
          },
          "training_offset": {
            "type": "integer"
          },
          "type": {
            "$ref": "#/components/schemas/FinetuneEventType"
          },
          "wandb_url": {
            "type": "string"
          }
        },
        "required": [
          "object",
          "created_at",
          "message",
          "type",
          "param_count",
          "token_count",
          "total_steps",
          "wandb_url",
          "step",
          "checkpoint_path",
          "model_path",
          "training_offset",
          "hash"
        ],
        "type": "object"
      },
      "LRScheduler": {
        "properties": {
          "lr_scheduler_args": {
            "oneOf": [
              {
                "$ref": "#/components/schemas/LinearLRSchedulerArgs"
              },
              {
                "$ref": "#/components/schemas/CosineLRSchedulerArgs"
              }
            ]
          },
          "lr_scheduler_type": {
            "enum": [
              "linear",
              "cosine"
            ],
            "type": "string"
          }
        },
        "required": [
          "lr_scheduler_type"
        ],
        "type": "object"
      },
      "MultimodalParams": {
        "properties": {
          "train_vision": {
            "description": "Whether to train the vision encoder of the model. Only available for multimodal models.",
            "type": "boolean"
          }
        },
        "type": "object"
      },
      "FineTuneProgress": {
        "description": "Progress information for a fine-tuning job",
        "properties": {
          "estimate_available": {
            "description": "Whether time estimate is available",
            "type": "boolean"
          },
          "seconds_remaining": {
            "description": "Estimated time remaining in seconds for the fine-tuning job to next state",
            "type": "integer"
          }
        },
        "required": [
          "estimate_available",
          "seconds_remaining"
        ],
        "type": "object"
      },
      "FinetuneJobStatus": {
        "enum": [
          "pending",
          "queued",
          "running",
          "compressing",
          "uploading",
          "cancel_requested",
          "cancelled",
          "error",
          "completed"
        ],
        "type": "string"
      },
      "TrainingMethodSFT": {
        "properties": {
          "method": {
            "enum": [
              "sft"
            ],
            "type": "string"
          },
          "train_on_inputs": {
            "default": "auto",
            "description": "Whether to mask the user messages in conversational data or prompts in instruction data.",
            "oneOf": [
              {
                "type": "boolean"
              },
              {
                "enum": [
                  "auto"
                ],
                "type": "string"
              }
            ],
            "type": "boolean"
          }
        },
        "required": [
          "method",
          "train_on_inputs"
        ],
        "type": "object"
      },
      "TrainingMethodDPO": {
        "properties": {
          "dpo_beta": {
            "default": 0.1,
            "format": "float",
            "type": "number"
          },
          "dpo_normalize_logratios_by_length": {
            "default": false,
            "type": "boolean"
          },
          "dpo_reference_free": {
            "default": false,
            "type": "boolean"
          },
          "method": {
            "enum": [
              "dpo"
            ],
            "type": "string"
          },
          "rpo_alpha": {
            "default": 0,
            "format": "float",
            "type": "number"
          },
          "simpo_gamma": {
            "default": 0,
            "format": "float",
            "type": "number"
          }
        },
        "required": [
          "method"
        ],
        "type": "object"
      },
      "FullTrainingType": {
        "properties": {
          "type": {
            "enum": [
              "Full"
            ],
            "type": "string"
          }
        },
        "required": [
          "type"
        ],
        "type": "object"
      },
      "LoRATrainingType": {
        "properties": {
          "lora_alpha": {
            "type": "integer"
          },
          "lora_dropout": {
            "default": 0,
            "format": "float",
            "type": "number"
          },
          "lora_r": {
            "type": "integer"
          },
          "lora_trainable_modules": {
            "default": "all-linear",
            "type": "string"
          },
          "type": {
            "enum": [
              "Lora"
            ],
            "type": "string"
          }
        },
        "required": [
          "type",
          "lora_r",
          "lora_alpha"
        ],
        "type": "object"
      },
      "FinetuneEventLevels": {
        "enum": [
          null,
          "info",
          "warning",
          "error",
          "legacy_info",
          "legacy_iwarning",
          "legacy_ierror"
        ],
        "type": "string"
      },
      "FinetuneEventType": {
        "enum": [
          "job_pending",
          "job_start",
          "job_stopped",
          "model_downloading",
          "model_download_complete",
          "training_data_downloading",
          "training_data_download_complete",
          "validation_data_downloading",
          "validation_data_download_complete",
          "wandb_init",
          "training_start",
          "checkpoint_save",
          "billing_limit",
          "epoch_complete",
          "training_complete",
          "model_compressing",
          "model_compression_complete",
          "model_uploading",
          "model_upload_complete",
          "job_complete",
          "job_error",
          "cancel_requested",
          "job_restarted",
          "refund",
          "warning"
        ],
        "type": "string"
      },
      "LinearLRSchedulerArgs": {
        "properties": {
          "min_lr_ratio": {
            "default": 0,
            "description": "The ratio of the final learning rate to the peak learning rate",
            "format": "float",
            "type": "number"
          }
        },
        "type": "object"
      },
      "CosineLRSchedulerArgs": {
        "properties": {
          "min_lr_ratio": {
            "default": 0,
            "description": "The ratio of the final learning rate to the peak learning rate",
            "format": "float",
            "type": "number"
          },
          "num_cycles": {
            "default": 0.5,
            "description": "Number or fraction of cycles for the cosine learning rate scheduler",
            "format": "float",
            "type": "number"
          }
        },
        "required": [
          "min_lr_ratio",
          "num_cycles"
        ],
        "type": "object"
      }
    }
  }
}
