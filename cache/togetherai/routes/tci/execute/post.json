{
  "callbacks": {},
  "description": "Executes the given code snippet and returns the output. Without a session_id, a new session will be created to run the code. If you do pass in a valid session_id, the code will be run in that session. This is useful for running multiple code snippets in the same environment, because dependencies and similar things are persisted\nbetween calls to the same session.\n",
  "operationId": "tci/execute",
  "parameters": [],
  "requestBody": {
    "content": {
      "application/json": {
        "schema": {
          "$ref": "#/components/schemas/ExecuteRequest"
        }
      }
    },
    "description": "Execute Request",
    "required": false
  },
  "responses": {
    "200": {
      "content": {
        "application/json": {
          "schema": {
            "$ref": "#/components/schemas/ExecuteResponse"
          }
        }
      },
      "description": "Execute Response"
    }
  },
  "tags": [
    "Code Interpreter"
  ],
  "components": {
    "schemas": {
      "ExecuteRequest": {
        "properties": {
          "code": {
            "description": "Code snippet to execute.",
            "example": "print('Hello, world!')",
            "type": "string"
          },
          "files": {
            "description": "Files to upload to the session. If present, files will be uploaded before executing the given code.",
            "items": {
              "properties": {
                "content": {
                  "type": "string"
                },
                "encoding": {
                  "description": "Encoding of the file content. Use `string` for text files such as code, and `base64` for binary files, such as images.",
                  "enum": [
                    "string",
                    "base64"
                  ],
                  "type": "string"
                },
                "name": {
                  "type": "string"
                }
              },
              "required": [
                "name",
                "encoding",
                "content"
              ],
              "type": "object"
            },
            "type": "array"
          },
          "language": {
            "default": "python",
            "description": "Programming language for the code to execute. Currently only supports Python, but more will be added.",
            "enum": [
              "python"
            ]
          },
          "session_id": {
            "description": "Identifier of the current session. Used to make follow-up calls. Requests will return an error if the session does not belong to the caller or has expired.",
            "example": "ses_abcDEF123",
            "nullable": false,
            "type": "string"
          }
        },
        "required": [
          "language",
          "code"
        ],
        "title": "ExecuteRequest"
      },
      "ExecuteResponse": {
        "description": "The result of the execution. If successful, `data` contains the result and `errors` will be null. If unsuccessful, `data` will be null and `errors` will contain the errors.",
        "oneOf": [
          {
            "properties": {
              "data": {
                "nullable": false,
                "properties": {
                  "outputs": {
                    "items": {
                      "discriminator": {
                        "propertyName": "type"
                      },
                      "oneOf": [
                        {
                          "description": "Outputs that were printed to stdout or stderr",
                          "properties": {
                            "data": {
                              "type": "string"
                            },
                            "type": {
                              "enum": [
                                "stdout",
                                "stderr"
                              ],
                              "type": "string"
                            }
                          },
                          "required": [
                            "type",
                            "data"
                          ],
                          "title": "StreamOutput",
                          "type": "object"
                        },
                        {
                          "description": "Errors and exceptions that occurred. If this output type is present, your code did not execute successfully.",
                          "properties": {
                            "data": {
                              "type": "string"
                            },
                            "type": {
                              "enum": [
                                "error"
                              ],
                              "type": "string"
                            }
                          },
                          "required": [
                            "type",
                            "data"
                          ],
                          "title": "ErrorOutput"
                        },
                        {
                          "properties": {
                            "data": {
                              "properties": {
                                "application/geo+json": {
                                  "additionalProperties": true,
                                  "type": "object"
                                },
                                "application/javascript": {
                                  "type": "string"
                                },
                                "application/json": {
                                  "additionalProperties": true,
                                  "type": "object"
                                },
                                "application/pdf": {
                                  "format": "byte",
                                  "type": "string"
                                },
                                "application/vnd.vega.v5+json": {
                                  "additionalProperties": true,
                                  "type": "object"
                                },
                                "application/vnd.vegalite.v4+json": {
                                  "additionalProperties": true,
                                  "type": "object"
                                },
                                "image/gif": {
                                  "format": "byte",
                                  "type": "string"
                                },
                                "image/jpeg": {
                                  "format": "byte",
                                  "type": "string"
                                },
                                "image/png": {
                                  "format": "byte",
                                  "type": "string"
                                },
                                "image/svg+xml": {
                                  "type": "string"
                                },
                                "text/html": {
                                  "type": "string"
                                },
                                "text/latex": {
                                  "type": "string"
                                },
                                "text/markdown": {
                                  "type": "string"
                                },
                                "text/plain": {
                                  "type": "string"
                                }
                              },
                              "type": "object"
                            },
                            "type": {
                              "enum": [
                                "display_data",
                                "execute_result"
                              ],
                              "type": "string"
                            }
                          },
                          "required": [
                            "type",
                            "data"
                          ],
                          "title": "DisplayorExecuteOutput"
                        }
                      ],
                      "title": "InterpreterOutput"
                    },
                    "type": "array"
                  },
                  "session_id": {
                    "description": "Identifier of the current session. Used to make follow-up calls.",
                    "example": "ses_abcDEF123",
                    "nullable": false,
                    "type": "string"
                  },
                  "status": {
                    "description": "Status of the execution. Currently only supports success.",
                    "enum": [
                      "success"
                    ],
                    "type": "string"
                  }
                },
                "required": [
                  "session_id",
                  "outputs"
                ],
                "type": "object"
              },
              "errors": {
                "type": "null"
              }
            },
            "required": [
              "data",
              "errors"
            ],
            "title": "SuccessfulExecution",
            "type": "object"
          },
          {
            "properties": {
              "data": {
                "type": "null"
              },
              "errors": {
                "items": {
                  "oneOf": [
                    {
                      "type": "string"
                    },
                    {
                      "additionalProperties": true,
                      "type": "object"
                    }
                  ],
                  "title": "Error"
                },
                "type": "array"
              }
            },
            "required": [
              "data",
              "errors"
            ],
            "title": "FailedExecution",
            "type": "object"
          }
        ],
        "title": "ExecuteResponse",
        "type": "object"
      }
    }
  }
}
