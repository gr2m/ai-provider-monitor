{
  "operationId": "handle_get_deferred_video_request",
  "parameters": [
    {
      "description": "The deferred request id returned by a previous video generation request.",
      "in": "path",
      "name": "request_id",
      "required": true,
      "schema": {
        "type": "string"
      }
    }
  ],
  "responses": {
    "200": {
      "content": {
        "application/json": {
          "example": {
            "model": "grok-imagine-video",
            "video": {
              "duration": 6,
              "url": "https://vidgen.x.ai/xai-vidgen-bucket/xai-video-f532feb6-49a9-4f9a-9a37-6e64ef725e8f.mp4"
            }
          },
          "schema": {
            "$ref": "#/components/schemas/GetDeferredVideoResponse"
          }
        }
      },
      "description": "Video generation completed"
    },
    "202": {
      "description": "Video generation still in progress"
    },
    "400": {
      "description": "Bad request. The request is invalid or an invalid API key is provided."
    },
    "404": {
      "description": "Not found. No deferred video could be found with the given request_id."
    }
  },
  "security": [
    {
      "bearerAuth": []
    }
  ],
  "summary": "Get the result of a deferred video generation request.",
  "tags": [
    "v1"
  ],
  "components": {
    "schemas": {
      "GetDeferredVideoResponse": {
        "description": "Response for getting deferred video result.",
        "properties": {
          "response": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/VideoResponse",
                "description": "The generated video response. Only present if status is \"done\"."
              }
            ]
          },
          "status": {
            "description": "Status of the deferred request: \"pending\" or \"done\".",
            "type": "string"
          }
        },
        "required": [
          "status"
        ],
        "type": "object"
      },
      "VideoResponse": {
        "description": "Video generation response.",
        "properties": {
          "block_reason": {
            "description": "If the request was blocked by input moderation, contains the block reason.\nOnly populated when the media-usage team flag is enabled.",
            "type": [
              "string",
              "null"
            ]
          },
          "model": {
            "description": "The model used to generate the video.",
            "type": "string"
          },
          "usage": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/MediaUsage",
                "description": "Usage information for the video generation request."
              }
            ]
          },
          "video": {
            "$ref": "#/components/schemas/GeneratedVideo",
            "description": "The generated video data."
          }
        },
        "required": [
          "video",
          "model"
        ],
        "type": "object"
      },
      "MediaUsage": {
        "description": "Usage information for media generation requests (image and video).",
        "properties": {
          "cost_in_usd_ticks": {
            "description": "Accurate cost of this request in USD ticks, where \"tick\" is defined as follows:\nTICKS_IN_USD_CENT: i64 = 100_000_000\nwhich means there are 10_000_000_000 ticks in one *dollar*.",
            "format": "int64",
            "type": "integer"
          }
        },
        "required": [
          "cost_in_usd_ticks"
        ],
        "type": "object"
      },
      "GeneratedVideo": {
        "description": "Generated video.",
        "properties": {
          "duration": {
            "description": "Duration of the generated video in seconds.",
            "format": "int32",
            "type": "integer"
          },
          "respect_moderation": {
            "description": "Whether the video generated by the model respects moderation rules.\nThe field will be true if the video respects moderation rules. Otherwise\nthe field will be false and the video url field will be empty.",
            "type": "boolean"
          },
          "url": {
            "description": "A url to the generated video.",
            "type": [
              "string",
              "null"
            ]
          }
        },
        "required": [
          "duration",
          "respect_moderation"
        ],
        "type": "object"
      }
    }
  }
}
