{
  "operationId": "handle_generate_video_request",
  "requestBody": {
    "content": {
      "application/json": {
        "example": {
          "duration": 6,
          "model": "grok-imagine-video",
          "prompt": "A cat playing with a ball"
        },
        "schema": {
          "$ref": "#/components/schemas/GenerateVideoRequest"
        }
      }
    },
    "required": true
  },
  "responses": {
    "200": {
      "content": {
        "application/json": {
          "example": {
            "request_id": "a3d1008e-4544-40d4-d075-11527e794e4a"
          },
          "schema": {
            "$ref": "#/components/schemas/StartDeferredResponse"
          }
        }
      },
      "description": "Video generation started successfully"
    },
    "400": {
      "description": "Bad request. The request is invalid or an invalid API key is provided."
    },
    "422": {
      "description": "Unprocessable Entity. There are missing fields in the request body."
    }
  },
  "security": [
    {
      "bearerAuth": []
    }
  ],
  "summary": "Generate a video from a text prompt and optionally an image.\nThis is an asynchronous operation that returns a request_id for polling.",
  "tags": [
    "v1"
  ],
  "components": {
    "schemas": {
      "GenerateVideoRequest": {
        "description": "Request to generate video for `/v1/videos/generations` endpoint",
        "properties": {
          "aspect_ratio": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/VideoAspectRatio",
                "description": "Aspect ratio of the generated video."
              }
            ]
          },
          "duration": {
            "default": 8,
            "description": "Video duration in seconds. Range: [1, 15]. Default: 8.",
            "format": "int32",
            "maximum": 15,
            "minimum": 1,
            "type": [
              "integer",
              "null"
            ]
          },
          "image": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/ImageUrl",
                "description": "Optional input image for image-to-video generation.\nIf provided, generates video with this image as the first frame."
              }
            ]
          },
          "model": {
            "description": "Model to be used.",
            "example": "grok-imagine-video",
            "type": [
              "string",
              "null"
            ]
          },
          "output": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/VideoOutput",
                "description": "Optional output destination for generated video."
              }
            ]
          },
          "prompt": {
            "description": "Prompt for video generation.",
            "type": "string"
          },
          "resolution": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/VideoResolution",
                "description": "Resolution of the generated video."
              }
            ]
          },
          "size": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/VideoSize",
                "description": "The size of the generated video. DEPRECATED: Use aspect_ratio and resolution instead.\nDefaults to \"848x480\" (16:9) if not specified."
              }
            ]
          },
          "user": {
            "description": "A unique identifier representing your end-user.",
            "type": [
              "string",
              "null"
            ]
          }
        },
        "required": [
          "prompt"
        ],
        "type": "object"
      },
      "StartDeferredResponse": {
        "description": "Response for starting a deferred operation.",
        "properties": {
          "request_id": {
            "description": "A unique request ID to poll for the result.",
            "type": "string"
          }
        },
        "required": [
          "request_id"
        ],
        "type": "object"
      },
      "VideoAspectRatio": {
        "description": "Aspect ratio for video generation.",
        "enum": [
          "1:1",
          "16:9",
          "9:16",
          "4:3",
          "3:4",
          "3:2",
          "2:3"
        ],
        "type": "string"
      },
      "ImageUrl": {
        "description": "Image URL object of Image prompt",
        "properties": {
          "url": {
            "description": "URL of the image.",
            "type": "string"
          }
        },
        "required": [
          "url"
        ],
        "type": "object"
      },
      "VideoOutput": {
        "description": "Output destination for generated video.",
        "properties": {
          "upload_url": {
            "description": "Signed URL to upload the generated video via HTTP PUT.",
            "type": "string"
          }
        },
        "required": [
          "upload_url"
        ],
        "type": "object"
      },
      "VideoResolution": {
        "description": "Resolution for video generation.",
        "enum": [
          "480p",
          "720p"
        ],
        "type": "string"
      },
      "VideoSize": {
        "description": "Supported video sizes for video generation.\nDefaults to 848x480 (16:9) if not specified.",
        "enum": [
          "848x480",
          "1696x960",
          "1280x720",
          "1920x1080"
        ],
        "type": "string"
      }
    }
  }
}
