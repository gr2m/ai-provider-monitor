components:
  schemas:
    Agent:
      additionalProperties: false
      properties:
        completion_args:
          $ref: "#/components/schemas/CompletionArgs"
          description: Completion arguments that will be used to generate assistant responses. Can be overridden at each message request.
        created_at:
          format: date-time
          title: Created At
          type: string
        deployment_chat:
          title: Deployment Chat
          type: boolean
        description:
          anyOf:
            - type: string
            - type: "null"
          title: Description
        handoffs:
          anyOf:
            - items:
                type: string
              minItems: 1
              type: array
            - type: "null"
          title: Handoffs
        id:
          title: Id
          type: string
        instructions:
          anyOf:
            - type: string
            - type: "null"
          description: Instruction prompt the model will follow during the conversation.
          title: Instructions
        metadata:
          anyOf:
            - $ref: "#/components/schemas/MetadataDict"
            - type: "null"
        model:
          title: Model
          type: string
        name:
          title: Name
          type: string
        object:
          default: agent
          enum:
            - agent
          title: Object
          type: string
        source:
          title: Source
          type: string
        tools:
          description: List of tools which are available to the model during the conversation.
          items:
            discriminator:
              mapping:
                code_interpreter: "#/components/schemas/CodeInterpreterTool"
                document_library: "#/components/schemas/DocumentLibraryTool"
                function: "#/components/schemas/FunctionTool"
                image_generation: "#/components/schemas/ImageGenerationTool"
                web_search: "#/components/schemas/WebSearchTool"
                web_search_premium: "#/components/schemas/WebSearchPremiumTool"
              propertyName: type
            oneOf:
              - $ref: "#/components/schemas/FunctionTool"
              - $ref: "#/components/schemas/WebSearchTool"
              - $ref: "#/components/schemas/WebSearchPremiumTool"
              - $ref: "#/components/schemas/CodeInterpreterTool"
              - $ref: "#/components/schemas/ImageGenerationTool"
              - $ref: "#/components/schemas/DocumentLibraryTool"
          title: Tools
          type: array
        updated_at:
          format: date-time
          title: Updated At
          type: string
        version:
          title: Version
          type: integer
        versions:
          items:
            type: integer
          title: Versions
          type: array
      required:
        - model
        - name
        - id
        - version
        - versions
        - created_at
        - updated_at
        - deployment_chat
        - source
      title: Agent
      type: object
    AgentAliasResponse:
      additionalProperties: false
      properties:
        alias:
          title: Alias
          type: string
        created_at:
          format: date-time
          title: Created At
          type: string
        updated_at:
          format: date-time
          title: Updated At
          type: string
        version:
          title: Version
          type: integer
      required:
        - alias
        - version
        - created_at
        - updated_at
      title: AgentAliasResponse
      type: object
    AgentConversation:
      additionalProperties: false
      properties:
        agent_id:
          title: Agent Id
          type: string
        agent_version:
          anyOf:
            - type: string
            - type: integer
            - type: "null"
          title: Agent Version
        created_at:
          format: date-time
          title: Created At
          type: string
        description:
          anyOf:
            - type: string
            - type: "null"
          description: Description of the what the conversation is about.
          title: Description
        id:
          title: Id
          type: string
        metadata:
          anyOf:
            - $ref: "#/components/schemas/MetadataDict"
            - type: "null"
          description: Custom metadata for the conversation.
        name:
          anyOf:
            - type: string
            - type: "null"
          description: Name given to the conversation.
          title: Name
        object:
          default: conversation
          enum:
            - conversation
          title: Object
          type: string
        updated_at:
          format: date-time
          title: Updated At
          type: string
      required:
        - id
        - created_at
        - updated_at
        - agent_id
      title: AgentConversation
      type: object
    AgentCreationRequest:
      additionalProperties: false
      properties:
        completion_args:
          $ref: "#/components/schemas/CompletionArgs"
          description: Completion arguments that will be used to generate assistant responses. Can be overridden at each message request.
        description:
          anyOf:
            - type: string
            - type: "null"
          title: Description
        handoffs:
          anyOf:
            - items:
                type: string
              minItems: 1
              type: array
            - type: "null"
          title: Handoffs
        instructions:
          anyOf:
            - type: string
            - type: "null"
          description: Instruction prompt the model will follow during the conversation.
          title: Instructions
        metadata:
          anyOf:
            - $ref: "#/components/schemas/MetadataDict"
            - type: "null"
        model:
          title: Model
          type: string
        name:
          title: Name
          type: string
        tools:
          description: List of tools which are available to the model during the conversation.
          items:
            discriminator:
              mapping:
                code_interpreter: "#/components/schemas/CodeInterpreterTool"
                document_library: "#/components/schemas/DocumentLibraryTool"
                function: "#/components/schemas/FunctionTool"
                image_generation: "#/components/schemas/ImageGenerationTool"
                web_search: "#/components/schemas/WebSearchTool"
                web_search_premium: "#/components/schemas/WebSearchPremiumTool"
              propertyName: type
            oneOf:
              - $ref: "#/components/schemas/FunctionTool"
              - $ref: "#/components/schemas/WebSearchTool"
              - $ref: "#/components/schemas/WebSearchPremiumTool"
              - $ref: "#/components/schemas/CodeInterpreterTool"
              - $ref: "#/components/schemas/ImageGenerationTool"
              - $ref: "#/components/schemas/DocumentLibraryTool"
          title: Tools
          type: array
      required:
        - model
        - name
      title: AgentCreationRequest
      type: object
    AgentHandoffDoneEvent:
      additionalProperties: false
      properties:
        created_at:
          format: date-time
          title: Created At
          type: string
        id:
          title: Id
          type: string
        next_agent_id:
          title: Next Agent Id
          type: string
        next_agent_name:
          title: Next Agent Name
          type: string
        output_index:
          default: 0
          title: Output Index
          type: integer
        type:
          default: agent.handoff.done
          enum:
            - agent.handoff.done
          title: Type
          type: string
      required:
        - id
        - next_agent_id
        - next_agent_name
      title: AgentHandoffDoneEvent
      type: object
    AgentHandoffEntry:
      additionalProperties: false
      properties:
        completed_at:
          anyOf:
            - format: date-time
              type: string
            - type: "null"
          title: Completed At
        created_at:
          format: date-time
          title: Created At
          type: string
        id:
          title: Id
          type: string
        next_agent_id:
          title: Next Agent Id
          type: string
        next_agent_name:
          title: Next Agent Name
          type: string
        object:
          default: entry
          enum:
            - entry
          title: Object
          type: string
        previous_agent_id:
          title: Previous Agent Id
          type: string
        previous_agent_name:
          title: Previous Agent Name
          type: string
        type:
          default: agent.handoff
          enum:
            - agent.handoff
          title: Type
          type: string
      required:
        - previous_agent_id
        - previous_agent_name
        - next_agent_id
        - next_agent_name
      title: AgentHandoffEntry
      type: object
    AgentHandoffStartedEvent:
      additionalProperties: false
      properties:
        created_at:
          format: date-time
          title: Created At
          type: string
        id:
          title: Id
          type: string
        output_index:
          default: 0
          title: Output Index
          type: integer
        previous_agent_id:
          title: Previous Agent Id
          type: string
        previous_agent_name:
          title: Previous Agent Name
          type: string
        type:
          default: agent.handoff.started
          enum:
            - agent.handoff.started
          title: Type
          type: string
      required:
        - id
        - previous_agent_id
        - previous_agent_name
      title: AgentHandoffStartedEvent
      type: object
    AgentUpdateRequest:
      additionalProperties: false
      properties:
        completion_args:
          $ref: "#/components/schemas/CompletionArgs"
          description: Completion arguments that will be used to generate assistant responses. Can be overridden at each message request.
        deployment_chat:
          anyOf:
            - type: boolean
            - type: "null"
          title: Deployment Chat
        description:
          anyOf:
            - type: string
            - type: "null"
          title: Description
        handoffs:
          anyOf:
            - items:
                type: string
              minItems: 1
              type: array
            - type: "null"
          title: Handoffs
        instructions:
          anyOf:
            - type: string
            - type: "null"
          description: Instruction prompt the model will follow during the conversation.
          title: Instructions
        metadata:
          anyOf:
            - $ref: "#/components/schemas/MetadataDict"
            - type: "null"
        model:
          anyOf:
            - type: string
            - type: "null"
          title: Model
        name:
          anyOf:
            - type: string
            - type: "null"
          title: Name
        tools:
          description: List of tools which are available to the model during the conversation.
          items:
            discriminator:
              mapping:
                code_interpreter: "#/components/schemas/CodeInterpreterTool"
                document_library: "#/components/schemas/DocumentLibraryTool"
                function: "#/components/schemas/FunctionTool"
                image_generation: "#/components/schemas/ImageGenerationTool"
                web_search: "#/components/schemas/WebSearchTool"
                web_search_premium: "#/components/schemas/WebSearchPremiumTool"
              propertyName: type
            oneOf:
              - $ref: "#/components/schemas/FunctionTool"
              - $ref: "#/components/schemas/WebSearchTool"
              - $ref: "#/components/schemas/WebSearchPremiumTool"
              - $ref: "#/components/schemas/CodeInterpreterTool"
              - $ref: "#/components/schemas/ImageGenerationTool"
              - $ref: "#/components/schemas/DocumentLibraryTool"
          title: Tools
          type: array
      title: AgentUpdateRequest
      type: object
    AgentsCompletionRequest:
      additionalProperties: false
      properties:
        agent_id:
          description: The ID of the agent to use for this completion.
          type: string
        frequency_penalty:
          default: 0.0
          description: The `frequency_penalty` penalizes the repetition of words based on their frequency in the generated text. A higher frequency penalty discourages the model from repeating words that have already appeared frequently in the output, promoting diversity and reducing repetition.
          maximum: 2
          minimum: -2
          title: Frequency Penalty
          type: number
        max_tokens:
          anyOf:
            - minimum: 0
              type: integer
            - type: "null"
          description: The maximum number of tokens to generate in the completion. The token count of your prompt plus `max_tokens` cannot exceed the model's context length.
          title: Max Tokens
        messages:
          description: The prompt(s) to generate completions for, encoded as a list of dict with role and content.
          examples:
            - - content: Who is the best French painter? Answer in one short sentence.
                role: user
          items:
            discriminator:
              mapping:
                assistant: "#/components/schemas/AssistantMessage"
                system: "#/components/schemas/SystemMessage"
                tool: "#/components/schemas/ToolMessage"
                user: "#/components/schemas/UserMessage"
              propertyName: role
            oneOf:
              - $ref: "#/components/schemas/SystemMessage"
              - $ref: "#/components/schemas/UserMessage"
              - $ref: "#/components/schemas/AssistantMessage"
              - $ref: "#/components/schemas/ToolMessage"
          title: Messages
          type: array
        metadata:
          anyOf:
            - additionalProperties: true
              type: object
            - type: "null"
          title: Metadata
        n:
          anyOf:
            - minimum: 1
              type: integer
            - type: "null"
          description: Number of completions to return for each request, input tokens are only billed once.
          title: N
        parallel_tool_calls:
          default: true
          title: Parallel Tool Calls
          type: boolean
        prediction:
          $ref: "#/components/schemas/Prediction"
          default:
            content: ""
            type: content
          description: Enable users to specify expected results, optimizing response times by leveraging known or predictable content. This approach is especially effective for updating text documents or code files with minimal changes, reducing latency while maintaining high-quality results.
        presence_penalty:
          default: 0.0
          description: The `presence_penalty` determines how much the model penalizes the repetition of words or phrases. A higher presence penalty encourages the model to use a wider variety of words and phrases, making the output more diverse and creative.
          maximum: 2
          minimum: -2
          title: Presence Penalty
          type: number
        prompt_mode:
          anyOf:
            - $ref: "#/components/schemas/MistralPromptMode"
            - type: "null"
          description: Allows toggling between the reasoning mode and no system prompt. When set to `reasoning` the system prompt for reasoning models will be used.
        random_seed:
          anyOf:
            - minimum: 0
              type: integer
            - type: "null"
          description: The seed to use for random sampling. If set, different calls will generate deterministic results.
          title: Random Seed
        response_format:
          $ref: "#/components/schemas/ResponseFormat"
        stop:
          anyOf:
            - type: string
            - items:
                type: string
              type: array
          description: Stop generation if this token is detected. Or if one of these tokens is detected when providing an array
          title: Stop
        stream:
          default: false
          description: "Whether to stream back partial progress. If set, tokens will be sent as data-only server-side events as they become available, with the stream terminated by a data: [DONE] message. Otherwise, the server will hold the request open until the timeout or until completion, with the response containing the full result as JSON."
          title: Stream
          type: boolean
        tool_choice:
          anyOf:
            - $ref: "#/components/schemas/ToolChoice"
            - $ref: "#/components/schemas/ToolChoiceEnum"
          default: auto
          title: Tool Choice
        tools:
          anyOf:
            - items:
                $ref: "#/components/schemas/Tool"
              type: array
            - type: "null"
          title: Tools
      required:
        - messages
        - agent_id
      title: AgentsCompletionRequest
      type: object
    ApiEndpoint:
      enum:
        - /v1/chat/completions
        - /v1/embeddings
        - /v1/fim/completions
        - /v1/moderations
        - /v1/chat/moderations
        - /v1/ocr
        - /v1/classifications
        - /v1/chat/classifications
        - /v1/conversations
        - /v1/audio/transcriptions
      title: ApiEndpoint
      type: string
    ArchiveFTModelOut:
      properties:
        archived:
          default: true
          title: Archived
          type: boolean
        id:
          title: Id
          type: string
        object:
          default: model
          enum:
            - model
          title: Object
          type: string
      required:
        - id
      title: ArchiveFTModelOut
      type: object
    AssistantMessage:
      additionalProperties: false
      properties:
        content:
          anyOf:
            - type: string
            - type: "null"
            - items:
                $ref: "#/components/schemas/ContentChunk"
              type: array
          title: Content
        prefix:
          default: false
          description: Set this to `true` when adding an assistant message as prefix to condition the model response. The role of the prefix message is to force the model to start its answer by the content of the message.
          title: Prefix
          type: boolean
        role:
          default: assistant
          enum:
            - assistant
          title: Role
          type: string
        tool_calls:
          anyOf:
            - items:
                $ref: "#/components/schemas/ToolCall"
              type: array
            - type: "null"
          title: Tool Calls
      title: AssistantMessage
      type: object
    AudioChunk:
      additionalProperties: false
      properties:
        input_audio:
          anyOf:
            - type: string
            - format: binary
              type: string
          title: Input Audio
        type:
          default: input_audio
          enum:
            - input_audio
          title: Type
          type: string
      required:
        - input_audio
      title: AudioChunk
      type: object
    AudioEncoding:
      enum:
        - pcm_s16le
        - pcm_s32le
        - pcm_f16le
        - pcm_f32le
        - pcm_mulaw
        - pcm_alaw
      title: AudioEncoding
      type: string
    AudioFormat:
      additionalProperties: false
      properties:
        encoding:
          $ref: "#/components/schemas/AudioEncoding"
        sample_rate:
          maximum: 96000
          minimum: 8000
          title: Sample Rate
          type: integer
      required:
        - encoding
        - sample_rate
      title: AudioFormat
      type: object
    AudioTranscriptionRequest:
      properties:
        context_bias:
          default: []
          items:
            pattern: ^[^,\s]+$
            type: string
          title: Context Bias
          type: array
        diarize:
          default: false
          title: Diarize
          type: boolean
        file:
          anyOf:
            - $ref: "#/components/schemas/File"
            - type: "null"
          default:
          title: File
        file_id:
          anyOf:
            - type: string
            - type: "null"
          default:
          description: ID of a file uploaded to /v1/files
          title: File Id
        file_url:
          anyOf:
            - format: uri
              maxLength: 2083
              minLength: 1
              type: string
            - type: "null"
          default:
          description: Url of a file to be transcribed
          title: File Url
        language:
          anyOf:
            - pattern: ^\w{2}$
              type: string
            - type: "null"
          default:
          description: Language of the audio, e.g. 'en'. Providing the language can boost accuracy.
          title: Language
        model:
          description: ID of the model to be used.
          examples:
            - voxtral-mini-latest
            - voxtral-mini-2507
          title: Model
          type: string
        stream:
          const: false
          default: false
          title: Stream
          type: boolean
        temperature:
          anyOf:
            - type: number
            - type: "null"
          default:
          title: Temperature
        timestamp_granularities:
          description: Granularities of timestamps to include in the response.
          items:
            $ref: "#/components/schemas/TimestampGranularity"
          title: Timestamp Granularities
          type: array
      required:
        - model
      title: AudioTranscriptionRequest
      type: object
    AudioTranscriptionRequestStream:
      properties:
        context_bias:
          default: []
          items:
            pattern: ^[^,\s]+$
            type: string
          title: Context Bias
          type: array
        diarize:
          default: false
          title: Diarize
          type: boolean
        file:
          anyOf:
            - $ref: "#/components/schemas/File"
            - type: "null"
          default:
          title: File
        file_id:
          anyOf:
            - type: string
            - type: "null"
          default:
          description: ID of a file uploaded to /v1/files
          title: File Id
        file_url:
          anyOf:
            - format: uri
              maxLength: 2083
              minLength: 1
              type: string
            - type: "null"
          default:
          description: Url of a file to be transcribed
          title: File Url
        language:
          anyOf:
            - pattern: ^\w{2}$
              type: string
            - type: "null"
          default:
          description: Language of the audio, e.g. 'en'. Providing the language can boost accuracy.
          title: Language
        model:
          title: Model
          type: string
        stream:
          const: true
          default: true
          title: Stream
          type: boolean
        temperature:
          anyOf:
            - type: number
            - type: "null"
          default:
          title: Temperature
        timestamp_granularities:
          description: Granularities of timestamps to include in the response.
          items:
            $ref: "#/components/schemas/TimestampGranularity"
          title: Timestamp Granularities
          type: array
      required:
        - model
      title: AudioTranscriptionRequestStream
      type: object
    BaseModelCard:
      properties:
        aliases:
          default: []
          items:
            type: string
          title: Aliases
          type: array
        capabilities:
          $ref: "#/components/schemas/ModelCapabilities"
        created:
          title: Created
          type: integer
        default_model_temperature:
          anyOf:
            - type: number
            - type: "null"
          title: Default Model Temperature
        deprecation:
          anyOf:
            - format: date-time
              type: string
            - type: "null"
          title: Deprecation
        deprecation_replacement_model:
          anyOf:
            - type: string
            - type: "null"
          title: Deprecation Replacement Model
        description:
          anyOf:
            - type: string
            - type: "null"
          title: Description
        id:
          title: Id
          type: string
        max_context_length:
          default: 32768
          title: Max Context Length
          type: integer
        name:
          anyOf:
            - type: string
            - type: "null"
          title: Name
        object:
          default: model
          title: Object
          type: string
        owned_by:
          default: mistralai
          title: Owned By
          type: string
        type:
          const: base
          default: base
          enum:
            - base
          title: Type
          type: string
      required:
        - id
        - capabilities
      title: BaseModelCard
      type: object
    BatchError:
      properties:
        count:
          default: 1
          title: Count
          type: integer
        message:
          title: Message
          type: string
      required:
        - message
      title: BatchError
      type: object
    BatchJobIn:
      properties:
        agent_id:
          anyOf:
            - type: string
            - type: "null"
          description: In case you want to use a specific agent from the **deprecated** agents api for batch inference, you can specify the agent ID here.
          title: Agent Id
        endpoint:
          $ref: "#/components/schemas/ApiEndpoint"
          description: The endpoint to be used for batch inference.
          examples:
            - /v1/chat/completions
            - /v1/embeddings
            - /v1/fim/completions
        input_files:
          anyOf:
            - items:
                format: uuid
                type: string
              type: array
            - type: "null"
          description: 'The list of input files to be used for batch inference, these files should be `jsonl` files, containing the input data corresponding to the bory request for the batch inference in a "body" field. An example of such file is the following: ```json {"custom_id": "0", "body": {"max_tokens": 100, "messages": [{"role": "user", "content": "What is the best French cheese?"}]}} {"custom_id": "1", "body": {"max_tokens": 100, "messages": [{"role": "user", "content": "What is the best French wine?"}]}} ```'
          title: Input Files
        metadata:
          anyOf:
            - additionalProperties:
                maxLength: 512
                minLength: 1
                type: string
              propertyNames:
                maxLength: 32
                minLength: 1
              type: object
            - type: "null"
          description: The metadata of your choice to be associated with the batch inference job.
          title: Metadata
        model:
          anyOf:
            - type: string
            - type: "null"
          description: The model to be used for batch inference.
          examples:
            - mistral-small-latest
            - mistral-medium-latest
          title: Model
        requests:
          anyOf:
            - items:
                $ref: "#/components/schemas/BatchRequest"
              maxItems: 10000
              type: array
            - type: "null"
          title: Requests
        timeout_hours:
          default: 24
          description: The timeout in hours for the batch inference job.
          title: Timeout Hours
          type: integer
      required:
        - endpoint
      title: BatchJobIn
      type: object
    BatchJobOut:
      properties:
        agent_id:
          anyOf:
            - type: string
            - type: "null"
          title: Agent Id
        completed_at:
          anyOf:
            - type: integer
            - type: "null"
          title: Completed At
        completed_requests:
          title: Completed Requests
          type: integer
        created_at:
          title: Created At
          type: integer
        endpoint:
          title: Endpoint
          type: string
        error_file:
          anyOf:
            - format: uuid
              type: string
            - type: "null"
          title: Error File
        errors:
          items:
            $ref: "#/components/schemas/BatchError"
          title: Errors
          type: array
        failed_requests:
          title: Failed Requests
          type: integer
        id:
          title: Id
          type: string
        input_files:
          items:
            format: uuid
            type: string
          title: Input Files
          type: array
        metadata:
          anyOf:
            - additionalProperties: true
              type: object
            - type: "null"
          title: Metadata
        model:
          anyOf:
            - type: string
            - type: "null"
          title: Model
        object:
          default: batch
          enum:
            - batch
          title: Object
          type: string
        output_file:
          anyOf:
            - format: uuid
              type: string
            - type: "null"
          title: Output File
        outputs:
          anyOf:
            - items:
                additionalProperties: true
                type: object
              type: array
            - type: "null"
          title: Outputs
        started_at:
          anyOf:
            - type: integer
            - type: "null"
          title: Started At
        status:
          $ref: "#/components/schemas/BatchJobStatus"
        succeeded_requests:
          title: Succeeded Requests
          type: integer
        total_requests:
          title: Total Requests
          type: integer
      required:
        - id
        - input_files
        - endpoint
        - errors
        - status
        - created_at
        - total_requests
        - completed_requests
        - succeeded_requests
        - failed_requests
      title: BatchJobOut
      type: object
    BatchJobStatus:
      enum:
        - QUEUED
        - RUNNING
        - SUCCESS
        - FAILED
        - TIMEOUT_EXCEEDED
        - CANCELLATION_REQUESTED
        - CANCELLED
      title: BatchJobStatus
      type: string
    BatchJobsOut:
      properties:
        data:
          default: []
          items:
            $ref: "#/components/schemas/BatchJobOut"
          title: Data
          type: array
        object:
          default: list
          enum:
            - list
          title: Object
          type: string
        total:
          title: Total
          type: integer
      required:
        - total
      title: BatchJobsOut
      type: object
    BatchRequest:
      properties:
        body:
          additionalProperties: true
          title: Body
          type: object
        custom_id:
          anyOf:
            - type: string
            - type: "null"
          title: Custom Id
      required:
        - body
      title: BatchRequest
      type: object
    BuiltInConnectors:
      enum:
        - web_search
        - web_search_premium
        - code_interpreter
        - image_generation
        - document_library
      title: BuiltInConnectors
      type: string
    ChatClassificationRequest:
      additionalProperties: false
      properties:
        input:
          $ref: "#/components/schemas/ChatClassificationRequestInputs"
        model:
          title: Model
          type: string
      required:
        - input
        - model
      title: ChatClassificationRequest
      type: object
    ChatClassificationRequestInputs:
      anyOf:
        - $ref: "#/components/schemas/InstructRequest"
        - items:
            $ref: "#/components/schemas/InstructRequest"
          type: array
      description: Chat to classify
      title: ChatClassificationRequestInputs
    ChatCompletionChoice:
      properties:
        finish_reason:
          enum:
            - stop
            - length
            - model_length
            - error
            - tool_calls
          example: stop
          type: string
        index:
          example: 0
          type: integer
        message:
          $ref: "#/components/schemas/AssistantMessage"
      required:
        - index
        - finish_reason
        - message
      title: ChatCompletionChoice
      type: object
    ChatCompletionRequest:
      additionalProperties: false
      properties:
        frequency_penalty:
          default: 0.0
          description: The `frequency_penalty` penalizes the repetition of words based on their frequency in the generated text. A higher frequency penalty discourages the model from repeating words that have already appeared frequently in the output, promoting diversity and reducing repetition.
          maximum: 2
          minimum: -2
          title: Frequency Penalty
          type: number
        max_tokens:
          anyOf:
            - minimum: 0
              type: integer
            - type: "null"
          description: The maximum number of tokens to generate in the completion. The token count of your prompt plus `max_tokens` cannot exceed the model's context length.
          title: Max Tokens
        messages:
          description: The prompt(s) to generate completions for, encoded as a list of dict with role and content.
          examples:
            - - content: Who is the best French painter? Answer in one short sentence.
                role: user
          items:
            discriminator:
              mapping:
                assistant: "#/components/schemas/AssistantMessage"
                system: "#/components/schemas/SystemMessage"
                tool: "#/components/schemas/ToolMessage"
                user: "#/components/schemas/UserMessage"
              propertyName: role
            oneOf:
              - $ref: "#/components/schemas/SystemMessage"
              - $ref: "#/components/schemas/UserMessage"
              - $ref: "#/components/schemas/AssistantMessage"
              - $ref: "#/components/schemas/ToolMessage"
          title: Messages
          type: array
        metadata:
          anyOf:
            - additionalProperties: true
              type: object
            - type: "null"
          title: Metadata
        model:
          description: ID of the model to use. You can use the [List Available Models](/api/#tag/models/operation/list_models_v1_models_get) API to see all of your available models, or see our [Model overview](/models) for model descriptions.
          examples:
            - mistral-large-latest
          title: Model
          type: string
        n:
          anyOf:
            - minimum: 1
              type: integer
            - type: "null"
          description: Number of completions to return for each request, input tokens are only billed once.
          title: N
        parallel_tool_calls:
          default: true
          description: Whether to enable parallel function calling during tool use, when enabled the model can call multiple tools in parallel.
          title: Parallel Tool Calls
          type: boolean
        prediction:
          $ref: "#/components/schemas/Prediction"
          default:
            content: ""
            type: content
          description: Enable users to specify expected results, optimizing response times by leveraging known or predictable content. This approach is especially effective for updating text documents or code files with minimal changes, reducing latency while maintaining high-quality results.
        presence_penalty:
          default: 0.0
          description: The `presence_penalty` determines how much the model penalizes the repetition of words or phrases. A higher presence penalty encourages the model to use a wider variety of words and phrases, making the output more diverse and creative.
          maximum: 2
          minimum: -2
          title: Presence Penalty
          type: number
        prompt_mode:
          anyOf:
            - $ref: "#/components/schemas/MistralPromptMode"
            - type: "null"
          description: Allows toggling between the reasoning mode and no system prompt. When set to `reasoning` the system prompt for reasoning models will be used.
        random_seed:
          anyOf:
            - minimum: 0
              type: integer
            - type: "null"
          description: The seed to use for random sampling. If set, different calls will generate deterministic results.
          title: Random Seed
        response_format:
          $ref: "#/components/schemas/ResponseFormat"
        safe_prompt:
          default: false
          description: Whether to inject a safety prompt before all conversations.
          type: boolean
        stop:
          anyOf:
            - type: string
            - items:
                type: string
              type: array
          description: Stop generation if this token is detected. Or if one of these tokens is detected when providing an array
          title: Stop
        stream:
          default: false
          description: "Whether to stream back partial progress. If set, tokens will be sent as data-only server-side events as they become available, with the stream terminated by a data: [DONE] message. Otherwise, the server will hold the request open until the timeout or until completion, with the response containing the full result as JSON."
          title: Stream
          type: boolean
        temperature:
          anyOf:
            - maximum: 1.5
              minimum: 0
              type: number
            - type: "null"
          description: What sampling temperature to use, we recommend between 0.0 and 0.7. Higher values like 0.7 will make the output more random, while lower values like 0.2 will make it more focused and deterministic. We generally recommend altering this or `top_p` but not both. The default value varies depending on the model you are targeting. Call the `/models` endpoint to retrieve the appropriate value.
          title: Temperature
        tool_choice:
          anyOf:
            - $ref: "#/components/schemas/ToolChoice"
            - $ref: "#/components/schemas/ToolChoiceEnum"
          default: auto
          description: 'Controls which (if any) tool is called by the model. `none` means the model will not call any tool and instead generates a message. `auto` means the model can pick between generating a message or calling one or more tools. `any` or `required` means the model must call one or more tools. Specifying a particular tool via `{"type": "function", "function": {"name": "my_function"}}` forces the model to call that tool.'
          title: Tool Choice
        tools:
          anyOf:
            - items:
                $ref: "#/components/schemas/Tool"
              type: array
            - type: "null"
          description: A list of tools the model may call. Use this to provide a list of functions the model may generate JSON inputs for.
          title: Tools
        top_p:
          default: 1.0
          description: Nucleus sampling, where the model considers the results of the tokens with `top_p` probability mass. So 0.1 means only the tokens comprising the top 10% probability mass are considered. We generally recommend altering this or `temperature` but not both.
          maximum: 1
          minimum: 0
          title: Top P
          type: number
      required:
        - messages
        - model
      title: ChatCompletionRequest
      type: object
    ChatCompletionResponse:
      allOf:
        - $ref: "#/components/schemas/ChatCompletionResponseBase"
        - properties:
            choices:
              items:
                $ref: "#/components/schemas/ChatCompletionChoice"
              type: array
          required:
            - id
            - object
            - data
            - model
            - usage
            - created
            - choices
          title: ChatCompletionResponse
          type: object
    ChatCompletionResponseBase:
      allOf:
        - $ref: "#/components/schemas/ResponseBase"
        - properties:
            created:
              example: 1702256327
              type: integer
          title: ChatCompletionResponseBase
          type: object
    ChatModerationRequest:
      additionalProperties: false
      properties:
        input:
          anyOf:
            - items:
                discriminator:
                  mapping:
                    assistant: "#/components/schemas/AssistantMessage"
                    system: "#/components/schemas/SystemMessage"
                    tool: "#/components/schemas/ToolMessage"
                    user: "#/components/schemas/UserMessage"
                  propertyName: role
                oneOf:
                  - $ref: "#/components/schemas/SystemMessage"
                  - $ref: "#/components/schemas/UserMessage"
                  - $ref: "#/components/schemas/AssistantMessage"
                  - $ref: "#/components/schemas/ToolMessage"
              type: array
            - items:
                items:
                  discriminator:
                    mapping:
                      assistant: "#/components/schemas/AssistantMessage"
                      system: "#/components/schemas/SystemMessage"
                      tool: "#/components/schemas/ToolMessage"
                      user: "#/components/schemas/UserMessage"
                    propertyName: role
                  oneOf:
                    - $ref: "#/components/schemas/SystemMessage"
                    - $ref: "#/components/schemas/UserMessage"
                    - $ref: "#/components/schemas/AssistantMessage"
                    - $ref: "#/components/schemas/ToolMessage"
                type: array
              type: array
          description: Chat to classify
          title: Input
        model:
          title: Model
          type: string
      required:
        - input
        - model
      title: ChatModerationRequest
      type: object
    CheckpointOut:
      properties:
        created_at:
          description: The UNIX timestamp (in seconds) for when the checkpoint was created.
          examples:
            - 1716963433
          title: Created At
          type: integer
        metrics:
          $ref: "#/components/schemas/MetricOut"
        step_number:
          description: The step number that the checkpoint was created at.
          title: Step Number
          type: integer
      required:
        - metrics
        - step_number
        - created_at
      title: CheckpointOut
      type: object
    ClassificationRequest:
      additionalProperties: false
      properties:
        input:
          anyOf:
            - type: string
            - items:
                type: string
              type: array
          description: Text to classify.
          title: Input
        metadata:
          anyOf:
            - additionalProperties: true
              type: object
            - type: "null"
          title: Metadata
        model:
          description: ID of the model to use.
          examples:
            - mistral-moderation-latest
          title: Model
          type: string
      required:
        - input
        - model
      title: ClassificationRequest
      type: object
    ClassificationResponse:
      properties:
        id:
          example: mod-e5cc70bb28c444948073e77776eb30ef
          type: string
        model:
          type: string
        results:
          items:
            additionalProperties:
              $ref: "#/components/schemas/ClassificationTargetResult"
            title: ClassificationTargetResult
            type: object
          type: array
      required:
        - id
        - model
        - results
      title: ClassificationResponse
      type: object
    ClassificationTargetResult:
      properties:
        scores:
          additionalProperties:
            type: number
          title: ClassifierTargetResultScores
          type: object
      required:
        - scores
      title: ClassificationTargetResult
      type: object
    ClassifierDetailedJobOut:
      properties:
        auto_start:
          title: Auto Start
          type: boolean
        checkpoints:
          default: []
          items:
            $ref: "#/components/schemas/CheckpointOut"
          title: Checkpoints
          type: array
        classifier_targets:
          items:
            $ref: "#/components/schemas/ClassifierTargetOut"
          title: Classifier Targets
          type: array
        created_at:
          title: Created At
          type: integer
        events:
          default: []
          description: Event items are created every time the status of a fine-tuning job changes. The timestamped list of all events is accessible here.
          items:
            $ref: "#/components/schemas/EventOut"
          title: Events
          type: array
        fine_tuned_model:
          anyOf:
            - type: string
            - type: "null"
          title: Fine Tuned Model
        hyperparameters:
          $ref: "#/components/schemas/ClassifierTrainingParameters"
        id:
          format: uuid
          title: Id
          type: string
        integrations:
          anyOf:
            - items:
                discriminator:
                  mapping:
                    wandb: "#/components/schemas/WandbIntegrationOut"
                  propertyName: type
                oneOf:
                  - $ref: "#/components/schemas/WandbIntegrationOut"
              type: array
            - type: "null"
          title: Integrations
        job_type:
          default: classifier
          enum:
            - classifier
          title: Job Type
          type: string
        metadata:
          anyOf:
            - $ref: "#/components/schemas/JobMetadataOut"
            - type: "null"
        model:
          $ref: "#/components/schemas/FineTuneableModel"
        modified_at:
          title: Modified At
          type: integer
        object:
          default: job
          enum:
            - job
          title: Object
          type: string
        status:
          enum:
            - QUEUED
            - STARTED
            - VALIDATING
            - VALIDATED
            - RUNNING
            - FAILED_VALIDATION
            - FAILED
            - SUCCESS
            - CANCELLED
            - CANCELLATION_REQUESTED
          title: Status
          type: string
        suffix:
          anyOf:
            - type: string
            - type: "null"
          title: Suffix
        trained_tokens:
          anyOf:
            - type: integer
            - type: "null"
          title: Trained Tokens
        training_files:
          items:
            format: uuid
            type: string
          title: Training Files
          type: array
        validation_files:
          anyOf:
            - items:
                format: uuid
                type: string
              type: array
            - type: "null"
          default: []
          title: Validation Files
      required:
        - id
        - auto_start
        - model
        - status
        - created_at
        - modified_at
        - training_files
        - hyperparameters
        - classifier_targets
      title: ClassifierDetailedJobOut
      type: object
    ClassifierFTModelOut:
      properties:
        aliases:
          default: []
          items:
            type: string
          title: Aliases
          type: array
        archived:
          title: Archived
          type: boolean
        capabilities:
          $ref: "#/components/schemas/FTModelCapabilitiesOut"
        classifier_targets:
          items:
            $ref: "#/components/schemas/ClassifierTargetOut"
          title: Classifier Targets
          type: array
        created:
          title: Created
          type: integer
        description:
          anyOf:
            - type: string
            - type: "null"
          title: Description
        id:
          title: Id
          type: string
        job:
          format: uuid
          title: Job
          type: string
        max_context_length:
          default: 32768
          title: Max Context Length
          type: integer
        model_type:
          default: classifier
          enum:
            - classifier
          title: Model Type
          type: string
        name:
          anyOf:
            - type: string
            - type: "null"
          title: Name
        object:
          default: model
          enum:
            - model
          title: Object
          type: string
        owned_by:
          title: Owned By
          type: string
        root:
          title: Root
          type: string
        root_version:
          title: Root Version
          type: string
        workspace_id:
          title: Workspace Id
          type: string
      required:
        - id
        - created
        - owned_by
        - workspace_id
        - root
        - root_version
        - archived
        - capabilities
        - job
        - classifier_targets
      title: ClassifierFTModelOut
      type: object
    ClassifierJobOut:
      properties:
        auto_start:
          title: Auto Start
          type: boolean
        created_at:
          description: The UNIX timestamp (in seconds) for when the fine-tuning job was created.
          title: Created At
          type: integer
        fine_tuned_model:
          anyOf:
            - type: string
            - type: "null"
          description: The name of the fine-tuned model that is being created. The value will be `null` if the fine-tuning job is still running.
          title: Fine Tuned Model
        hyperparameters:
          $ref: "#/components/schemas/ClassifierTrainingParameters"
        id:
          description: The ID of the job.
          format: uuid
          title: Id
          type: string
        integrations:
          anyOf:
            - items:
                discriminator:
                  mapping:
                    wandb: "#/components/schemas/WandbIntegrationOut"
                  propertyName: type
                oneOf:
                  - $ref: "#/components/schemas/WandbIntegrationOut"
              type: array
            - type: "null"
          description: A list of integrations enabled for your fine-tuning job.
          title: Integrations
        job_type:
          default: classifier
          description: The type of job (`FT` for fine-tuning).
          enum:
            - classifier
          title: Job Type
          type: string
        metadata:
          anyOf:
            - $ref: "#/components/schemas/JobMetadataOut"
            - type: "null"
        model:
          $ref: "#/components/schemas/FineTuneableModel"
        modified_at:
          description: The UNIX timestamp (in seconds) for when the fine-tuning job was last modified.
          title: Modified At
          type: integer
        object:
          default: job
          description: The object type of the fine-tuning job.
          enum:
            - job
          title: Object
          type: string
        status:
          description: The current status of the fine-tuning job.
          enum:
            - QUEUED
            - STARTED
            - VALIDATING
            - VALIDATED
            - RUNNING
            - FAILED_VALIDATION
            - FAILED
            - SUCCESS
            - CANCELLED
            - CANCELLATION_REQUESTED
          title: Status
          type: string
        suffix:
          anyOf:
            - type: string
            - type: "null"
          description: Optional text/code that adds more context for the model. When given a `prompt` and a `suffix` the model will fill what is between them. When `suffix` is not provided, the model will simply execute completion starting with `prompt`.
          title: Suffix
        trained_tokens:
          anyOf:
            - type: integer
            - type: "null"
          description: Total number of tokens trained.
          title: Trained Tokens
        training_files:
          description: A list containing the IDs of uploaded files that contain training data.
          items:
            format: uuid
            type: string
          title: Training Files
          type: array
        validation_files:
          anyOf:
            - items:
                format: uuid
                type: string
              type: array
            - type: "null"
          default: []
          description: A list containing the IDs of uploaded files that contain validation data.
          title: Validation Files
      required:
        - id
        - auto_start
        - model
        - status
        - created_at
        - modified_at
        - training_files
        - hyperparameters
      title: ClassifierJobOut
      type: object
    ClassifierTargetIn:
      properties:
        labels:
          items:
            type: string
          title: Labels
          type: array
        loss_function:
          anyOf:
            - $ref: "#/components/schemas/FTClassifierLossFunction"
            - type: "null"
        name:
          title: Name
          type: string
        weight:
          default: 1.0
          minimum: 0
          title: Weight
          type: number
      required:
        - name
        - labels
      title: ClassifierTargetIn
      type: object
    ClassifierTargetOut:
      properties:
        labels:
          items:
            type: string
          title: Labels
          type: array
        loss_function:
          $ref: "#/components/schemas/FTClassifierLossFunction"
        name:
          title: Name
          type: string
        weight:
          title: Weight
          type: number
      required:
        - name
        - labels
        - weight
        - loss_function
      title: ClassifierTargetOut
      type: object
    ClassifierTrainingParameters:
      properties:
        epochs:
          anyOf:
            - exclusiveMinimum: 0
              type: number
            - type: "null"
          title: Epochs
        learning_rate:
          default: 0.0001
          maximum: 1
          minimum: 0.00000001
          title: Learning Rate
          type: number
        seq_len:
          anyOf:
            - minimum: 100
              type: integer
            - type: "null"
          title: Seq Len
        training_steps:
          anyOf:
            - minimum: 1
              type: integer
            - type: "null"
          title: Training Steps
        warmup_fraction:
          anyOf:
            - maximum: 1
              minimum: 0
              type: number
            - type: "null"
          default: 0.05
          title: Warmup Fraction
        weight_decay:
          anyOf:
            - maximum: 1
              minimum: 0
              type: number
            - type: "null"
          default: 0.1
          title: Weight Decay
      title: ClassifierTrainingParameters
      type: object
    ClassifierTrainingParametersIn:
      description: The fine-tuning hyperparameter settings used in a classifier fine-tune job.
      properties:
        epochs:
          anyOf:
            - exclusiveMinimum: 0
              type: number
            - type: "null"
          title: Epochs
        learning_rate:
          default: 0.0001
          description: A parameter describing how much to adjust the pre-trained model's weights in response to the estimated error each time the weights are updated during the fine-tuning process.
          maximum: 1
          minimum: 0.00000001
          title: Learning Rate
          type: number
        seq_len:
          anyOf:
            - minimum: 100
              type: integer
            - type: "null"
          title: Seq Len
        training_steps:
          anyOf:
            - minimum: 1
              type: integer
            - type: "null"
          description: The number of training steps to perform. A training step refers to a single update of the model weights during the fine-tuning process. This update is typically calculated using a batch of samples from the training dataset.
          title: Training Steps
        warmup_fraction:
          anyOf:
            - maximum: 1
              minimum: 0
              type: number
            - type: "null"
          default: 0.05
          description: (Advanced Usage) A parameter that specifies the percentage of the total training steps at which the learning rate warm-up phase ends. During this phase, the learning rate gradually increases from a small value to the initial learning rate, helping to stabilize the training process and improve convergence. Similar to `pct_start` in [mistral-finetune](https://github.com/mistralai/mistral-finetune)
          title: Warmup Fraction
        weight_decay:
          anyOf:
            - maximum: 1
              minimum: 0
              type: number
            - type: "null"
          default: 0.1
          description: (Advanced Usage) Weight decay adds a term to the loss function that is proportional to the sum of the squared weights. This term reduces the magnitude of the weights and prevents them from growing too large.
          title: Weight Decay
      title: ClassifierTrainingParametersIn
      type: object
    CodeInterpreterTool:
      additionalProperties: false
      properties:
        type:
          default: code_interpreter
          enum:
            - code_interpreter
          title: Type
          type: string
      title: CodeInterpreterTool
      type: object
    CompletionArgs:
      additionalProperties: false
      description: White-listed arguments from the completion API
      properties:
        frequency_penalty:
          anyOf:
            - maximum: 2
              minimum: -2
              type: number
            - type: "null"
          title: Frequency Penalty
        max_tokens:
          anyOf:
            - minimum: 0
              type: integer
            - type: "null"
          title: Max Tokens
        prediction:
          anyOf:
            - $ref: "#/components/schemas/Prediction"
            - type: "null"
        presence_penalty:
          anyOf:
            - maximum: 2
              minimum: -2
              type: number
            - type: "null"
          title: Presence Penalty
        random_seed:
          anyOf:
            - minimum: 0
              type: integer
            - type: "null"
          title: Random Seed
        response_format:
          anyOf:
            - $ref: "#/components/schemas/ResponseFormat"
            - type: "null"
        stop:
          $ref: "#/components/schemas/CompletionArgsStop"
        temperature:
          anyOf:
            - maximum: 1
              minimum: 0
              type: number
            - type: "null"
          title: Temperature
        tool_choice:
          $ref: "#/components/schemas/ToolChoiceEnum"
          default: auto
        top_p:
          anyOf:
            - maximum: 1
              minimum: 0
              type: number
            - type: "null"
          title: Top P
      title: CompletionArgs
      type: object
    CompletionArgsStop:
      anyOf:
        - type: string
        - items:
            type: string
          type: array
        - type: "null"
      title: CompletionArgsStop
    CompletionChunk:
      properties:
        choices:
          items:
            $ref: "#/components/schemas/CompletionResponseStreamChoice"
          type: array
        created:
          type: integer
        id:
          type: string
        model:
          type: string
        object:
          type: string
        usage:
          $ref: "#/components/schemas/UsageInfo"
      required:
        - id
        - model
        - choices
      title: CompletionChunk
      type: object
    CompletionDetailedJobOut:
      properties:
        auto_start:
          title: Auto Start
          type: boolean
        checkpoints:
          default: []
          items:
            $ref: "#/components/schemas/CheckpointOut"
          title: Checkpoints
          type: array
        created_at:
          title: Created At
          type: integer
        events:
          default: []
          description: Event items are created every time the status of a fine-tuning job changes. The timestamped list of all events is accessible here.
          items:
            $ref: "#/components/schemas/EventOut"
          title: Events
          type: array
        fine_tuned_model:
          anyOf:
            - type: string
            - type: "null"
          title: Fine Tuned Model
        hyperparameters:
          $ref: "#/components/schemas/CompletionTrainingParameters"
        id:
          format: uuid
          title: Id
          type: string
        integrations:
          anyOf:
            - items:
                discriminator:
                  mapping:
                    wandb: "#/components/schemas/WandbIntegrationOut"
                  propertyName: type
                oneOf:
                  - $ref: "#/components/schemas/WandbIntegrationOut"
              type: array
            - type: "null"
          title: Integrations
        job_type:
          default: completion
          enum:
            - completion
          title: Job Type
          type: string
        metadata:
          anyOf:
            - $ref: "#/components/schemas/JobMetadataOut"
            - type: "null"
        model:
          $ref: "#/components/schemas/FineTuneableModel"
        modified_at:
          title: Modified At
          type: integer
        object:
          default: job
          enum:
            - job
          title: Object
          type: string
        repositories:
          default: []
          items:
            discriminator:
              mapping:
                github: "#/components/schemas/GithubRepositoryOut"
              propertyName: type
            oneOf:
              - $ref: "#/components/schemas/GithubRepositoryOut"
          title: Repositories
          type: array
        status:
          enum:
            - QUEUED
            - STARTED
            - VALIDATING
            - VALIDATED
            - RUNNING
            - FAILED_VALIDATION
            - FAILED
            - SUCCESS
            - CANCELLED
            - CANCELLATION_REQUESTED
          title: Status
          type: string
        suffix:
          anyOf:
            - type: string
            - type: "null"
          title: Suffix
        trained_tokens:
          anyOf:
            - type: integer
            - type: "null"
          title: Trained Tokens
        training_files:
          items:
            format: uuid
            type: string
          title: Training Files
          type: array
        validation_files:
          anyOf:
            - items:
                format: uuid
                type: string
              type: array
            - type: "null"
          default: []
          title: Validation Files
      required:
        - id
        - auto_start
        - model
        - status
        - created_at
        - modified_at
        - training_files
        - hyperparameters
      title: CompletionDetailedJobOut
      type: object
    CompletionEvent:
      properties:
        data:
          $ref: "#/components/schemas/CompletionChunk"
      required:
        - data
      title: CompletionEvent
      type: object
    CompletionFTModelOut:
      properties:
        aliases:
          default: []
          items:
            type: string
          title: Aliases
          type: array
        archived:
          title: Archived
          type: boolean
        capabilities:
          $ref: "#/components/schemas/FTModelCapabilitiesOut"
        created:
          title: Created
          type: integer
        description:
          anyOf:
            - type: string
            - type: "null"
          title: Description
        id:
          title: Id
          type: string
        job:
          format: uuid
          title: Job
          type: string
        max_context_length:
          default: 32768
          title: Max Context Length
          type: integer
        model_type:
          default: completion
          enum:
            - completion
          title: Model Type
          type: string
        name:
          anyOf:
            - type: string
            - type: "null"
          title: Name
        object:
          default: model
          enum:
            - model
          title: Object
          type: string
        owned_by:
          title: Owned By
          type: string
        root:
          title: Root
          type: string
        root_version:
          title: Root Version
          type: string
        workspace_id:
          title: Workspace Id
          type: string
      required:
        - id
        - created
        - owned_by
        - workspace_id
        - root
        - root_version
        - archived
        - capabilities
        - job
      title: CompletionFTModelOut
      type: object
    CompletionJobOut:
      properties:
        auto_start:
          title: Auto Start
          type: boolean
        created_at:
          description: The UNIX timestamp (in seconds) for when the fine-tuning job was created.
          title: Created At
          type: integer
        fine_tuned_model:
          anyOf:
            - type: string
            - type: "null"
          description: The name of the fine-tuned model that is being created. The value will be `null` if the fine-tuning job is still running.
          title: Fine Tuned Model
        hyperparameters:
          $ref: "#/components/schemas/CompletionTrainingParameters"
        id:
          description: The ID of the job.
          format: uuid
          title: Id
          type: string
        integrations:
          anyOf:
            - items:
                discriminator:
                  mapping:
                    wandb: "#/components/schemas/WandbIntegrationOut"
                  propertyName: type
                oneOf:
                  - $ref: "#/components/schemas/WandbIntegrationOut"
              type: array
            - type: "null"
          description: A list of integrations enabled for your fine-tuning job.
          title: Integrations
        job_type:
          default: completion
          description: The type of job (`FT` for fine-tuning).
          enum:
            - completion
          title: Job Type
          type: string
        metadata:
          anyOf:
            - $ref: "#/components/schemas/JobMetadataOut"
            - type: "null"
        model:
          $ref: "#/components/schemas/FineTuneableModel"
        modified_at:
          description: The UNIX timestamp (in seconds) for when the fine-tuning job was last modified.
          title: Modified At
          type: integer
        object:
          default: job
          description: The object type of the fine-tuning job.
          enum:
            - job
          title: Object
          type: string
        repositories:
          default: []
          items:
            discriminator:
              mapping:
                github: "#/components/schemas/GithubRepositoryOut"
              propertyName: type
            oneOf:
              - $ref: "#/components/schemas/GithubRepositoryOut"
          title: Repositories
          type: array
        status:
          description: The current status of the fine-tuning job.
          enum:
            - QUEUED
            - STARTED
            - VALIDATING
            - VALIDATED
            - RUNNING
            - FAILED_VALIDATION
            - FAILED
            - SUCCESS
            - CANCELLED
            - CANCELLATION_REQUESTED
          title: Status
          type: string
        suffix:
          anyOf:
            - type: string
            - type: "null"
          description: Optional text/code that adds more context for the model. When given a `prompt` and a `suffix` the model will fill what is between them. When `suffix` is not provided, the model will simply execute completion starting with `prompt`.
          title: Suffix
        trained_tokens:
          anyOf:
            - type: integer
            - type: "null"
          description: Total number of tokens trained.
          title: Trained Tokens
        training_files:
          description: A list containing the IDs of uploaded files that contain training data.
          items:
            format: uuid
            type: string
          title: Training Files
          type: array
        validation_files:
          anyOf:
            - items:
                format: uuid
                type: string
              type: array
            - type: "null"
          default: []
          description: A list containing the IDs of uploaded files that contain validation data.
          title: Validation Files
      required:
        - id
        - auto_start
        - model
        - status
        - created_at
        - modified_at
        - training_files
        - hyperparameters
      title: CompletionJobOut
      type: object
    CompletionResponseStreamChoice:
      properties:
        delta:
          $ref: "#/components/schemas/DeltaMessage"
        finish_reason:
          enum:
            - stop
            - length
            - error
            - tool_calls
            - null
          type:
            - string
            - "null"
        index:
          type: integer
      required:
        - index
        - delta
        - finish_reason
      title: CompletionResponseStreamChoice
      type: object
    CompletionTrainingParameters:
      properties:
        epochs:
          anyOf:
            - exclusiveMinimum: 0
              type: number
            - type: "null"
          title: Epochs
        fim_ratio:
          anyOf:
            - maximum: 1
              minimum: 0
              type: number
            - type: "null"
          default: 0.9
          title: Fim Ratio
        learning_rate:
          default: 0.0001
          maximum: 1
          minimum: 0.00000001
          title: Learning Rate
          type: number
        seq_len:
          anyOf:
            - minimum: 100
              type: integer
            - type: "null"
          title: Seq Len
        training_steps:
          anyOf:
            - minimum: 1
              type: integer
            - type: "null"
          title: Training Steps
        warmup_fraction:
          anyOf:
            - maximum: 1
              minimum: 0
              type: number
            - type: "null"
          default: 0.05
          title: Warmup Fraction
        weight_decay:
          anyOf:
            - maximum: 1
              minimum: 0
              type: number
            - type: "null"
          default: 0.1
          title: Weight Decay
      title: CompletionTrainingParameters
      type: object
    CompletionTrainingParametersIn:
      description: The fine-tuning hyperparameter settings used in a fine-tune job.
      properties:
        epochs:
          anyOf:
            - exclusiveMinimum: 0
              type: number
            - type: "null"
          title: Epochs
        fim_ratio:
          anyOf:
            - maximum: 1
              minimum: 0
              type: number
            - type: "null"
          default: 0.9
          title: Fim Ratio
        learning_rate:
          default: 0.0001
          description: A parameter describing how much to adjust the pre-trained model's weights in response to the estimated error each time the weights are updated during the fine-tuning process.
          maximum: 1
          minimum: 0.00000001
          title: Learning Rate
          type: number
        seq_len:
          anyOf:
            - minimum: 100
              type: integer
            - type: "null"
          title: Seq Len
        training_steps:
          anyOf:
            - minimum: 1
              type: integer
            - type: "null"
          description: The number of training steps to perform. A training step refers to a single update of the model weights during the fine-tuning process. This update is typically calculated using a batch of samples from the training dataset.
          title: Training Steps
        warmup_fraction:
          anyOf:
            - maximum: 1
              minimum: 0
              type: number
            - type: "null"
          default: 0.05
          description: (Advanced Usage) A parameter that specifies the percentage of the total training steps at which the learning rate warm-up phase ends. During this phase, the learning rate gradually increases from a small value to the initial learning rate, helping to stabilize the training process and improve convergence. Similar to `pct_start` in [mistral-finetune](https://github.com/mistralai/mistral-finetune)
          title: Warmup Fraction
        weight_decay:
          anyOf:
            - maximum: 1
              minimum: 0
              type: number
            - type: "null"
          default: 0.1
          description: (Advanced Usage) Weight decay adds a term to the loss function that is proportional to the sum of the squared weights. This term reduces the magnitude of the weights and prevents them from growing too large.
          title: Weight Decay
      title: CompletionTrainingParametersIn
      type: object
    ContentChunk:
      discriminator:
        mapping:
          document_url: "#/components/schemas/DocumentURLChunk"
          file: "#/components/schemas/FileChunk"
          image_url: "#/components/schemas/ImageURLChunk"
          input_audio: "#/components/schemas/AudioChunk"
          reference: "#/components/schemas/ReferenceChunk"
          text: "#/components/schemas/TextChunk"
          thinking: "#/components/schemas/ThinkChunk"
        propertyName: type
      oneOf:
        - $ref: "#/components/schemas/TextChunk"
        - $ref: "#/components/schemas/ImageURLChunk"
        - $ref: "#/components/schemas/DocumentURLChunk"
        - $ref: "#/components/schemas/ReferenceChunk"
        - $ref: "#/components/schemas/FileChunk"
        - $ref: "#/components/schemas/ThinkChunk"
        - $ref: "#/components/schemas/AudioChunk"
      title: ContentChunk
    ConversationAppendRequest:
      allOf:
        - $ref: "#/components/schemas/ConversationAppendRequestBase"
        - properties:
            stream:
              default: false
              enum:
                - false
              type: boolean
          type: object
    ConversationAppendRequestBase:
      additionalProperties: false
      properties:
        completion_args:
          $ref: "#/components/schemas/CompletionArgs"
          description: Completion arguments that will be used to generate assistant responses. Can be overridden at each message request.
        handoff_execution:
          default: server
          enum:
            - client
            - server
          title: Handoff Execution
          type: string
        inputs:
          $ref: "#/components/schemas/ConversationInputs"
        store:
          default: true
          description: Whether to store the results into our servers or not.
          title: Store
          type: boolean
        stream:
          default: false
          description: Whether to stream back partial progress. Otherwise, the server will hold the request open until the timeout or until completion, with the response containing the full result as JSON.
          title: Stream
          type: boolean
      required:
        - inputs
      title: ConversationAppendRequest
      type: object
    ConversationAppendStreamRequest:
      allOf:
        - $ref: "#/components/schemas/ConversationAppendRequestBase"
        - properties:
            stream:
              default: true
              enum:
                - true
              type: boolean
          type: object
    ConversationEvents:
      properties:
        data:
          discriminator:
            mapping:
              agent.handoff.done: "#/components/schemas/AgentHandoffDoneEvent"
              agent.handoff.started: "#/components/schemas/AgentHandoffStartedEvent"
              conversation.response.done: "#/components/schemas/ResponseDoneEvent"
              conversation.response.error: "#/components/schemas/ResponseErrorEvent"
              conversation.response.started: "#/components/schemas/ResponseStartedEvent"
              function.call.delta: "#/components/schemas/FunctionCallEvent"
              message.output.delta: "#/components/schemas/MessageOutputEvent"
              tool.execution.delta: "#/components/schemas/ToolExecutionDeltaEvent"
              tool.execution.done: "#/components/schemas/ToolExecutionDoneEvent"
              tool.execution.started: "#/components/schemas/ToolExecutionStartedEvent"
            propertyName: type
          oneOf:
            - $ref: "#/components/schemas/ResponseStartedEvent"
            - $ref: "#/components/schemas/ResponseDoneEvent"
            - $ref: "#/components/schemas/ResponseErrorEvent"
            - $ref: "#/components/schemas/ToolExecutionStartedEvent"
            - $ref: "#/components/schemas/ToolExecutionDeltaEvent"
            - $ref: "#/components/schemas/ToolExecutionDoneEvent"
            - $ref: "#/components/schemas/MessageOutputEvent"
            - $ref: "#/components/schemas/FunctionCallEvent"
            - $ref: "#/components/schemas/AgentHandoffStartedEvent"
            - $ref: "#/components/schemas/AgentHandoffDoneEvent"
          title: Data
        event:
          $ref: "#/components/schemas/SSETypes"
      required:
        - event
        - data
      title: ConversationEvents
      type: object
    ConversationHistory:
      additionalProperties: false
      description: Retrieve all entries in a conversation.
      properties:
        conversation_id:
          title: Conversation Id
          type: string
        entries:
          items:
            anyOf:
              - $ref: "#/components/schemas/MessageInputEntry"
              - $ref: "#/components/schemas/MessageOutputEntry"
              - $ref: "#/components/schemas/FunctionResultEntry"
              - $ref: "#/components/schemas/FunctionCallEntry"
              - $ref: "#/components/schemas/ToolExecutionEntry"
              - $ref: "#/components/schemas/AgentHandoffEntry"
          title: Entries
          type: array
        object:
          default: conversation.history
          enum:
            - conversation.history
          title: Object
          type: string
      required:
        - conversation_id
        - entries
      title: ConversationHistory
      type: object
    ConversationInputs:
      anyOf:
        - type: string
        - $ref: "#/components/schemas/InputEntries"
      title: ConversationInputs
    ConversationMessages:
      additionalProperties: false
      description: Similar to the conversation history but only keep the messages
      properties:
        conversation_id:
          title: Conversation Id
          type: string
        messages:
          $ref: "#/components/schemas/MessageEntries"
        object:
          default: conversation.messages
          enum:
            - conversation.messages
          title: Object
          type: string
      required:
        - conversation_id
        - messages
      title: ConversationMessages
      type: object
    ConversationRequest:
      allOf:
        - $ref: "#/components/schemas/ConversationRequestBase"
        - properties:
            stream:
              default: false
              enum:
                - false
              type: boolean
          type: object
    ConversationRequestBase:
      properties:
        agent_id:
          anyOf:
            - type: string
            - type: "null"
          default:
          title: Agent Id
        agent_version:
          anyOf:
            - type: string
            - type: integer
            - type: "null"
          default:
          title: Agent Version
        completion_args:
          anyOf:
            - $ref: "#/components/schemas/CompletionArgs"
            - type: "null"
          default:
        description:
          anyOf:
            - type: string
            - type: "null"
          default:
          title: Description
        handoff_execution:
          anyOf:
            - enum:
                - client
                - server
              type: string
            - type: "null"
          default:
          title: Handoff Execution
        inputs:
          $ref: "#/components/schemas/ConversationInputs"
        instructions:
          anyOf:
            - type: string
            - type: "null"
          default:
          title: Instructions
        metadata:
          anyOf:
            - $ref: "#/components/schemas/MetadataDict"
            - type: "null"
          default:
        model:
          anyOf:
            - type: string
            - type: "null"
          default:
          title: Model
        name:
          anyOf:
            - type: string
            - type: "null"
          default:
          title: Name
        store:
          anyOf:
            - type: boolean
            - type: "null"
          default:
          title: Store
        stream:
          anyOf:
            - type: boolean
            - type: "null"
          default:
          title: Stream
        tools:
          description: List of tools which are available to the model during the conversation.
          items:
            discriminator:
              mapping:
                code_interpreter: "#/components/schemas/CodeInterpreterTool"
                document_library: "#/components/schemas/DocumentLibraryTool"
                function: "#/components/schemas/FunctionTool"
                image_generation: "#/components/schemas/ImageGenerationTool"
                web_search: "#/components/schemas/WebSearchTool"
                web_search_premium: "#/components/schemas/WebSearchPremiumTool"
              propertyName: type
            oneOf:
              - $ref: "#/components/schemas/FunctionTool"
              - $ref: "#/components/schemas/WebSearchTool"
              - $ref: "#/components/schemas/WebSearchPremiumTool"
              - $ref: "#/components/schemas/CodeInterpreterTool"
              - $ref: "#/components/schemas/ImageGenerationTool"
              - $ref: "#/components/schemas/DocumentLibraryTool"
          title: Tools
          type: array
      required:
        - inputs
      title: ConversationRequest
      type: object
    ConversationResponse:
      additionalProperties: false
      description: The response after appending new entries to the conversation.
      properties:
        conversation_id:
          title: Conversation Id
          type: string
        object:
          default: conversation.response
          enum:
            - conversation.response
          title: Object
          type: string
        outputs:
          items:
            anyOf:
              - $ref: "#/components/schemas/MessageOutputEntry"
              - $ref: "#/components/schemas/ToolExecutionEntry"
              - $ref: "#/components/schemas/FunctionCallEntry"
              - $ref: "#/components/schemas/AgentHandoffEntry"
          title: Outputs
          type: array
        usage:
          $ref: "#/components/schemas/ConversationUsageInfo"
      required:
        - conversation_id
        - outputs
        - usage
      title: ConversationResponse
      type: object
    ConversationRestartRequest:
      allOf:
        - $ref: "#/components/schemas/ConversationRestartRequestBase"
        - properties:
            stream:
              default: false
              enum:
                - false
              type: boolean
          type: object
    ConversationRestartRequestBase:
      additionalProperties: false
      description: Request to restart a new conversation from a given entry in the conversation.
      properties:
        agent_version:
          anyOf:
            - type: string
            - type: integer
            - type: "null"
          description: Specific version of the agent to use when restarting. If not provided, uses the current version.
          title: Agent Version
        completion_args:
          $ref: "#/components/schemas/CompletionArgs"
          description: Completion arguments that will be used to generate assistant responses. Can be overridden at each message request.
        from_entry_id:
          title: From Entry Id
          type: string
        handoff_execution:
          default: server
          enum:
            - client
            - server
          title: Handoff Execution
          type: string
        inputs:
          $ref: "#/components/schemas/ConversationInputs"
        metadata:
          anyOf:
            - $ref: "#/components/schemas/MetadataDict"
            - type: "null"
          description: Custom metadata for the conversation.
        store:
          default: true
          description: Whether to store the results into our servers or not.
          title: Store
          type: boolean
        stream:
          default: false
          description: Whether to stream back partial progress. Otherwise, the server will hold the request open until the timeout or until completion, with the response containing the full result as JSON.
          title: Stream
          type: boolean
      required:
        - inputs
        - from_entry_id
      title: ConversationRestartRequest
      type: object
    ConversationRestartStreamRequest:
      allOf:
        - $ref: "#/components/schemas/ConversationRestartRequestBase"
        - properties:
            stream:
              default: true
              enum:
                - true
              type: boolean
          type: object
    ConversationStreamRequest:
      allOf:
        - $ref: "#/components/schemas/ConversationRequestBase"
        - properties:
            stream:
              default: true
              enum:
                - true
              type: boolean
          type: object
    ConversationUsageInfo:
      additionalProperties: false
      properties:
        completion_tokens:
          default: 0
          title: Completion Tokens
          type: integer
        connector_tokens:
          anyOf:
            - type: integer
            - type: "null"
          default:
          title: Connector Tokens
        connectors:
          anyOf:
            - additionalProperties:
                type: integer
              type: object
            - type: "null"
          default:
          title: Connectors
        prompt_tokens:
          default: 0
          title: Prompt Tokens
          type: integer
        total_tokens:
          default: 0
          title: Total Tokens
          type: integer
      title: ConversationUsageInfo
      type: object
    DeleteFileOut:
      properties:
        deleted:
          description: The deletion status.
          examples:
            - false
          title: Deleted
          type: boolean
        id:
          description: The ID of the deleted file.
          examples:
            - 497f6eca-6276-4993-bfeb-53cbbbba6f09
          format: uuid
          title: Id
          type: string
        object:
          description: The object type that was deleted
          examples:
            - file
          title: Object
          type: string
      required:
        - id
        - object
        - deleted
      title: DeleteFileOut
      type: object
    DeleteModelOut:
      properties:
        deleted:
          default: true
          description: The deletion status
          examples:
            - true
          title: Deleted
          type: boolean
        id:
          description: The ID of the deleted model.
          examples:
            - ft:open-mistral-7b:587a6b29:20240514:7e773925
          title: Id
          type: string
        object:
          default: model
          description: The object type that was deleted
          title: Object
          type: string
      required:
        - id
      title: DeleteModelOut
      type: object
    DeltaMessage:
      properties:
        content:
          anyOf:
            - type: string
            - type: "null"
            - items:
                $ref: "#/components/schemas/ContentChunk"
              type: array
        role:
          anyOf:
            - type: string
            - type: "null"
        tool_calls:
          anyOf:
            - type: "null"
            - items:
                $ref: "#/components/schemas/ToolCall"
              type: array
      title: DeltaMessage
      type: object
    DocumentLibraryTool:
      additionalProperties: false
      properties:
        library_ids:
          description: Ids of the library in which to search.
          items:
            type: string
          minItems: 1
          title: Library Ids
          type: array
        type:
          default: document_library
          enum:
            - document_library
          title: Type
          type: string
      required:
        - library_ids
      title: DocumentLibraryTool
      type: object
    DocumentOut:
      properties:
        attributes:
          anyOf:
            - additionalProperties: true
              type: object
            - type: "null"
          title: Attributes
        created_at:
          format: date-time
          title: Created At
          type: string
        extension:
          anyOf:
            - type: string
            - type: "null"
          title: Extension
        hash:
          anyOf:
            - type: string
            - type: "null"
          title: Hash
        id:
          format: uuid
          title: Id
          type: string
        last_processed_at:
          anyOf:
            - format: date-time
              type: string
            - type: "null"
          title: Last Processed At
        library_id:
          format: uuid
          title: Library Id
          type: string
        mime_type:
          anyOf:
            - type: string
            - type: "null"
          title: Mime Type
        name:
          title: Name
          type: string
        number_of_pages:
          anyOf:
            - type: integer
            - type: "null"
          title: Number Of Pages
        processing_status:
          type: string
        size:
          anyOf:
            - type: integer
            - type: "null"
          title: Size
        summary:
          anyOf:
            - type: string
            - type: "null"
          title: Summary
        tokens_processing_main_content:
          anyOf:
            - type: integer
            - type: "null"
          title: Tokens Processing Main Content
        tokens_processing_summary:
          anyOf:
            - type: integer
            - type: "null"
          title: Tokens Processing Summary
        tokens_processing_total:
          readOnly: true
          title: Tokens Processing Total
          type: integer
        uploaded_by_id:
          anyOf:
            - format: uuid
              type: string
            - type: "null"
          title: Uploaded By Id
        uploaded_by_type:
          type: string
        url:
          anyOf:
            - type: string
            - type: "null"
          title: Url
      required:
        - id
        - library_id
        - hash
        - mime_type
        - extension
        - size
        - name
        - created_at
        - processing_status
        - uploaded_by_id
        - uploaded_by_type
        - tokens_processing_total
      title: DocumentOut
      type: object
    DocumentTextContent:
      properties:
        text:
          title: Text
          type: string
      required:
        - text
      title: DocumentTextContent
      type: object
    DocumentURLChunk:
      additionalProperties: false
      properties:
        document_name:
          anyOf:
            - type: string
            - type: "null"
          description: The filename of the document
          title: Document Name
        document_url:
          title: Document Url
          type: string
        type:
          default: document_url
          enum:
            - document_url
          title: Type
          type: string
      required:
        - document_url
      title: DocumentURLChunk
      type: object
    DocumentUpdateIn:
      properties:
        attributes:
          anyOf:
            - additionalProperties:
                anyOf:
                  - type: boolean
                  - type: string
                  - type: integer
                  - type: number
                  - format: date-time
                    type: string
                  - items:
                      type: string
                    type: array
                  - items:
                      type: integer
                    type: array
                  - items:
                      type: number
                    type: array
                  - items:
                      type: boolean
                    type: array
              type: object
            - type: "null"
          title: Attributes
        name:
          anyOf:
            - type: string
            - type: "null"
          title: Name
      title: DocumentUpdateIn
      type: object
    EmbeddingDtype:
      enum:
        - float
        - int8
        - uint8
        - binary
        - ubinary
      title: EmbeddingDtype
      type: string
    EmbeddingRequest:
      additionalProperties: false
      properties:
        encoding_format:
          $ref: "#/components/schemas/EncodingFormat"
          default: float
          description: The format of embeddings in the response.
        input:
          anyOf:
            - type: string
            - items:
                type: string
              type: array
          description: The text content to be embedded, can be a string or an array of strings for fast processing in bulk.
          example:
            - Embed this sentence.
            - As well as this one.
          title: Input
        metadata:
          anyOf:
            - additionalProperties: true
              type: object
            - type: "null"
          title: Metadata
        model:
          description: The ID of the model to be used for embedding.
          example: mistral-embed
          title: Model
          type: string
        output_dimension:
          anyOf:
            - exclusiveMinimum: 0
              type: integer
            - type: "null"
          description: The dimension of the output embeddings when feature available. If not provided, a default output dimension will be used.
          title: Output Dimension
        output_dtype:
          $ref: "#/components/schemas/EmbeddingDtype"
          default: float
          description: The data type of the output embeddings when feature available. If not provided, a default output data type will be used.
      required:
        - input
        - model
      title: EmbeddingRequest
      type: object
    EmbeddingResponse:
      allOf:
        - $ref: "#/components/schemas/ResponseBase"
        - properties:
            data:
              items:
                $ref: "#/components/schemas/EmbeddingResponseData"
              type: array
          required:
            - id
            - object
            - data
            - model
            - usage
          type: object
    EmbeddingResponseData:
      examples:
        - embedding:
            - 0.1
            - 0.2
            - 0.3
          index: 0
          object: embedding
        - embedding:
            - 0.4
            - 0.5
            - 0.6
          index: 1
          object: embedding
      properties:
        embedding:
          example:
            - 0.1
            - 0.2
            - 0.3
          items:
            type: number
          type: array
        index:
          example: 0
          type: integer
        object:
          example: embedding
          type: string
      title: EmbeddingResponseData
      type: object
    EncodingFormat:
      enum:
        - float
        - base64
      title: EncodingFormat
      type: string
    EntityType:
      description: The type of entity, used to share a library.
      enum:
        - User
        - Workspace
        - Org
      title: EntityType
      type: string
      x-speakeasy-unknown-values: allow
    EventOut:
      properties:
        created_at:
          description: The UNIX timestamp (in seconds) of the event.
          title: Created At
          type: integer
        data:
          anyOf:
            - additionalProperties: true
              type: object
            - type: "null"
          title: Data
        name:
          description: The name of the event.
          title: Name
          type: string
      required:
        - name
        - created_at
      title: EventOut
      type: object
    FIMCompletionRequest:
      additionalProperties: false
      properties:
        max_tokens:
          anyOf:
            - minimum: 0
              type: integer
            - type: "null"
          description: The maximum number of tokens to generate in the completion. The token count of your prompt plus `max_tokens` cannot exceed the model's context length.
          title: Max Tokens
        metadata:
          anyOf:
            - additionalProperties: true
              type: object
            - type: "null"
          title: Metadata
        min_tokens:
          anyOf:
            - minimum: 0
              type: integer
            - type: "null"
          description: The minimum number of tokens to generate in the completion.
          title: Min Tokens
        model:
          default: codestral-2404
          description: ID of the model with FIM to use.
          examples:
            - codestral-latest
          title: Model
          type: string
        prompt:
          description: The text/code to complete.
          examples:
            - def
          title: Prompt
          type: string
        random_seed:
          anyOf:
            - minimum: 0
              type: integer
            - type: "null"
          description: The seed to use for random sampling. If set, different calls will generate deterministic results.
          title: Random Seed
        stop:
          anyOf:
            - type: string
            - items:
                type: string
              type: array
          description: Stop generation if this token is detected. Or if one of these tokens is detected when providing an array
          title: Stop
        stream:
          default: false
          description: "Whether to stream back partial progress. If set, tokens will be sent as data-only server-side events as they become available, with the stream terminated by a data: [DONE] message. Otherwise, the server will hold the request open until the timeout or until completion, with the response containing the full result as JSON."
          title: Stream
          type: boolean
        suffix:
          anyOf:
            - type: string
            - type: "null"
          default: ""
          description: Optional text/code that adds more context for the model. When given a `prompt` and a `suffix` the model will fill what is between them. When `suffix` is not provided, the model will simply execute completion starting with `prompt`.
          examples:
            - return a+b
          title: Suffix
        temperature:
          anyOf:
            - maximum: 1.5
              minimum: 0
              type: number
            - type: "null"
          description: What sampling temperature to use, we recommend between 0.0 and 0.7. Higher values like 0.7 will make the output more random, while lower values like 0.2 will make it more focused and deterministic. We generally recommend altering this or `top_p` but not both. The default value varies depending on the model you are targeting. Call the `/models` endpoint to retrieve the appropriate value.
          title: Temperature
        top_p:
          default: 1.0
          description: Nucleus sampling, where the model considers the results of the tokens with `top_p` probability mass. So 0.1 means only the tokens comprising the top 10% probability mass are considered. We generally recommend altering this or `temperature` but not both.
          maximum: 1
          minimum: 0
          title: Top P
          type: number
      required:
        - prompt
        - model
      title: FIMCompletionRequest
      type: object
    FIMCompletionResponse:
      allOf:
        - $ref: "#/components/schemas/ChatCompletionResponse"
        - properties:
            model:
              example: codestral-latest
              type: string
          type: object
    FTClassifierLossFunction:
      enum:
        - single_class
        - multi_class
      title: FTClassifierLossFunction
      type: string
    FTModelCapabilitiesOut:
      properties:
        classification:
          default: false
          title: Classification
          type: boolean
        completion_chat:
          default: true
          title: Completion Chat
          type: boolean
        completion_fim:
          default: false
          title: Completion Fim
          type: boolean
        fine_tuning:
          default: false
          title: Fine Tuning
          type: boolean
        function_calling:
          default: false
          title: Function Calling
          type: boolean
      title: FTModelCapabilitiesOut
      type: object
    FTModelCard:
      description: Extra fields for fine-tuned models.
      properties:
        aliases:
          default: []
          items:
            type: string
          title: Aliases
          type: array
        archived:
          default: false
          title: Archived
          type: boolean
        capabilities:
          $ref: "#/components/schemas/ModelCapabilities"
        created:
          title: Created
          type: integer
        default_model_temperature:
          anyOf:
            - type: number
            - type: "null"
          title: Default Model Temperature
        deprecation:
          anyOf:
            - format: date-time
              type: string
            - type: "null"
          title: Deprecation
        deprecation_replacement_model:
          anyOf:
            - type: string
            - type: "null"
          title: Deprecation Replacement Model
        description:
          anyOf:
            - type: string
            - type: "null"
          title: Description
        id:
          title: Id
          type: string
        job:
          title: Job
          type: string
        max_context_length:
          default: 32768
          title: Max Context Length
          type: integer
        name:
          anyOf:
            - type: string
            - type: "null"
          title: Name
        object:
          default: model
          title: Object
          type: string
        owned_by:
          default: mistralai
          title: Owned By
          type: string
        root:
          title: Root
          type: string
        type:
          const: fine-tuned
          default: fine-tuned
          enum:
            - fine-tuned
          title: Type
          type: string
      required:
        - id
        - capabilities
        - job
        - root
      title: FTModelCard
      type: object
    File:
      description: |-
        The File object (not file name) to be uploaded.
         To upload a file and specify a custom file name you should format your request as such:
         ```bash
         file=@path/to/your/file.jsonl;filename=custom_name.jsonl
         ```
         Otherwise, you can just keep the original file name:
         ```bash
         file=@path/to/your/file.jsonl
         ```
      format: binary
      title: File
      type: string
    FileChunk:
      additionalProperties: false
      properties:
        file_id:
          format: uuid
          title: File Id
          type: string
        type:
          const: file
          default: file
          title: Type
          type: string
      required:
        - file_id
      title: FileChunk
      type: object
    FilePurpose:
      enum:
        - fine-tune
        - batch
        - ocr
      title: FilePurpose
      type: string
    FileSchema:
      properties:
        bytes:
          description: The size of the file, in bytes.
          examples:
            - 13000
          title: Bytes
          type: integer
        created_at:
          description: The UNIX timestamp (in seconds) of the event.
          examples:
            - 1716963433
          title: Created At
          type: integer
        filename:
          description: The name of the uploaded file.
          examples:
            - files_upload.jsonl
          title: Filename
          type: string
        id:
          description: The unique identifier of the file.
          examples:
            - 497f6eca-6276-4993-bfeb-53cbbbba6f09
          format: uuid
          title: Id
          type: string
        mimetype:
          anyOf:
            - type: string
            - type: "null"
          title: Mimetype
        num_lines:
          anyOf:
            - type: integer
            - type: "null"
          title: Num Lines
        object:
          description: The object type, which is always "file".
          examples:
            - file
          title: Object
          type: string
        purpose:
          $ref: "#/components/schemas/FilePurpose"
          description: The intended purpose of the uploaded file, currently supports fine-tuning (`fine-tune`), OCR (`ocr`), Audio/Transcription (`audio`) and batch inference (`batch`).
          examples:
            - fine-tune
            - ocr
            - batch
            - audio
        sample_type:
          $ref: "#/components/schemas/SampleType"
        signature:
          anyOf:
            - type: string
            - type: "null"
          title: Signature
        source:
          $ref: "#/components/schemas/Source"
      required:
        - id
        - object
        - bytes
        - created_at
        - filename
        - purpose
        - sample_type
        - source
      title: FileSchema
      type: object
    FileSignedURL:
      properties:
        url:
          title: Url
          type: string
      required:
        - url
      title: FileSignedURL
      type: object
    FineTuneableModel:
      description: The name of the model to fine-tune.
      enum:
        - ministral-3b-latest
        - ministral-8b-latest
        - open-mistral-7b
        - open-mistral-nemo
        - mistral-small-latest
        - mistral-medium-latest
        - mistral-large-latest
        - pixtral-12b-latest
        - codestral-latest
      title: FineTuneableModel
      type: string
    FineTuneableModelType:
      enum:
        - completion
        - classifier
      title: FineTuneableModelType
      type: string
    Function:
      additionalProperties: false
      properties:
        description:
          default: ""
          title: Description
          type: string
        name:
          title: Name
          type: string
        parameters:
          additionalProperties: true
          title: Parameters
          type: object
        strict:
          default: false
          title: Strict
          type: boolean
      required:
        - name
        - parameters
      title: Function
      type: object
    FunctionCall:
      additionalProperties: false
      properties:
        arguments:
          anyOf:
            - additionalProperties: true
              type: object
            - type: string
          title: Arguments
        name:
          title: Name
          type: string
      required:
        - name
        - arguments
      title: FunctionCall
      type: object
    FunctionCallEntry:
      additionalProperties: false
      properties:
        arguments:
          $ref: "#/components/schemas/FunctionCallEntryArguments"
        completed_at:
          anyOf:
            - format: date-time
              type: string
            - type: "null"
          title: Completed At
        created_at:
          format: date-time
          title: Created At
          type: string
        id:
          title: Id
          type: string
        name:
          title: Name
          type: string
        object:
          default: entry
          enum:
            - entry
          title: Object
          type: string
        tool_call_id:
          title: Tool Call Id
          type: string
        type:
          default: function.call
          enum:
            - function.call
          title: Type
          type: string
      required:
        - tool_call_id
        - name
        - arguments
      title: FunctionCallEntry
      type: object
    FunctionCallEntryArguments:
      anyOf:
        - additionalProperties: true
          type: object
        - type: string
      title: FunctionCallEntryArguments
    FunctionCallEvent:
      additionalProperties: false
      properties:
        arguments:
          title: Arguments
          type: string
        created_at:
          format: date-time
          title: Created At
          type: string
        id:
          title: Id
          type: string
        name:
          title: Name
          type: string
        output_index:
          default: 0
          title: Output Index
          type: integer
        tool_call_id:
          title: Tool Call Id
          type: string
        type:
          default: function.call.delta
          enum:
            - function.call.delta
          title: Type
          type: string
      required:
        - id
        - name
        - tool_call_id
        - arguments
      title: FunctionCallEvent
      type: object
    FunctionName:
      additionalProperties: false
      description: this restriction of `Function` is used to select a specific function to call
      properties:
        name:
          title: Name
          type: string
      required:
        - name
      title: FunctionName
      type: object
    FunctionResultEntry:
      additionalProperties: false
      properties:
        completed_at:
          anyOf:
            - format: date-time
              type: string
            - type: "null"
          title: Completed At
        created_at:
          format: date-time
          title: Created At
          type: string
        id:
          title: Id
          type: string
        object:
          default: entry
          enum:
            - entry
          title: Object
          type: string
        result:
          title: Result
          type: string
        tool_call_id:
          title: Tool Call Id
          type: string
        type:
          default: function.result
          enum:
            - function.result
          title: Type
          type: string
      required:
        - tool_call_id
        - result
      title: FunctionResultEntry
      type: object
    FunctionTool:
      additionalProperties: false
      properties:
        function:
          $ref: "#/components/schemas/Function"
        type:
          default: function
          enum:
            - function
          title: Type
          type: string
      required:
        - function
      title: FunctionTool
      type: object
    GithubRepositoryIn:
      properties:
        name:
          title: Name
          type: string
        owner:
          title: Owner
          type: string
        ref:
          anyOf:
            - type: string
            - type: "null"
          title: Ref
        token:
          title: Token
          type: string
        type:
          default: github
          enum:
            - github
          title: Type
          type: string
        weight:
          default: 1.0
          exclusiveMinimum: 0
          title: Weight
          type: number
      required:
        - name
        - owner
        - token
      title: GithubRepositoryIn
      type: object
    GithubRepositoryOut:
      properties:
        commit_id:
          maxLength: 40
          minLength: 40
          title: Commit Id
          type: string
        name:
          title: Name
          type: string
        owner:
          title: Owner
          type: string
        ref:
          anyOf:
            - type: string
            - type: "null"
          title: Ref
        type:
          default: github
          enum:
            - github
          title: Type
          type: string
        weight:
          default: 1.0
          exclusiveMinimum: 0
          title: Weight
          type: number
      required:
        - name
        - owner
        - commit_id
      title: GithubRepositoryOut
      type: object
    HTTPValidationError:
      properties:
        detail:
          items:
            $ref: "#/components/schemas/ValidationError"
          title: Detail
          type: array
      title: HTTPValidationError
      type: object
    ImageGenerationTool:
      additionalProperties: false
      properties:
        type:
          default: image_generation
          enum:
            - image_generation
          title: Type
          type: string
      title: ImageGenerationTool
      type: object
    ImageURL:
      additionalProperties: false
      properties:
        detail:
          anyOf:
            - type: string
            - type: "null"
          title: Detail
        url:
          title: Url
          type: string
      required:
        - url
      title: ImageURL
      type: object
    ImageURLChunk:
      additionalProperties: false
      description: '{"type":"image_url","image_url":{"url":"data:image/png;base64,iVBORw0'
      properties:
        image_url:
          anyOf:
            - $ref: "#/components/schemas/ImageURL"
            - type: string
          title: Image Url
        type:
          default: image_url
          enum:
            - image_url
          title: Type
          type: string
      required:
        - image_url
      title: ImageURLChunk
      type: object
    InputEntries:
      items:
        anyOf:
          - $ref: "#/components/schemas/MessageInputEntry"
          - $ref: "#/components/schemas/MessageOutputEntry"
          - $ref: "#/components/schemas/FunctionResultEntry"
          - $ref: "#/components/schemas/FunctionCallEntry"
          - $ref: "#/components/schemas/ToolExecutionEntry"
          - $ref: "#/components/schemas/AgentHandoffEntry"
      title: InputEntries
      type: array
    InstructRequest:
      additionalProperties: false
      properties:
        messages:
          items:
            discriminator:
              mapping:
                assistant: "#/components/schemas/AssistantMessage"
                system: "#/components/schemas/SystemMessage"
                tool: "#/components/schemas/ToolMessage"
                user: "#/components/schemas/UserMessage"
              propertyName: role
            oneOf:
              - $ref: "#/components/schemas/SystemMessage"
              - $ref: "#/components/schemas/UserMessage"
              - $ref: "#/components/schemas/AssistantMessage"
              - $ref: "#/components/schemas/ToolMessage"
          title: Messages
          type: array
      required:
        - messages
      title: InstructRequest
      type: object
    JobIn:
      properties:
        auto_start:
          description: This field will be required in a future release.
          title: Auto Start
          type: boolean
        classifier_targets:
          anyOf:
            - items:
                $ref: "#/components/schemas/ClassifierTargetIn"
              type: array
            - type: "null"
          title: Classifier Targets
        hyperparameters:
          anyOf:
            - $ref: "#/components/schemas/CompletionTrainingParametersIn"
            - $ref: "#/components/schemas/ClassifierTrainingParametersIn"
          title: Hyperparameters
        integrations:
          anyOf:
            - items:
                discriminator:
                  mapping:
                    wandb: "#/components/schemas/WandbIntegration"
                  propertyName: type
                oneOf:
                  - $ref: "#/components/schemas/WandbIntegration"
              type: array
            - type: "null"
          description: A list of integrations to enable for your fine-tuning job.
          title: Integrations
        invalid_sample_skip_percentage:
          default: 0
          maximum: 0.5
          minimum: 0
          title: Invalid Sample Skip Percentage
          type: number
        job_type:
          anyOf:
            - $ref: "#/components/schemas/FineTuneableModelType"
            - type: "null"
        model:
          $ref: "#/components/schemas/FineTuneableModel"
        repositories:
          anyOf:
            - items:
                discriminator:
                  mapping:
                    github: "#/components/schemas/GithubRepositoryIn"
                  propertyName: type
                oneOf:
                  - $ref: "#/components/schemas/GithubRepositoryIn"
              type: array
            - type: "null"
          title: Repositories
        suffix:
          anyOf:
            - maxLength: 18
              type: string
            - type: "null"
          description: A string that will be added to your fine-tuning model name. For example, a suffix of "my-great-model" would produce a model name like `ft:open-mistral-7b:my-great-model:xxx...`
          title: Suffix
        training_files:
          default: []
          items:
            $ref: "#/components/schemas/TrainingFile"
          title: Training Files
          type: array
        validation_files:
          anyOf:
            - items:
                format: uuid
                type: string
              type: array
            - type: "null"
          description: A list containing the IDs of uploaded files that contain validation data. If you provide these files, the data is used to generate validation metrics periodically during fine-tuning. These metrics can be viewed in `checkpoints` when getting the status of a running fine-tuning job. The same data should not be present in both train and validation files.
          title: Validation Files
      required:
        - model
        - hyperparameters
      title: JobIn
      type: object
    JobMetadataOut:
      properties:
        cost:
          anyOf:
            - type: number
            - type: "null"
          title: Cost
        cost_currency:
          anyOf:
            - type: string
            - type: "null"
          title: Cost Currency
        data_tokens:
          anyOf:
            - type: integer
            - type: "null"
          title: Data Tokens
        estimated_start_time:
          anyOf:
            - type: integer
            - type: "null"
          title: Estimated Start Time
        expected_duration_seconds:
          anyOf:
            - type: integer
            - type: "null"
          title: Expected Duration Seconds
        train_tokens:
          anyOf:
            - type: integer
            - type: "null"
          title: Train Tokens
        train_tokens_per_step:
          anyOf:
            - type: integer
            - type: "null"
          title: Train Tokens Per Step
      title: JobMetadataOut
      type: object
    JobsOut:
      properties:
        data:
          default: []
          items:
            discriminator:
              mapping:
                classifier: "#/components/schemas/ClassifierJobOut"
                completion: "#/components/schemas/CompletionJobOut"
              propertyName: job_type
            oneOf:
              - $ref: "#/components/schemas/CompletionJobOut"
              - $ref: "#/components/schemas/ClassifierJobOut"
          title: Data
          type: array
        object:
          default: list
          enum:
            - list
          title: Object
          type: string
        total:
          title: Total
          type: integer
      required:
        - total
      title: JobsOut
      type: object
    JsonSchema:
      additionalProperties: false
      properties:
        description:
          anyOf:
            - type: string
            - type: "null"
          title: Description
        name:
          title: Name
          type: string
        schema:
          additionalProperties: true
          title: Schema
          type: object
          x-speakeasy-name-override: schema_definition
        strict:
          default: false
          title: Strict
          type: boolean
      required:
        - name
        - schema
      title: JsonSchema
      type: object
    LegacyJobMetadataOut:
      properties:
        cost:
          anyOf:
            - type: number
            - type: "null"
          description: The cost of the fine-tuning job.
          examples:
            - 10
          title: Cost
        cost_currency:
          anyOf:
            - type: string
            - type: "null"
          description: The currency used for the fine-tuning job cost.
          examples:
            - EUR
          title: Cost Currency
        data_tokens:
          anyOf:
            - type: integer
            - type: "null"
          description: The total number of tokens in the training dataset.
          examples:
            - 305375
          title: Data Tokens
        deprecated:
          default: true
          title: Deprecated
          type: boolean
        details:
          title: Details
          type: string
        epochs:
          anyOf:
            - type: number
            - type: "null"
          description: The number of complete passes through the entire training dataset.
          examples:
            - 4.2922
          title: Epochs
        estimated_start_time:
          anyOf:
            - type: integer
            - type: "null"
          title: Estimated Start Time
        expected_duration_seconds:
          anyOf:
            - type: integer
            - type: "null"
          description: The approximated time (in seconds) for the fine-tuning process to complete.
          examples:
            - 220
          title: Expected Duration Seconds
        object:
          default: job.metadata
          enum:
            - job.metadata
          title: Object
          type: string
        train_tokens:
          anyOf:
            - type: integer
            - type: "null"
          description: The total number of tokens used during the fine-tuning process.
          examples:
            - 1310720
          title: Train Tokens
        train_tokens_per_step:
          anyOf:
            - type: integer
            - type: "null"
          description: The number of tokens consumed by one training step.
          examples:
            - 131072
          title: Train Tokens Per Step
        training_steps:
          anyOf:
            - type: integer
            - type: "null"
          description: The number of training steps to perform. A training step refers to a single update of the model weights during the fine-tuning process. This update is typically calculated using a batch of samples from the training dataset.
          examples:
            - 10
          title: Training Steps
      required:
        - details
      title: LegacyJobMetadataOut
      type: object
    LibraryIn:
      properties:
        chunk_size:
          anyOf:
            - type: integer
            - type: "null"
          title: Chunk Size
        description:
          anyOf:
            - type: string
            - type: "null"
          title: Description
        name:
          title: Name
          type: string
      required:
        - name
      title: LibraryIn
      type: object
    LibraryInUpdate:
      properties:
        description:
          anyOf:
            - type: string
            - type: "null"
          title: Description
        name:
          anyOf:
            - type: string
            - type: "null"
          title: Name
      title: LibraryInUpdate
      type: object
    LibraryOut:
      properties:
        chunk_size:
          anyOf:
            - type: integer
            - type: "null"
          title: Chunk Size
        created_at:
          format: date-time
          title: Created At
          type: string
        description:
          anyOf:
            - type: string
            - type: "null"
          title: Description
        emoji:
          anyOf:
            - type: string
            - type: "null"
          title: Emoji
        explicit_user_members_count:
          anyOf:
            - type: integer
            - type: "null"
          title: Explicit User Members Count
        explicit_workspace_members_count:
          anyOf:
            - type: integer
            - type: "null"
          title: Explicit Workspace Members Count
        generated_description:
          anyOf:
            - type: string
            - type: "null"
          title: Generated Description
        generated_name:
          anyOf:
            - type: string
            - type: "null"
          description: Generated Name
        id:
          format: uuid
          title: Id
          type: string
        name:
          title: Name
          type: string
        nb_documents:
          title: Nb Documents
          type: integer
        org_sharing_role:
          anyOf:
            - type: string
            - type: "null"
        owner_id:
          anyOf:
            - format: uuid
              type: string
            - type: "null"
          title: Owner Id
        owner_type:
          type: string
        total_size:
          title: Total Size
          type: integer
        updated_at:
          format: date-time
          title: Updated At
          type: string
      required:
        - id
        - name
        - created_at
        - updated_at
        - owner_id
        - owner_type
        - total_size
        - nb_documents
        - chunk_size
      title: LibraryOut
      type: object
    ListDocumentOut:
      properties:
        data:
          items:
            $ref: "#/components/schemas/DocumentOut"
          title: Data
          type: array
        pagination:
          $ref: "#/components/schemas/PaginationInfo"
      required:
        - pagination
        - data
      title: ListDocumentOut
      type: object
    ListFilesOut:
      properties:
        data:
          items:
            $ref: "#/components/schemas/FileSchema"
          title: Data
          type: array
        object:
          title: Object
          type: string
        total:
          anyOf:
            - type: integer
            - type: "null"
          title: Total
      required:
        - data
        - object
      title: ListFilesOut
      type: object
    ListLibraryOut:
      properties:
        data:
          items:
            $ref: "#/components/schemas/LibraryOut"
          title: Data
          type: array
      required:
        - data
      title: ListLibraryOut
      type: object
    ListSharingOut:
      properties:
        data:
          items:
            $ref: "#/components/schemas/SharingOut"
          title: Data
          type: array
      required:
        - data
      title: ListSharingOut
      type: object
    MessageEntries:
      items:
        anyOf:
          - $ref: "#/components/schemas/MessageInputEntry"
          - $ref: "#/components/schemas/MessageOutputEntry"
      title: MessageEntries
      type: array
    MessageInputContentChunks:
      items:
        anyOf:
          - $ref: "#/components/schemas/TextChunk"
          - $ref: "#/components/schemas/ImageURLChunk"
          - $ref: "#/components/schemas/ToolFileChunk"
          - $ref: "#/components/schemas/DocumentURLChunk"
          - $ref: "#/components/schemas/ThinkChunk"
      title: MessageInputContentChunks
      type: array
    MessageInputEntry:
      additionalProperties: false
      description: Representation of an input message inside the conversation.
      properties:
        completed_at:
          anyOf:
            - format: date-time
              type: string
            - type: "null"
          title: Completed At
        content:
          anyOf:
            - type: string
            - $ref: "#/components/schemas/MessageInputContentChunks"
          title: Content
        created_at:
          format: date-time
          title: Created At
          type: string
        id:
          title: Id
          type: string
        object:
          default: entry
          enum:
            - entry
          title: Object
          type: string
        prefix:
          default: false
          title: Prefix
          type: boolean
        role:
          enum:
            - assistant
            - user
          title: Role
          type: string
        type:
          default: message.input
          enum:
            - message.input
          title: Type
          type: string
      required:
        - role
        - content
      title: MessageInputEntry
      type: object
    MessageOutputContentChunks:
      items:
        anyOf:
          - $ref: "#/components/schemas/TextChunk"
          - $ref: "#/components/schemas/ImageURLChunk"
          - $ref: "#/components/schemas/ToolFileChunk"
          - $ref: "#/components/schemas/DocumentURLChunk"
          - $ref: "#/components/schemas/ThinkChunk"
          - $ref: "#/components/schemas/ToolReferenceChunk"
      title: MessageOutputContentChunks
      type: array
    MessageOutputEntry:
      additionalProperties: false
      properties:
        agent_id:
          anyOf:
            - type: string
            - type: "null"
          title: Agent Id
        completed_at:
          anyOf:
            - format: date-time
              type: string
            - type: "null"
          title: Completed At
        content:
          anyOf:
            - type: string
            - $ref: "#/components/schemas/MessageOutputContentChunks"
          title: Content
        created_at:
          format: date-time
          title: Created At
          type: string
        id:
          title: Id
          type: string
        model:
          anyOf:
            - type: string
            - type: "null"
          title: Model
        object:
          default: entry
          enum:
            - entry
          title: Object
          type: string
        role:
          default: assistant
          enum:
            - assistant
          title: Role
          type: string
        type:
          default: message.output
          enum:
            - message.output
          title: Type
          type: string
      required:
        - content
      title: MessageOutputEntry
      type: object
    MessageOutputEvent:
      additionalProperties: false
      properties:
        agent_id:
          anyOf:
            - type: string
            - type: "null"
          default:
          title: Agent Id
        content:
          anyOf:
            - type: string
            - $ref: "#/components/schemas/OutputContentChunks"
          title: Content
        content_index:
          default: 0
          title: Content Index
          type: integer
        created_at:
          format: date-time
          title: Created At
          type: string
        id:
          title: Id
          type: string
        model:
          anyOf:
            - type: string
            - type: "null"
          default:
          title: Model
        output_index:
          default: 0
          title: Output Index
          type: integer
        role:
          default: assistant
          enum:
            - assistant
          title: Role
          type: string
        type:
          default: message.output.delta
          enum:
            - message.output.delta
          title: Type
          type: string
      required:
        - id
        - content
      title: MessageOutputEvent
      type: object
    MetadataDict:
      additionalProperties: true
      description: Custom type for metadata with embedded validation.
      title: MetadataDict
      type: object
    MetricOut:
      description: Metrics at the step number during the fine-tuning job. Use these metrics to assess if the training is going smoothly (loss should decrease, token accuracy should increase).
      properties:
        train_loss:
          anyOf:
            - type: number
            - type: "null"
          title: Train Loss
        valid_loss:
          anyOf:
            - type: number
            - type: "null"
          title: Valid Loss
        valid_mean_token_accuracy:
          anyOf:
            - type: number
            - type: "null"
          title: Valid Mean Token Accuracy
      title: MetricOut
      type: object
    MistralPromptMode:
      description: |-
        Available options to the prompt_mode argument on the chat completion endpoint.
        Values represent high-level intent. Assignment to actual SPs is handled internally.
        System prompt may include knowledge cutoff date, model capabilities, tone to use, safety guidelines, etc.
      enum:
        - reasoning
      title: MistralPromptMode
      type: string
    ModelCapabilities:
      properties:
        audio:
          default: false
          title: Audio
          type: boolean
        audio_transcription:
          default: false
          title: Audio Transcription
          type: boolean
        classification:
          default: false
          title: Classification
          type: boolean
        completion_chat:
          default: false
          title: Completion Chat
          type: boolean
        completion_fim:
          default: false
          title: Completion Fim
          type: boolean
        fine_tuning:
          default: false
          title: Fine Tuning
          type: boolean
        function_calling:
          default: false
          title: Function Calling
          type: boolean
        moderation:
          default: false
          title: Moderation
          type: boolean
        ocr:
          default: false
          title: Ocr
          type: boolean
        vision:
          default: false
          title: Vision
          type: boolean
      title: ModelCapabilities
      type: object
    ModelConversation:
      additionalProperties: false
      properties:
        completion_args:
          $ref: "#/components/schemas/CompletionArgs"
          description: Completion arguments that will be used to generate assistant responses. Can be overridden at each message request.
        created_at:
          format: date-time
          title: Created At
          type: string
        description:
          anyOf:
            - type: string
            - type: "null"
          description: Description of the what the conversation is about.
          title: Description
        id:
          title: Id
          type: string
        instructions:
          anyOf:
            - type: string
            - type: "null"
          description: Instruction prompt the model will follow during the conversation.
          title: Instructions
        metadata:
          anyOf:
            - $ref: "#/components/schemas/MetadataDict"
            - type: "null"
          description: Custom metadata for the conversation.
        model:
          title: Model
          type: string
        name:
          anyOf:
            - type: string
            - type: "null"
          description: Name given to the conversation.
          title: Name
        object:
          default: conversation
          enum:
            - conversation
          title: Object
          type: string
        tools:
          description: List of tools which are available to the model during the conversation.
          items:
            discriminator:
              mapping:
                code_interpreter: "#/components/schemas/CodeInterpreterTool"
                document_library: "#/components/schemas/DocumentLibraryTool"
                function: "#/components/schemas/FunctionTool"
                image_generation: "#/components/schemas/ImageGenerationTool"
                web_search: "#/components/schemas/WebSearchTool"
                web_search_premium: "#/components/schemas/WebSearchPremiumTool"
              propertyName: type
            oneOf:
              - $ref: "#/components/schemas/FunctionTool"
              - $ref: "#/components/schemas/WebSearchTool"
              - $ref: "#/components/schemas/WebSearchPremiumTool"
              - $ref: "#/components/schemas/CodeInterpreterTool"
              - $ref: "#/components/schemas/ImageGenerationTool"
              - $ref: "#/components/schemas/DocumentLibraryTool"
          title: Tools
          type: array
        updated_at:
          format: date-time
          title: Updated At
          type: string
      required:
        - id
        - created_at
        - updated_at
        - model
      title: ModelConversation
      type: object
    ModelList:
      properties:
        data:
          items:
            discriminator:
              mapping:
                base: "#/components/schemas/BaseModelCard"
                fine-tuned: "#/components/schemas/FTModelCard"
              propertyName: type
            oneOf:
              - $ref: "#/components/schemas/BaseModelCard"
              - $ref: "#/components/schemas/FTModelCard"
          title: Data
          type: array
        object:
          default: list
          title: Object
          type: string
      title: ModelList
      type: object
    ModerationObject:
      properties:
        categories:
          additionalProperties:
            type: boolean
          description: Moderation result thresholds
          type: object
        category_scores:
          additionalProperties:
            type: number
          description: Moderation result
          type: object
      title: ModerationObject
      type: object
    ModerationResponse:
      properties:
        id:
          example: mod-e5cc70bb28c444948073e77776eb30ef
          type: string
        model:
          type: string
        results:
          items:
            $ref: "#/components/schemas/ModerationObject"
          type: array
      required:
        - id
        - model
        - results
      title: ModerationResponse
      type: object
    OCRImageObject:
      additionalProperties: false
      properties:
        bottom_right_x:
          anyOf:
            - minimum: 0
              type: integer
            - type: "null"
          description: X coordinate of bottom-right corner of the extracted image
          title: Bottom Right X
        bottom_right_y:
          anyOf:
            - minimum: 0
              type: integer
            - type: "null"
          description: Y coordinate of bottom-right corner of the extracted image
          title: Bottom Right Y
        id:
          description: Image ID for extracted image in a page
          title: Id
          type: string
        image_annotation:
          anyOf:
            - type: string
            - type: "null"
          description: Annotation of the extracted image in json str
          title: Image Annotation
        image_base64:
          anyOf:
            - type: string
            - type: "null"
          description: Base64 string of the extracted image
          title: Image Base64
        top_left_x:
          anyOf:
            - minimum: 0
              type: integer
            - type: "null"
          description: X coordinate of top-left corner of the extracted image
          title: Top Left X
        top_left_y:
          anyOf:
            - minimum: 0
              type: integer
            - type: "null"
          description: Y coordinate of top-left corner of the extracted image
          title: Top Left Y
      required:
        - id
        - top_left_x
        - top_left_y
        - bottom_right_x
        - bottom_right_y
      title: OCRImageObject
      type: object
    OCRPageDimensions:
      additionalProperties: false
      properties:
        dpi:
          description: Dots per inch of the page-image
          minimum: 0
          title: Dpi
          type: integer
        height:
          description: Height of the image in pixels
          minimum: 0
          title: Height
          type: integer
        width:
          description: Width of the image in pixels
          minimum: 0
          title: Width
          type: integer
      required:
        - dpi
        - height
        - width
      title: OCRPageDimensions
      type: object
    OCRPageObject:
      additionalProperties: false
      properties:
        dimensions:
          anyOf:
            - $ref: "#/components/schemas/OCRPageDimensions"
            - type: "null"
          description: The dimensions of the PDF Page's screenshot image
        footer:
          anyOf:
            - type: string
            - type: "null"
          description: Footer of the page
          title: Footer
        header:
          anyOf:
            - type: string
            - type: "null"
          description: Header of the page
          title: Header
        hyperlinks:
          description: List of all hyperlinks in the page
          items:
            type: string
          title: Hyperlinks
          type: array
        images:
          description: List of all extracted images in the page
          items:
            $ref: "#/components/schemas/OCRImageObject"
          title: Images
          type: array
        index:
          description: The page index in a pdf document starting from 0
          minimum: 0
          title: Index
          type: integer
        markdown:
          description: The markdown string response of the page
          title: Markdown
          type: string
        tables:
          description: List of all extracted tables in the page
          items:
            $ref: "#/components/schemas/OCRTableObject"
          title: Tables
          type: array
      required:
        - index
        - markdown
        - images
        - dimensions
      title: OCRPageObject
      type: object
    OCRRequest:
      additionalProperties: false
      properties:
        bbox_annotation_format:
          anyOf:
            - $ref: "#/components/schemas/ResponseFormat"
            - type: "null"
          description: Structured output class for extracting useful information from each extracted bounding box / image from document. Only json_schema is valid for this field
        document:
          anyOf:
            - $ref: "#/components/schemas/FileChunk"
            - $ref: "#/components/schemas/DocumentURLChunk"
            - $ref: "#/components/schemas/ImageURLChunk"
          description: Document to run OCR on
          title: Document
        document_annotation_format:
          anyOf:
            - $ref: "#/components/schemas/ResponseFormat"
            - type: "null"
          description: Structured output class for extracting useful information from the entire document. Only json_schema is valid for this field
        document_annotation_prompt:
          anyOf:
            - type: string
            - type: "null"
          description: Optional prompt to guide the model in extracting structured output from the entire document. A document_annotation_format must be provided.
          title: Document Annotation Prompt
        extract_footer:
          default: false
          title: Extract Footer
          type: boolean
        extract_header:
          default: false
          title: Extract Header
          type: boolean
        id:
          title: Id
          type: string
        image_limit:
          anyOf:
            - type: integer
            - type: "null"
          description: Max images to extract
          title: Image Limit
        image_min_size:
          anyOf:
            - type: integer
            - type: "null"
          description: Minimum height and width of image to extract
          title: Image Min Size
        include_image_base64:
          anyOf:
            - type: boolean
            - type: "null"
          description: Include image URLs in response
          title: Include Image Base64
        model:
          anyOf:
            - type: string
            - type: "null"
          title: Model
        pages:
          anyOf:
            - items:
                type: integer
              type: array
            - type: "null"
          description: "Specific pages user wants to process in various formats: single number, range, or list of both. Starts from 0"
          title: Pages
        table_format:
          anyOf:
            - enum:
                - markdown
                - html
              type: string
            - type: "null"
          title: Table Format
      required:
        - document
        - model
      title: OCRRequest
      type: object
    OCRResponse:
      additionalProperties: false
      properties:
        document_annotation:
          anyOf:
            - type: string
            - type: "null"
          description: Formatted response in the request_format if provided in json str
          title: Document Annotation
        model:
          description: The model used to generate the OCR.
          title: Model
          type: string
        pages:
          description: List of OCR info for pages.
          items:
            $ref: "#/components/schemas/OCRPageObject"
          title: Pages
          type: array
        usage_info:
          $ref: "#/components/schemas/OCRUsageInfo"
          description: Usage info for the OCR request.
      required:
        - pages
        - model
        - usage_info
      title: OCRResponse
      type: object
    OCRTableObject:
      additionalProperties: false
      properties:
        content:
          description: Content of the table in the given format
          title: Content
          type: string
        format:
          description: Format of the table
          enum:
            - markdown
            - html
          title: Format
          type: string
        id:
          description: Table ID for extracted table in a page
          title: Id
          type: string
      required:
        - id
        - content
        - format
      title: OCRTableObject
      type: object
    OCRUsageInfo:
      additionalProperties: false
      properties:
        doc_size_bytes:
          anyOf:
            - type: integer
            - type: "null"
          description: Document size in bytes
          title: Doc Size Bytes
        pages_processed:
          description: Number of pages processed
          minimum: 0
          title: Pages Processed
          type: integer
      required:
        - pages_processed
      title: OCRUsageInfo
      type: object
    OutputContentChunks:
      anyOf:
        - $ref: "#/components/schemas/TextChunk"
        - $ref: "#/components/schemas/ImageURLChunk"
        - $ref: "#/components/schemas/ToolFileChunk"
        - $ref: "#/components/schemas/DocumentURLChunk"
        - $ref: "#/components/schemas/ThinkChunk"
        - $ref: "#/components/schemas/ToolReferenceChunk"
      title: OutputContentChunks
    PaginationInfo:
      properties:
        current_page:
          title: Current Page
          type: integer
        has_more:
          title: Has More
          type: boolean
        page_size:
          title: Page Size
          type: integer
        total_items:
          title: Total Items
          type: integer
        total_pages:
          title: Total Pages
          type: integer
      required:
        - total_items
        - total_pages
        - current_page
        - page_size
        - has_more
      title: PaginationInfo
      type: object
    Prediction:
      additionalProperties: false
      description: Enable users to specify an expected completion, optimizing response times by leveraging known or predictable content.
      properties:
        content:
          default: ""
          title: Content
          type: string
        type:
          const: content
          default: content
          title: Type
          type: string
      title: Prediction
      type: object
    ProcessingStatusOut:
      properties:
        document_id:
          format: uuid
          title: Document Id
          type: string
        processing_status:
          type: string
      required:
        - document_id
        - processing_status
      title: ProcessingStatusOut
      type: object
    ReferenceChunk:
      additionalProperties: false
      properties:
        reference_ids:
          items:
            type: integer
          title: Reference Ids
          type: array
        type:
          default: reference
          enum:
            - reference
          title: Type
          type: string
      required:
        - reference_ids
      title: ReferenceChunk
      type: object
    RequestSource:
      enum:
        - api
        - playground
        - agent_builder_v1
      title: RequestSource
      type: string
    ResponseBase:
      properties:
        id:
          example: cmpl-e5cc70bb28c444948073e77776eb30ef
          type: string
        model:
          example: mistral-small-latest
          type: string
        object:
          example: chat.completion
          type: string
        usage:
          $ref: "#/components/schemas/UsageInfo"
      title: ResponseBase
      type: object
    ResponseDoneEvent:
      additionalProperties: false
      properties:
        created_at:
          format: date-time
          title: Created At
          type: string
        type:
          default: conversation.response.done
          enum:
            - conversation.response.done
          title: Type
          type: string
        usage:
          $ref: "#/components/schemas/ConversationUsageInfo"
      required:
        - usage
      title: ResponseDoneEvent
      type: object
    ResponseErrorEvent:
      additionalProperties: false
      properties:
        code:
          title: Code
          type: integer
        created_at:
          format: date-time
          title: Created At
          type: string
        message:
          title: Message
          type: string
        type:
          default: conversation.response.error
          enum:
            - conversation.response.error
          title: Type
          type: string
      required:
        - message
        - code
      title: ResponseErrorEvent
      type: object
    ResponseFormat:
      additionalProperties: false
      description: 'Specify the format that the model must output. By default it will use `{ "type": "text" }`. Setting to `{ "type": "json_object" }` enables JSON mode, which guarantees the message the model generates is in JSON. When using JSON mode you MUST also instruct the model to produce JSON yourself with a system or a user message. Setting to `{ "type": "json_schema" }` enables JSON schema mode, which guarantees the message the model generates is in JSON and follows the schema you provide.'
      examples:
        - type: text
        - type: json_object
        - json_schema:
            name: book
            schema:
              additionalProperties: false
              properties:
                authors:
                  items:
                    type: string
                  title: Authors
                  type: array
                name:
                  title: Name
                  type: string
              required:
                - name
                - authors
              title: Book
              type: object
            strict: true
          type: json_schema
      properties:
        json_schema:
          anyOf:
            - $ref: "#/components/schemas/JsonSchema"
            - type: "null"
        type:
          $ref: "#/components/schemas/ResponseFormats"
          default: text
      title: ResponseFormat
      type: object
    ResponseFormats:
      enum:
        - text
        - json_object
        - json_schema
      title: ResponseFormats
      type: string
    ResponseStartedEvent:
      additionalProperties: false
      properties:
        conversation_id:
          title: Conversation Id
          type: string
        created_at:
          format: date-time
          title: Created At
          type: string
        type:
          default: conversation.response.started
          enum:
            - conversation.response.started
          title: Type
          type: string
      required:
        - conversation_id
      title: ResponseStartedEvent
      type: object
    RetrieveFileOut:
      properties:
        bytes:
          description: The size of the file, in bytes.
          examples:
            - 13000
          title: Bytes
          type: integer
        created_at:
          description: The UNIX timestamp (in seconds) of the event.
          examples:
            - 1716963433
          title: Created At
          type: integer
        deleted:
          title: Deleted
          type: boolean
        filename:
          description: The name of the uploaded file.
          examples:
            - files_upload.jsonl
          title: Filename
          type: string
        id:
          description: The unique identifier of the file.
          examples:
            - 497f6eca-6276-4993-bfeb-53cbbbba6f09
          format: uuid
          title: Id
          type: string
        mimetype:
          anyOf:
            - type: string
            - type: "null"
          title: Mimetype
        num_lines:
          anyOf:
            - type: integer
            - type: "null"
          title: Num Lines
        object:
          description: The object type, which is always "file".
          examples:
            - file
          title: Object
          type: string
        purpose:
          $ref: "#/components/schemas/FilePurpose"
          description: The intended purpose of the uploaded file, currently supports fine-tuning (`fine-tune`), OCR (`ocr`), Audio/Transcription (`audio`) and batch inference (`batch`).
          examples:
            - fine-tune
            - ocr
            - batch
            - audio
        sample_type:
          $ref: "#/components/schemas/SampleType"
        signature:
          anyOf:
            - type: string
            - type: "null"
          title: Signature
        source:
          $ref: "#/components/schemas/Source"
      required:
        - id
        - object
        - bytes
        - created_at
        - filename
        - purpose
        - sample_type
        - source
        - deleted
      title: RetrieveFileOut
      type: object
    SSETypes:
      description: Server side events sent when streaming a conversation response.
      enum:
        - conversation.response.started
        - conversation.response.done
        - conversation.response.error
        - message.output.delta
        - tool.execution.started
        - tool.execution.delta
        - tool.execution.done
        - agent.handoff.started
        - agent.handoff.done
        - function.call.delta
      title: SSETypes
      type: string
    SampleType:
      enum:
        - pretrain
        - instruct
        - batch_request
        - batch_result
        - batch_error
      title: SampleType
      type: string
    ShareEnum:
      enum:
        - Viewer
        - Editor
      title: ShareEnum
      type: string
      x-speakeasy-unknown-values: allow
    SharingDelete:
      properties:
        org_id:
          anyOf:
            - format: uuid
              type: string
            - type: "null"
          title: Org Id
        share_with_type:
          $ref: "#/components/schemas/EntityType"
        share_with_uuid:
          description: The id of the entity (user, workspace or organization) to share with
          format: uuid
          type: string
      required:
        - share_with_uuid
        - share_with_type
        - level
      title: SharingDelete
      type: object
    SharingIn:
      properties:
        level:
          $ref: "#/components/schemas/ShareEnum"
        org_id:
          anyOf:
            - format: uuid
              type: string
            - type: "null"
          title: Org Id
        share_with_type:
          $ref: "#/components/schemas/EntityType"
        share_with_uuid:
          description: The id of the entity (user, workspace or organization) to share with
          format: uuid
          type: string
      required:
        - share_with_uuid
        - share_with_type
        - level
      title: SharingIn
      type: object
    SharingOut:
      properties:
        library_id:
          format: uuid
          title: Library Id
          type: string
        org_id:
          format: uuid
          title: Org Id
          type: string
        role:
          type: string
        share_with_type:
          type: string
        share_with_uuid:
          anyOf:
            - format: uuid
              type: string
            - type: "null"
          title: Share With Uuid
        user_id:
          anyOf:
            - format: uuid
              type: string
            - type: "null"
          title: User Id
      required:
        - library_id
        - org_id
        - role
        - share_with_type
        - share_with_uuid
      title: SharingOut
      type: object
    Source:
      enum:
        - upload
        - repository
        - mistral
      title: Source
      type: string
    SystemMessage:
      additionalProperties: false
      properties:
        content:
          anyOf:
            - type: string
            - items:
                $ref: "#/components/schemas/SystemMessageContentChunks"
              type: array
          title: Content
        role:
          default: system
          enum:
            - system
          type: string
      required:
        - content
      title: SystemMessage
      type: object
    SystemMessageContentChunks:
      discriminator:
        mapping:
          text: "#/components/schemas/TextChunk"
          thinking: "#/components/schemas/ThinkChunk"
        propertyName: type
      oneOf:
        - $ref: "#/components/schemas/TextChunk"
        - $ref: "#/components/schemas/ThinkChunk"
      title: SystemMessageContentChunks
    TextChunk:
      additionalProperties: false
      properties:
        text:
          title: Text
          type: string
        type:
          default: text
          enum:
            - text
          title: Type
          type: string
      required:
        - text
      title: TextChunk
      type: object
    ThinkChunk:
      additionalProperties: false
      properties:
        closed:
          default: true
          description: Whether the thinking chunk is closed or not. Currently only used for prefixing.
          title: Closed
          type: boolean
        thinking:
          items:
            anyOf:
              - $ref: "#/components/schemas/ReferenceChunk"
              - $ref: "#/components/schemas/TextChunk"
          title: Thinking
          type: array
        type:
          default: thinking
          enum:
            - thinking
          title: Type
          type: string
      required:
        - thinking
      title: ThinkChunk
      type: object
    TimestampGranularity:
      enum:
        - segment
        - word
      title: TimestampGranularity
      type: string
    Tool:
      additionalProperties: false
      properties:
        function:
          $ref: "#/components/schemas/Function"
        type:
          $ref: "#/components/schemas/ToolTypes"
          default: function
      required:
        - function
      title: Tool
      type: object
    ToolCall:
      additionalProperties: false
      properties:
        function:
          $ref: "#/components/schemas/FunctionCall"
        id:
          default: "null"
          title: Id
          type: string
        index:
          default: 0
          title: Index
          type: integer
        type:
          $ref: "#/components/schemas/ToolTypes"
          default: function
      required:
        - function
      title: ToolCall
      type: object
    ToolChoice:
      additionalProperties: false
      description: ToolChoice is either a ToolChoiceEnum or a ToolChoice
      properties:
        function:
          $ref: "#/components/schemas/FunctionName"
        type:
          $ref: "#/components/schemas/ToolTypes"
          default: function
      required:
        - function
      title: ToolChoice
      type: object
    ToolChoiceEnum:
      enum:
        - auto
        - none
        - any
        - required
      title: ToolChoiceEnum
      type: string
    ToolExecutionDeltaEvent:
      additionalProperties: false
      properties:
        arguments:
          title: Arguments
          type: string
        created_at:
          format: date-time
          title: Created At
          type: string
        id:
          title: Id
          type: string
        name:
          anyOf:
            - $ref: "#/components/schemas/BuiltInConnectors"
            - type: string
          title: Name
        output_index:
          default: 0
          title: Output Index
          type: integer
        type:
          default: tool.execution.delta
          enum:
            - tool.execution.delta
          title: Type
          type: string
      required:
        - id
        - name
        - arguments
      title: ToolExecutionDeltaEvent
      type: object
    ToolExecutionDoneEvent:
      additionalProperties: false
      properties:
        created_at:
          format: date-time
          title: Created At
          type: string
        id:
          title: Id
          type: string
        info:
          $ref: "#/components/schemas/ToolExecutionInfo"
        name:
          anyOf:
            - $ref: "#/components/schemas/BuiltInConnectors"
            - type: string
          title: Name
        output_index:
          default: 0
          title: Output Index
          type: integer
        type:
          default: tool.execution.done
          enum:
            - tool.execution.done
          title: Type
          type: string
      required:
        - id
        - name
      title: ToolExecutionDoneEvent
      type: object
    ToolExecutionEntry:
      additionalProperties: false
      properties:
        arguments:
          title: Arguments
          type: string
        completed_at:
          anyOf:
            - format: date-time
              type: string
            - type: "null"
          title: Completed At
        created_at:
          format: date-time
          title: Created At
          type: string
        id:
          title: Id
          type: string
        info:
          $ref: "#/components/schemas/ToolExecutionInfo"
        name:
          anyOf:
            - $ref: "#/components/schemas/BuiltInConnectors"
            - type: string
          title: Name
        object:
          default: entry
          enum:
            - entry
          title: Object
          type: string
        type:
          default: tool.execution
          enum:
            - tool.execution
          title: Type
          type: string
      required:
        - name
        - arguments
      title: ToolExecutionEntry
      type: object
    ToolExecutionInfo:
      additionalProperties: true
      title: ToolExecutionInfo
      type: object
    ToolExecutionStartedEvent:
      additionalProperties: false
      properties:
        arguments:
          title: Arguments
          type: string
        created_at:
          format: date-time
          title: Created At
          type: string
        id:
          title: Id
          type: string
        name:
          anyOf:
            - $ref: "#/components/schemas/BuiltInConnectors"
            - type: string
          title: Name
        output_index:
          default: 0
          title: Output Index
          type: integer
        type:
          default: tool.execution.started
          enum:
            - tool.execution.started
          title: Type
          type: string
      required:
        - id
        - name
        - arguments
      title: ToolExecutionStartedEvent
      type: object
    ToolFileChunk:
      additionalProperties: false
      properties:
        file_id:
          title: File Id
          type: string
        file_name:
          anyOf:
            - type: string
            - type: "null"
          title: File Name
        file_type:
          anyOf:
            - type: string
            - type: "null"
          title: File Type
        tool:
          anyOf:
            - $ref: "#/components/schemas/BuiltInConnectors"
            - type: string
          title: Tool
        type:
          default: tool_file
          enum:
            - tool_file
          title: Type
          type: string
      required:
        - tool
        - file_id
      title: ToolFileChunk
      type: object
    ToolMessage:
      additionalProperties: false
      properties:
        content:
          anyOf:
            - type: string
            - type: "null"
            - items:
                $ref: "#/components/schemas/ContentChunk"
              type: array
          title: Content
        name:
          anyOf:
            - type: string
            - type: "null"
          title: Name
        role:
          default: tool
          enum:
            - tool
          type: string
        tool_call_id:
          anyOf:
            - type: string
            - type: "null"
          title: Tool Call Id
      required:
        - content
      title: ToolMessage
      type: object
    ToolReferenceChunk:
      additionalProperties: false
      properties:
        description:
          anyOf:
            - type: string
            - type: "null"
          title: Description
        favicon:
          anyOf:
            - type: string
            - type: "null"
          title: Favicon
        title:
          title: Title
          type: string
        tool:
          anyOf:
            - $ref: "#/components/schemas/BuiltInConnectors"
            - type: string
          title: Tool
        type:
          default: tool_reference
          enum:
            - tool_reference
          title: Type
          type: string
        url:
          anyOf:
            - type: string
            - type: "null"
          title: Url
      required:
        - tool
        - title
      title: ToolReferenceChunk
      type: object
    ToolTypes:
      enum:
        - function
      title: ToolTypes
      type: string
    TrainingFile:
      properties:
        file_id:
          format: uuid
          title: File Id
          type: string
        weight:
          default: 1.0
          exclusiveMinimum: 0
          title: Weight
          type: number
      required:
        - file_id
      title: TrainingFile
      type: object
    TranscriptionResponse:
      additionalProperties: false
      properties:
        language:
          anyOf:
            - pattern: ^\w{2}$
              type: string
            - type: "null"
          title: Language
        model:
          title: Model
          type: string
        segments:
          items:
            $ref: "#/components/schemas/TranscriptionSegmentChunk"
          title: Segments
          type: array
        text:
          title: Text
          type: string
        usage:
          $ref: "#/components/schemas/UsageInfo"
      required:
        - model
        - text
        - language
        - usage
      title: TranscriptionResponse
      type: object
    TranscriptionSegmentChunk:
      additionalProperties: false
      properties:
        end:
          title: End
          type: number
        score:
          anyOf:
            - type: number
            - type: "null"
          title: Score
        speaker_id:
          anyOf:
            - type: string
            - type: "null"
          title: Speaker Id
        start:
          title: Start
          type: number
        text:
          title: Text
          type: string
        type:
          default: transcription_segment
          enum:
            - transcription_segment
          type: string
      required:
        - text
        - start
        - end
      title: TranscriptionSegmentChunk
      type: object
    TranscriptionStreamDone:
      additionalProperties: false
      properties:
        language:
          anyOf:
            - pattern: ^\w{2}$
              type: string
            - type: "null"
          title: Language
        model:
          title: Model
          type: string
        segments:
          items:
            $ref: "#/components/schemas/TranscriptionSegmentChunk"
          title: Segments
          type: array
        text:
          title: Text
          type: string
        type:
          default: transcription.done
          enum:
            - transcription.done
          type: string
        usage:
          $ref: "#/components/schemas/UsageInfo"
      required:
        - model
        - text
        - language
        - usage
      title: TranscriptionStreamDone
      type: object
    TranscriptionStreamEventTypes:
      enum:
        - transcription.language
        - transcription.segment
        - transcription.text.delta
        - transcription.done
      title: TranscriptionStreamEventTypes
      type: string
    TranscriptionStreamEvents:
      additionalProperties: false
      properties:
        data:
          discriminator:
            mapping:
              transcription.done: "#/components/schemas/TranscriptionStreamDone"
              transcription.language: "#/components/schemas/TranscriptionStreamLanguage"
              transcription.segment: "#/components/schemas/TranscriptionStreamSegmentDelta"
              transcription.text.delta: "#/components/schemas/TranscriptionStreamTextDelta"
            propertyName: type
          oneOf:
            - $ref: "#/components/schemas/TranscriptionStreamTextDelta"
            - $ref: "#/components/schemas/TranscriptionStreamLanguage"
            - $ref: "#/components/schemas/TranscriptionStreamSegmentDelta"
            - $ref: "#/components/schemas/TranscriptionStreamDone"
          title: Data
        event:
          $ref: "#/components/schemas/TranscriptionStreamEventTypes"
      required:
        - event
        - data
      title: TranscriptionStreamEvents
      type: object
    TranscriptionStreamLanguage:
      additionalProperties: false
      properties:
        audio_language:
          pattern: ^\w{2}$
          title: Audio Language
          type: string
        type:
          default: transcription.language
          enum:
            - transcription.language
          type: string
      required:
        - audio_language
      title: TranscriptionStreamLanguage
      type: object
    TranscriptionStreamSegmentDelta:
      additionalProperties: false
      properties:
        end:
          title: End
          type: number
        speaker_id:
          anyOf:
            - type: string
            - type: "null"
          default:
          title: Speaker Id
        start:
          title: Start
          type: number
        text:
          title: Text
          type: string
        type:
          default: transcription.segment
          enum:
            - transcription.segment
          type: string
      required:
        - text
        - start
        - end
      title: TranscriptionStreamSegmentDelta
      type: object
    TranscriptionStreamTextDelta:
      additionalProperties: false
      properties:
        text:
          title: Text
          type: string
        type:
          default: transcription.text.delta
          enum:
            - transcription.text.delta
          type: string
      required:
        - text
      title: TranscriptionStreamTextDelta
      type: object
    UnarchiveFTModelOut:
      properties:
        archived:
          default: false
          title: Archived
          type: boolean
        id:
          title: Id
          type: string
        object:
          default: model
          enum:
            - model
          title: Object
          type: string
      required:
        - id
      title: UnarchiveFTModelOut
      type: object
    UpdateFTModelIn:
      properties:
        description:
          anyOf:
            - type: string
            - type: "null"
          title: Description
        name:
          anyOf:
            - type: string
            - type: "null"
          title: Name
      title: UpdateFTModelIn
      type: object
    UploadFileOut:
      properties:
        bytes:
          description: The size of the file, in bytes.
          examples:
            - 13000
          title: Bytes
          type: integer
        created_at:
          description: The UNIX timestamp (in seconds) of the event.
          examples:
            - 1716963433
          title: Created At
          type: integer
        filename:
          description: The name of the uploaded file.
          examples:
            - files_upload.jsonl
          title: Filename
          type: string
        id:
          description: The unique identifier of the file.
          examples:
            - 497f6eca-6276-4993-bfeb-53cbbbba6f09
          format: uuid
          title: Id
          type: string
        mimetype:
          anyOf:
            - type: string
            - type: "null"
          title: Mimetype
        num_lines:
          anyOf:
            - type: integer
            - type: "null"
          title: Num Lines
        object:
          description: The object type, which is always "file".
          examples:
            - file
          title: Object
          type: string
        purpose:
          $ref: "#/components/schemas/FilePurpose"
          description: The intended purpose of the uploaded file, currently supports fine-tuning (`fine-tune`), OCR (`ocr`), Audio/Transcription (`audio`) and batch inference (`batch`).
          examples:
            - fine-tune
            - ocr
            - batch
            - audio
        sample_type:
          $ref: "#/components/schemas/SampleType"
        signature:
          anyOf:
            - type: string
            - type: "null"
          title: Signature
        source:
          $ref: "#/components/schemas/Source"
      required:
        - id
        - object
        - bytes
        - created_at
        - filename
        - purpose
        - sample_type
        - source
      title: UploadFileOut
      type: object
    UsageInfo:
      additionalProperties: false
      properties:
        completion_tokens:
          default: 0
          title: Completion Tokens
          type: integer
        prompt_audio_seconds:
          anyOf:
            - type: integer
            - type: "null"
          title: Prompt Audio Seconds
        prompt_tokens:
          default: 0
          title: Prompt Tokens
          type: integer
        total_tokens:
          default: 0
          title: Total Tokens
          type: integer
      required:
        - prompt_tokens
        - completion_tokens
        - total_tokens
      title: UsageInfo
      type: object
    UserMessage:
      additionalProperties: false
      properties:
        content:
          anyOf:
            - type: string
            - type: "null"
            - items:
                $ref: "#/components/schemas/ContentChunk"
              type: array
          title: Content
        role:
          default: user
          enum:
            - user
          type: string
      required:
        - content
      title: UserMessage
      type: object
    ValidationError:
      properties:
        loc:
          items:
            anyOf:
              - type: string
              - type: integer
          title: Location
          type: array
        msg:
          title: Message
          type: string
        type:
          title: Error Type
          type: string
      required:
        - loc
        - msg
        - type
      title: ValidationError
      type: object
    WandbIntegration:
      properties:
        api_key:
          description: The WandB API key to use for authentication.
          maxLength: 40
          minLength: 40
          title: Api Key
          type: string
        name:
          anyOf:
            - type: string
            - type: "null"
          description: A display name to set for the run. If not set, will use the job ID as the name.
          title: Name
        project:
          description: The name of the project that the new run will be created under.
          title: Project
          type: string
        run_name:
          anyOf:
            - type: string
            - type: "null"
          title: Run Name
        type:
          default: wandb
          enum:
            - wandb
          title: Type
          type: string
      required:
        - project
        - api_key
      title: WandbIntegration
      type: object
    WandbIntegrationOut:
      properties:
        name:
          anyOf:
            - type: string
            - type: "null"
          description: A display name to set for the run. If not set, will use the job ID as the name.
          title: Name
        project:
          description: The name of the project that the new run will be created under.
          title: Project
          type: string
        run_name:
          anyOf:
            - type: string
            - type: "null"
          title: Run Name
        type:
          default: wandb
          enum:
            - wandb
          title: Type
          type: string
        url:
          anyOf:
            - type: string
            - type: "null"
          title: Url
      required:
        - project
      title: WandbIntegrationOut
      type: object
    WebSearchPremiumTool:
      additionalProperties: false
      properties:
        type:
          default: web_search_premium
          enum:
            - web_search_premium
          title: Type
          type: string
      title: WebSearchPremiumTool
      type: object
    WebSearchTool:
      additionalProperties: false
      properties:
        type:
          default: web_search
          enum:
            - web_search
          title: Type
          type: string
      title: WebSearchTool
      type: object
  securitySchemes:
    ApiKey:
      scheme: bearer
      type: http
info:
  description: Our Chat Completion and Embeddings APIs specification. Create your account on [La Plateforme](https://console.mistral.ai) to get access and read the [docs](https://docs.mistral.ai) to learn how to use it.
  title: Mistral AI API
  version: 1.0.0
openapi: 3.1.0
paths:
  /v1/agents:
    get:
      description: Retrieve a list of agent entities sorted by creation time.
      operationId: agents_api_v1_agents_list
      parameters:
        - description: Page number (0-indexed)
          in: query
          name: page
          required: false
          schema:
            default: 0
            description: Page number (0-indexed)
            minimum: 0
            title: Page
            type: integer
        - description: Number of agents per page
          in: query
          name: page_size
          required: false
          schema:
            default: 20
            description: Number of agents per page
            maximum: 1000
            minimum: 1
            title: Page Size
            type: integer
        - in: query
          name: deployment_chat
          required: false
          schema:
            anyOf:
              - type: boolean
              - type: "null"
            title: Deployment Chat
        - in: query
          name: sources
          required: false
          schema:
            anyOf:
              - items:
                  $ref: "#/components/schemas/RequestSource"
                type: array
              - type: "null"
            title: Sources
        - in: query
          name: name
          required: false
          schema:
            anyOf:
              - type: string
              - type: "null"
            title: Name
        - in: query
          name: id
          required: false
          schema:
            anyOf:
              - type: string
              - type: "null"
            title: Id
        - content:
            application/json:
              schema:
                anyOf:
                  - additionalProperties: true
                    type: object
                  - type: "null"
                title: Metadata
          in: query
          name: metadata
          required: false
      responses:
        "200":
          content:
            application/json:
              schema:
                items:
                  $ref: "#/components/schemas/Agent"
                title: Response V1 Agents List
                type: array
          description: Successful Response
        "422":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
          description: Validation Error
      summary: List agent entities.
      tags:
        - beta.agents
    post:
      description: Create a new agent giving it instructions, tools, description. The agent is then available to be used as a regular assistant in a conversation or as part of an agent pool from which it can be used.
      operationId: agents_api_v1_agents_create
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AgentCreationRequest"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Agent"
          description: Successful Response
        "422":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
          description: Validation Error
      summary: Create a agent that can be used within a conversation.
      tags:
        - beta.agents
  /v1/agents/completions:
    post:
      operationId: agents_completion_v1_agents_completions_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AgentsCompletionRequest"
        required: true
      responses:
        "200":
          content:
            application/json:
              examples:
                userExample:
                  value:
                    choices:
                      - finish_reason: stop
                        index: 0
                        message:
                          content: Arrr, the scallywag Claude Monet be the finest French painter to ever splash colors on a canvas, savvy?
                          prefix: false
                          role: assistant
                          tool_calls: null
                    created: 1759500534
                    id: cf79f7daaee244b1a0ae5c7b1444424a
                    model: mistral-medium-latest
                    object: chat.completion
                    usage:
                      completion_tokens: 27
                      prompt_audio_seconds: {}
                      prompt_tokens: 24
                      total_tokens: 51
              schema:
                $ref: "#/components/schemas/ChatCompletionResponse"
          description: Successful Response
        "422":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
          description: Validation Error
      summary: Agents Completion
      tags:
        - agents
  /v1/agents/{agent_id}:
    delete:
      operationId: agents_api_v1_agents_delete
      parameters:
        - in: path
          name: agent_id
          required: true
          schema:
            title: Agent Id
            type: string
      responses:
        "204":
          description: Successful Response
        "422":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
          description: Validation Error
      summary: Delete an agent entity.
      tags:
        - beta.agents
    get:
      description: Given an agent, retrieve an agent entity with its attributes. The agent_version parameter can be an integer version number or a string alias.
      operationId: agents_api_v1_agents_get
      parameters:
        - in: path
          name: agent_id
          required: true
          schema:
            title: Agent Id
            type: string
        - in: query
          name: agent_version
          required: false
          schema:
            anyOf:
              - type: integer
              - type: string
              - type: "null"
            title: Agent Version
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Agent"
          description: Successful Response
        "422":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
          description: Validation Error
      summary: Retrieve an agent entity.
      tags:
        - beta.agents
    patch:
      description: Update an agent attributes and create a new version.
      operationId: agents_api_v1_agents_update
      parameters:
        - in: path
          name: agent_id
          required: true
          schema:
            title: Agent Id
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AgentUpdateRequest"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Agent"
          description: Successful Response
        "422":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
          description: Validation Error
      summary: Update an agent entity.
      tags:
        - beta.agents
  /v1/agents/{agent_id}/aliases:
    get:
      description: Retrieve all version aliases for a specific agent.
      operationId: agents_api_v1_agents_list_version_aliases
      parameters:
        - in: path
          name: agent_id
          required: true
          schema:
            title: Agent Id
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                items:
                  $ref: "#/components/schemas/AgentAliasResponse"
                title: Response V1 Agents List Version Aliases
                type: array
          description: Successful Response
        "422":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
          description: Validation Error
      summary: List all aliases for an agent.
      tags:
        - beta.agents
    put:
      description: Create a new alias or update an existing alias to point to a specific version. Aliases are unique per agent and can be reassigned to different versions.
      operationId: agents_api_v1_agents_create_or_update_alias
      parameters:
        - in: path
          name: agent_id
          required: true
          schema:
            title: Agent Id
            type: string
        - in: query
          name: alias
          required: true
          schema:
            maxLength: 64
            minLength: 1
            pattern: ^[a-z]([a-z0-9_-]*[a-z0-9])?$
            title: Alias
            type: string
        - in: query
          name: version
          required: true
          schema:
            title: Version
            type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AgentAliasResponse"
          description: Successful Response
        "422":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
          description: Validation Error
      summary: Create or update an agent version alias.
      tags:
        - beta.agents
  /v1/agents/{agent_id}/version:
    patch:
      description: Switch the version of an agent.
      operationId: agents_api_v1_agents_update_version
      parameters:
        - in: path
          name: agent_id
          required: true
          schema:
            title: Agent Id
            type: string
        - in: query
          name: version
          required: true
          schema:
            title: Version
            type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Agent"
          description: Successful Response
        "422":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
          description: Validation Error
      summary: Update an agent version.
      tags:
        - beta.agents
  /v1/agents/{agent_id}/versions:
    get:
      description: Retrieve all versions for a specific agent with full agent context. Supports pagination.
      operationId: agents_api_v1_agents_list_versions
      parameters:
        - in: path
          name: agent_id
          required: true
          schema:
            title: Agent Id
            type: string
        - description: Page number (0-indexed)
          in: query
          name: page
          required: false
          schema:
            default: 0
            description: Page number (0-indexed)
            minimum: 0
            title: Page
            type: integer
        - description: Number of versions per page
          in: query
          name: page_size
          required: false
          schema:
            default: 20
            description: Number of versions per page
            maximum: 100
            minimum: 1
            title: Page Size
            type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                items:
                  $ref: "#/components/schemas/Agent"
                title: Response V1 Agents List Versions
                type: array
          description: Successful Response
        "422":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
          description: Validation Error
      summary: List all versions of an agent.
      tags:
        - beta.agents
  /v1/agents/{agent_id}/versions/{version}:
    get:
      description: Get a specific agent version by version number.
      operationId: agents_api_v1_agents_get_version
      parameters:
        - in: path
          name: agent_id
          required: true
          schema:
            title: Agent Id
            type: string
        - in: path
          name: version
          required: true
          schema:
            title: Version
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Agent"
          description: Successful Response
        "422":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
          description: Validation Error
      summary: Retrieve a specific version of an agent.
      tags:
        - beta.agents
  /v1/audio/transcriptions:
    post:
      operationId: audio_api_v1_transcriptions_post
      requestBody:
        content:
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/AudioTranscriptionRequest"
        required: true
      responses:
        "200":
          content:
            application/json:
              examples:
                userExample:
                  value:
                    language: en
                    model: voxtral-mini-2507
                    segments: []
                    text: |
                      This week, I traveled to Chicago to deliver my final farewell address to the nation, following in the tradition of presidents before me. It was an opportunity to say thank you. Whether we've seen eye to eye or rarely agreed at all, my conversations with you, the American people, in living rooms, in schools, at farms and on factory floors, at diners and on distant military outposts, All these conversations are what have kept me honest, kept me inspired, and kept me going. Every day, I learned from you. You made me a better President, and you made me a better man.
                      Over the course of these eight years, I've seen the goodness, the resilience, and the hope of the American people. I've seen neighbors looking out for each other as we rescued our economy from the worst crisis of our lifetimes. I've hugged cancer survivors who finally know the security of affordable health care. I've seen communities like Joplin rebuild from disaster, and cities like Boston show the world that no terrorist will ever break the American spirit. I've seen the hopeful faces of young graduates and our newest military officers. I've mourned with grieving families searching for answers. And I found grace in a Charleston church. I've seen our scientists help a paralyzed man regain his sense of touch, and our wounded warriors walk again. I've seen our doctors and volunteers rebuild after earthquakes and stop pandemics in their tracks. I've learned from students who are building robots and curing diseases, and who will change the world in ways we can't even imagine. I've seen the youngest of children remind us of our obligations to care for our refugees, to work in peace, and above all, to look out for each other.
                      That's what's possible when we come together in the slow, hard, sometimes frustrating, but always vital work of self-government. But we can't take our democracy for granted. All of us, regardless of party, should throw ourselves into the work of citizenship. Not just when there is an election. Not just when our own narrow interest is at stake. But over the full span of a lifetime. If you're tired of arguing with strangers on the Internet, try to talk with one in real life. If something needs fixing, lace up your shoes and do some organizing. If you're disappointed by your elected officials, then grab a clipboard, get some signatures, and run for office yourself.
                      Our success depends on our participation, regardless of which way the pendulum of power swings. It falls on each of us to be guardians of our democracy, to embrace the joyous task we've been given to continually try to improve this great nation of ours. Because for all our outward differences, we all share the same proud title  citizen.
                      It has been the honor of my life to serve you as President. Eight years later, I am even more optimistic about our country's promise. And I look forward to working along your side as a citizen for all my days that remain.
                      Thanks, everybody. God bless you. And God bless the United States of America.
                    usage:
                      completion_tokens: 635
                      prompt_audio_seconds: 203
                      prompt_tokens: 4
                      total_tokens: 3264
              schema:
                $ref: "#/components/schemas/TranscriptionResponse"
          description: Successful Response
      summary: Create Transcription
      tags:
        - audio.transcriptions
  /v1/audio/transcriptions#stream:
    post:
      operationId: audio_api_v1_transcriptions_post_stream
      requestBody:
        content:
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/AudioTranscriptionRequestStream"
        required: true
      responses:
        "200":
          content:
            text/event-stream:
              schema:
                $ref: "#/components/schemas/TranscriptionStreamEvents"
          description: Stream of transcription events
      summary: Create Streaming Transcription (SSE)
      tags:
        - audio.transcriptions
  /v1/batch/jobs:
    get:
      description: Get a list of batch jobs for your organization and user.
      operationId: jobs_api_routes_batch_get_batch_jobs
      parameters:
        - in: query
          name: page
          required: false
          schema:
            default: 0
            title: Page
            type: integer
        - in: query
          name: page_size
          required: false
          schema:
            default: 100
            title: Page Size
            type: integer
        - in: query
          name: model
          required: false
          schema:
            anyOf:
              - type: string
              - type: "null"
            title: Model
        - in: query
          name: agent_id
          required: false
          schema:
            anyOf:
              - type: string
              - type: "null"
            title: Agent Id
        - in: query
          name: metadata
          required: false
          schema:
            anyOf:
              - additionalProperties: true
                type: object
              - type: "null"
            title: Metadata
        - in: query
          name: created_after
          required: false
          schema:
            anyOf:
              - format: date-time
                type: string
              - type: "null"
            title: Created After
        - in: query
          name: created_by_me
          required: false
          schema:
            default: false
            title: Created By Me
            type: boolean
        - in: query
          name: status
          required: false
          schema:
            anyOf:
              - items:
                  $ref: "#/components/schemas/BatchJobStatus"
                type: array
              - type: "null"
            title: Status
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/BatchJobsOut"
          description: OK
      summary: Get Batch Jobs
      tags:
        - batch
    post:
      description: Create a new batch job, it will be queued for processing.
      operationId: jobs_api_routes_batch_create_batch_job
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/BatchJobIn"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/BatchJobOut"
          description: OK
      summary: Create Batch Job
      tags:
        - batch
  /v1/batch/jobs/{job_id}:
    get:
      description: |-
        Get a batch job details by its UUID.

        Args:
            inline: If True, return results inline in the response.
      operationId: jobs_api_routes_batch_get_batch_job
      parameters:
        - in: path
          name: job_id
          required: true
          schema:
            format: uuid
            title: Job Id
            type: string
        - in: query
          name: inline
          required: false
          schema:
            anyOf:
              - type: boolean
              - type: "null"
            title: Inline
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/BatchJobOut"
          description: OK
      summary: Get Batch Job
      tags:
        - batch
  /v1/batch/jobs/{job_id}/cancel:
    post:
      description: Request the cancellation of a batch job.
      operationId: jobs_api_routes_batch_cancel_batch_job
      parameters:
        - in: path
          name: job_id
          required: true
          schema:
            format: uuid
            title: Job Id
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/BatchJobOut"
          description: OK
      summary: Cancel Batch Job
      tags:
        - batch
  /v1/chat/classifications:
    post:
      operationId: chat_classifications_v1_chat_classifications_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ChatClassificationRequest"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ClassificationResponse"
          description: Successful Response
        "422":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
          description: Validation Error
      summary: Chat Classifications
      tags:
        - classifiers
  /v1/chat/completions:
    post:
      operationId: chat_completion_v1_chat_completions_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ChatCompletionRequest"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ChatCompletionResponse"
            text/event-stream:
              schema:
                $ref: "#/components/schemas/CompletionEvent"
          description: Successful Response
        "422":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
          description: Validation Error
      summary: Chat Completion
      tags:
        - chat
  /v1/chat/moderations:
    post:
      operationId: chat_moderations_v1_chat_moderations_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ChatModerationRequest"
        required: true
      responses:
        "200":
          content:
            application/json:
              examples:
                userExample:
                  value:
                    id: 352bce1a55814127a3b0bc4fb8f02a35
                    model: mistral-moderation-latest
                    results:
                      - categories:
                          dangerous_and_criminal_content: false
                          financial: false
                          hate_and_discrimination: false
                          health: false
                          law: false
                          pii: false
                          selfharm: false
                          sexual: false
                          violence_and_threats: false
                        category_scores:
                          dangerous_and_criminal_content: 0.0029810327105224133
                          financial: 7.9673009167891e-05
                          hate_and_discrimination: 0.001597845577634871
                          health: 0.0002959570847451687
                          law: 4.539786823443137e-05
                          pii: 0.004198795650154352
                          selfharm: 0.00017952796770259738
                          sexual: 0.0010322310263291001
                          violence_and_threats: 0.00020342698553577065
              schema:
                $ref: "#/components/schemas/ModerationResponse"
          description: Successful Response
        "422":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
          description: Validation Error
      summary: Chat Moderations
      tags:
        - classifiers
  /v1/classifications:
    post:
      operationId: classifications_v1_classifications_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ClassificationRequest"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ClassificationResponse"
          description: Successful Response
        "422":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
          description: Validation Error
      summary: Classifications
      tags:
        - classifiers
  /v1/conversations:
    get:
      description: Retrieve a list of conversation entities sorted by creation time.
      operationId: agents_api_v1_conversations_list
      parameters:
        - in: query
          name: page
          required: false
          schema:
            default: 0
            title: Page
            type: integer
        - in: query
          name: page_size
          required: false
          schema:
            default: 100
            title: Page Size
            type: integer
        - content:
            application/json:
              schema:
                anyOf:
                  - additionalProperties: true
                    type: object
                  - type: "null"
                title: Metadata
          in: query
          name: metadata
          required: false
      responses:
        "200":
          content:
            application/json:
              schema:
                items:
                  anyOf:
                    - $ref: "#/components/schemas/ModelConversation"
                    - $ref: "#/components/schemas/AgentConversation"
                title: Response V1 Conversations List
                type: array
          description: Successful Response
        "422":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
          description: Validation Error
      summary: List all created conversations.
      tags:
        - beta.conversations
    post:
      description: Create a new conversation, using a base model or an agent and append entries. Completion and tool executions are run and the response is appended to the conversation.Use the returned conversation_id to continue the conversation.
      operationId: agents_api_v1_conversations_start
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ConversationRequest"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ConversationResponse"
          description: Successful Response
        "422":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
          description: Validation Error
      summary: Create a conversation and append entries to it.
      tags:
        - beta.conversations
  /v1/conversations#stream:
    post:
      description: Create a new conversation, using a base model or an agent and append entries. Completion and tool executions are run and the response is appended to the conversation.Use the returned conversation_id to continue the conversation.
      operationId: agents_api_v1_conversations_start_stream
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ConversationStreamRequest"
        required: true
      responses:
        "200":
          content:
            text/event-stream:
              schema:
                $ref: "#/components/schemas/ConversationEvents"
          description: Successful Response
        "422":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
          description: Validation Error
      summary: Create a conversation and append entries to it.
      tags:
        - beta.conversations
  /v1/conversations/{conversation_id}:
    delete:
      description: Delete a conversation given a conversation_id.
      operationId: agents_api_v1_conversations_delete
      parameters:
        - description: ID of the conversation from which we are fetching metadata.
          in: path
          name: conversation_id
          required: true
          schema:
            description: ID of the conversation from which we are fetching metadata.
            title: Conversation Id
            type: string
      responses:
        "204":
          description: Successful Response
        "422":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
          description: Validation Error
      summary: Delete a conversation.
      tags:
        - beta.conversations
    get:
      description: Given a conversation_id retrieve a conversation entity with its attributes.
      operationId: agents_api_v1_conversations_get
      parameters:
        - description: ID of the conversation from which we are fetching metadata.
          in: path
          name: conversation_id
          required: true
          schema:
            description: ID of the conversation from which we are fetching metadata.
            title: Conversation Id
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                anyOf:
                  - $ref: "#/components/schemas/ModelConversation"
                  - $ref: "#/components/schemas/AgentConversation"
                title: Response V1 Conversations Get
          description: Successful Response
        "422":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
          description: Validation Error
      summary: Retrieve a conversation information.
      tags:
        - beta.conversations
    post:
      description: Run completion on the history of the conversation and the user entries. Return the new created entries.
      operationId: agents_api_v1_conversations_append
      parameters:
        - description: ID of the conversation to which we append entries.
          in: path
          name: conversation_id
          required: true
          schema:
            description: ID of the conversation to which we append entries.
            title: Conversation Id
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ConversationAppendRequest"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ConversationResponse"
          description: Successful Response
        "422":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
          description: Validation Error
      summary: Append new entries to an existing conversation.
      tags:
        - beta.conversations
  /v1/conversations/{conversation_id}#stream:
    post:
      description: Run completion on the history of the conversation and the user entries. Return the new created entries.
      operationId: agents_api_v1_conversations_append_stream
      parameters:
        - description: ID of the conversation to which we append entries.
          in: path
          name: conversation_id
          required: true
          schema:
            description: ID of the conversation to which we append entries.
            title: Conversation Id
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ConversationAppendStreamRequest"
        required: true
      responses:
        "200":
          content:
            text/event-stream:
              schema:
                $ref: "#/components/schemas/ConversationEvents"
          description: Successful Response
        "422":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
          description: Validation Error
      summary: Append new entries to an existing conversation.
      tags:
        - beta.conversations
  /v1/conversations/{conversation_id}/history:
    get:
      description: Given a conversation_id retrieve all the entries belonging to that conversation. The entries are sorted in the order they were appended, those can be messages, connectors or function_call.
      operationId: agents_api_v1_conversations_history
      parameters:
        - description: ID of the conversation from which we are fetching entries.
          in: path
          name: conversation_id
          required: true
          schema:
            description: ID of the conversation from which we are fetching entries.
            title: Conversation Id
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ConversationHistory"
          description: Successful Response
        "422":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
          description: Validation Error
      summary: Retrieve all entries in a conversation.
      tags:
        - beta.conversations
  /v1/conversations/{conversation_id}/messages:
    get:
      description: Given a conversation_id retrieve all the messages belonging to that conversation. This is similar to retrieving all entries except we filter the messages only.
      operationId: agents_api_v1_conversations_messages
      parameters:
        - description: ID of the conversation from which we are fetching messages.
          in: path
          name: conversation_id
          required: true
          schema:
            description: ID of the conversation from which we are fetching messages.
            title: Conversation Id
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ConversationMessages"
          description: Successful Response
        "422":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
          description: Validation Error
      summary: Retrieve all messages in a conversation.
      tags:
        - beta.conversations
  /v1/conversations/{conversation_id}/restart:
    post:
      description: Given a conversation_id and an id, recreate a conversation from this point and run completion. A new conversation is returned with the new entries returned.
      operationId: agents_api_v1_conversations_restart
      parameters:
        - description: ID of the original conversation which is being restarted.
          in: path
          name: conversation_id
          required: true
          schema:
            description: ID of the original conversation which is being restarted.
            title: Conversation Id
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ConversationRestartRequest"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ConversationResponse"
          description: Successful Response
        "422":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
          description: Validation Error
      summary: Restart a conversation starting from a given entry.
      tags:
        - beta.conversations
  /v1/conversations/{conversation_id}/restart#stream:
    post:
      description: Given a conversation_id and an id, recreate a conversation from this point and run completion. A new conversation is returned with the new entries returned.
      operationId: agents_api_v1_conversations_restart_stream
      parameters:
        - description: ID of the original conversation which is being restarted.
          in: path
          name: conversation_id
          required: true
          schema:
            description: ID of the original conversation which is being restarted.
            title: Conversation Id
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ConversationRestartStreamRequest"
        required: true
      responses:
        "200":
          content:
            text/event-stream:
              schema:
                $ref: "#/components/schemas/ConversationEvents"
          description: Successful Response
        "422":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
          description: Validation Error
      summary: Restart a conversation starting from a given entry.
      tags:
        - beta.conversations
  /v1/embeddings:
    post:
      description: Embeddings
      operationId: embeddings_v1_embeddings_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/EmbeddingRequest"
        required: true
      responses:
        "200":
          content:
            application/json:
              examples:
                userExample:
                  value:
                    data:
                      - embedding:
                          - -0.016632080078125
                          - 0.0701904296875
                          - 0.03143310546875
                          - 0.01309967041015625
                          - 0.0202789306640625
                        index: 0
                        object: embedding
                      - embedding:
                          - -0.0230560302734375
                          - 0.039337158203125
                          - 0.0521240234375
                          - -0.0184783935546875
                          - 0.034271240234375
                        index: 1
                        object: embedding
                    model: mistral-embed
                    object: list
                    usage:
                      completion_tokens: 0
                      prompt_audio_seconds: null
                      prompt_tokens: 15
                      total_tokens: 15
              schema:
                $ref: "#/components/schemas/EmbeddingResponse"
          description: Successful Response
        "422":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
          description: Validation Error
      summary: Embeddings
      tags:
        - embeddings
  /v1/files:
    get:
      description: Returns a list of files that belong to the user's organization.
      operationId: files_api_routes_list_files
      parameters:
        - in: query
          name: page
          required: false
          schema:
            default: 0
            title: Page
            type: integer
        - in: query
          name: page_size
          required: false
          schema:
            default: 100
            title: Page Size
            type: integer
        - in: query
          name: include_total
          required: false
          schema:
            default: true
            title: Include Total
            type: boolean
        - in: query
          name: sample_type
          required: false
          schema:
            anyOf:
              - items:
                  $ref: "#/components/schemas/SampleType"
                type: array
              - type: "null"
            title: Sample Type
        - in: query
          name: source
          required: false
          schema:
            anyOf:
              - items:
                  $ref: "#/components/schemas/Source"
                type: array
              - type: "null"
            title: Source
        - in: query
          name: search
          required: false
          schema:
            anyOf:
              - type: string
              - type: "null"
            title: Search
        - in: query
          name: purpose
          required: false
          schema:
            anyOf:
              - $ref: "#/components/schemas/FilePurpose"
              - type: "null"
        - in: query
          name: mimetypes
          required: false
          schema:
            anyOf:
              - items:
                  type: string
                type: array
              - type: "null"
            title: Mimetypes
      responses:
        "200":
          content:
            application/json:
              examples:
                userExample:
                  value:
                    data:
                      - bytes: null
                        created_at: 1759491994
                        filename: <your_file_name>
                        id: <your_file_id>
                        mimetype: application/jsonl
                        num_lines: 2
                        object: file
                        purpose: batch
                        sample_type: batch_result
                        signature: null
                        source: mistral
                      - bytes: null
                        created_at: 1759491994
                        filename: <your_file_name>
                        id: <your_file_id>
                        mimetype: application/jsonl
                        num_lines: 2
                        object: file
                        purpose: batch
                        sample_type: batch_result
                        signature: null
                        source: mistral
                    object: list
                    total: 2
              schema:
                $ref: "#/components/schemas/ListFilesOut"
          description: OK
      summary: List Files
      tags:
        - files
    post:
      description: |-
        Upload a file that can be used across various endpoints.

        The size of individual files can be a maximum of 512 MB. The Fine-tuning API only supports .jsonl files.

        Please contact us if you need to increase these storage limits.
      operationId: files_api_routes_upload_file
      requestBody:
        content:
          multipart/form-data:
            schema:
              properties:
                file:
                  $ref: "#/components/schemas/File"
                purpose:
                  $ref: "#/components/schemas/FilePurpose"
              required:
                - file
              title: MultiPartBodyParams
              type: object
        required: true
      responses:
        "200":
          content:
            application/json:
              examples:
                userExample:
                  value:
                    bytes: null
                    created_at: 1759500189
                    filename: example.file.jsonl
                    id: e85980c9-409e-4a46-9304-36588f6292b0
                    mimetype: application/jsonl
                    num_lines: 2
                    object: file
                    purpose: fine-tune
                    sample_type: instruct
                    signature: d4821d2de1917341
                    source: upload
              schema:
                $ref: "#/components/schemas/UploadFileOut"
          description: OK
      summary: Upload File
      tags:
        - files
  /v1/files/{file_id}:
    delete:
      description: Delete a file.
      operationId: files_api_routes_delete_file
      parameters:
        - in: path
          name: file_id
          required: true
          schema:
            format: uuid
            title: File Id
            type: string
      responses:
        "200":
          content:
            application/json:
              examples:
                userExample:
                  value:
                    deleted: true
                    id: e85980c9-409e-4a46-9304-36588f6292b0
                    object: file
              schema:
                $ref: "#/components/schemas/DeleteFileOut"
          description: OK
      summary: Delete File
      tags:
        - files
    get:
      description: Returns information about a specific file.
      operationId: files_api_routes_retrieve_file
      parameters:
        - in: path
          name: file_id
          required: true
          schema:
            format: uuid
            title: File Id
            type: string
      responses:
        "200":
          content:
            application/json:
              examples:
                userExample:
                  value:
                    bytes: null
                    created_at: 1759500189
                    deleted: false
                    filename: example.file.jsonl
                    id: e85980c9-409e-4a46-9304-36588f6292b0
                    mimetype: application/jsonl
                    num_lines: 2
                    object: file
                    purpose: fine-tune
                    sample_type: instruct
                    signature: d4821d2de1917341
                    source: upload
              schema:
                $ref: "#/components/schemas/RetrieveFileOut"
          description: OK
      summary: Retrieve File
      tags:
        - files
  /v1/files/{file_id}/content:
    get:
      description: Download a file
      operationId: files_api_routes_download_file
      parameters:
        - in: path
          name: file_id
          required: true
          schema:
            format: uuid
            title: File Id
            type: string
      responses:
        "200":
          content:
            application/octet-stream:
              schema:
                format: binary
                type: string
          description: OK
      summary: Download File
      tags:
        - files
  /v1/files/{file_id}/url:
    get:
      operationId: files_api_routes_get_signed_url
      parameters:
        - in: path
          name: file_id
          required: true
          schema:
            format: uuid
            title: File Id
            type: string
        - description: Number of hours before the url becomes invalid. Defaults to 24h
          in: query
          name: expiry
          required: false
          schema:
            default: 24
            description: Number of hours before the url becomes invalid. Defaults to 24h
            title: Expiry
            type: integer
      responses:
        "200":
          content:
            application/json:
              examples:
                userExample:
                  value:
                    url: https://mistralaifilesapiprodswe.blob.core.windows.net/fine-tune/.../.../e85980c9409e4a46930436588f6292b0.jsonl?se=2025-10-04T14%3A16%3A17Z&sp=r&sv=2025-01-05&sr=b&sig=...
              schema:
                $ref: "#/components/schemas/FileSignedURL"
          description: OK
      summary: Get Signed Url
      tags:
        - files
  /v1/fim/completions:
    post:
      description: FIM completion.
      operationId: fim_completion_v1_fim_completions_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/FIMCompletionRequest"
        required: true
      responses:
        "200":
          content:
            application/json:
              examples:
                userExample:
                  value:
                    choices:
                      - finish_reason: stop
                        index: 0
                        message:
                          content: |
                            add_numbers(a: int, b: int) -> int:
                                """
                                You are given two integers `a` and `b`. Your task is to write a function that
                                returns the sum of these two integers. The function should be implemented in a
                                way that it can handle very large integers (up to 10^18). As a reminder, your
                                code has to be in python
                                """
                          prefix: false
                          role: assistant
                          tool_calls: null
                    created: 1759496862
                    id: 447e3e0d457e42e98248b5d2ef52a2a3
                    model: codestral-2508
                    object: chat.completion
                    usage:
                      completion_tokens: 91
                      prompt_tokens: 8
                      total_tokens: 99
              schema:
                $ref: "#/components/schemas/FIMCompletionResponse"
            text/event-stream:
              schema:
                $ref: "#/components/schemas/CompletionEvent"
          description: Successful Response
        "422":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
          description: Validation Error
      summary: Fim Completion
      tags:
        - fim
  /v1/fine_tuning/jobs:
    get:
      description: Get a list of fine-tuning jobs for your organization and user.
      operationId: jobs_api_routes_fine_tuning_get_fine_tuning_jobs
      parameters:
        - description: The page number of the results to be returned.
          in: query
          name: page
          required: false
          schema:
            default: 0
            title: Page
            type: integer
        - description: The number of items to return per page.
          in: query
          name: page_size
          required: false
          schema:
            default: 100
            title: Page Size
            type: integer
        - description: The model name used for fine-tuning to filter on. When set, the other results are not displayed.
          in: query
          name: model
          required: false
          schema:
            anyOf:
              - type: string
              - type: "null"
            title: Model
        - description: The date/time to filter on. When set, the results for previous creation times are not displayed.
          in: query
          name: created_after
          required: false
          schema:
            anyOf:
              - format: date-time
                type: string
              - type: "null"
            title: Created After
        - in: query
          name: created_before
          required: false
          schema:
            anyOf:
              - format: date-time
                type: string
              - type: "null"
            title: Created Before
        - description: When set, only return results for jobs created by the API caller. Other results are not displayed.
          in: query
          name: created_by_me
          required: false
          schema:
            default: false
            title: Created By Me
            type: boolean
        - description: The current job state to filter on. When set, the other results are not displayed.
          in: query
          name: status
          required: false
          schema:
            anyOf:
              - enum:
                  - QUEUED
                  - STARTED
                  - VALIDATING
                  - VALIDATED
                  - RUNNING
                  - FAILED_VALIDATION
                  - FAILED
                  - SUCCESS
                  - CANCELLED
                  - CANCELLATION_REQUESTED
                type: string
              - type: "null"
            title: Status
        - description: The Weights and Biases project to filter on. When set, the other results are not displayed.
          in: query
          name: wandb_project
          required: false
          schema:
            anyOf:
              - type: string
              - type: "null"
            title: Wandb Project
        - description: The Weight and Biases run name to filter on. When set, the other results are not displayed.
          in: query
          name: wandb_name
          required: false
          schema:
            anyOf:
              - type: string
              - type: "null"
            title: Wandb Name
        - description: The model suffix to filter on. When set, the other results are not displayed.
          in: query
          name: suffix
          required: false
          schema:
            anyOf:
              - type: string
              - type: "null"
            title: Suffix
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/JobsOut"
          description: OK
      summary: Get Fine Tuning Jobs
      tags:
        - fine-tuning
    post:
      description: Create a new fine-tuning job, it will be queued for processing.
      operationId: jobs_api_routes_fine_tuning_create_fine_tuning_job
      parameters:
        - description: |
            * If `true` the job is not spawned, instead the query returns a handful of useful metadata
              for the user to perform sanity checks (see `LegacyJobMetadataOut` response).
            * Otherwise, the job is started and the query returns the job ID along with some of the
              input parameters (see `JobOut` response).
          in: query
          name: dry_run
          required: false
          schema:
            anyOf:
              - type: boolean
              - type: "null"
            title: Dry Run
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/JobIn"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                anyOf:
                  - discriminator:
                      mapping:
                        classifier: "#/components/schemas/ClassifierJobOut"
                        completion: "#/components/schemas/CompletionJobOut"
                      propertyName: job_type
                    oneOf:
                      - $ref: "#/components/schemas/CompletionJobOut"
                      - $ref: "#/components/schemas/ClassifierJobOut"
                  - $ref: "#/components/schemas/LegacyJobMetadataOut"
                title: Response
          description: OK
      summary: Create Fine Tuning Job
      tags:
        - fine-tuning
  /v1/fine_tuning/jobs/{job_id}:
    get:
      description: Get a fine-tuned job details by its UUID.
      operationId: jobs_api_routes_fine_tuning_get_fine_tuning_job
      parameters:
        - description: The ID of the job to analyse.
          in: path
          name: job_id
          required: true
          schema:
            format: uuid
            title: Job Id
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                discriminator:
                  mapping:
                    classifier: "#/components/schemas/ClassifierDetailedJobOut"
                    completion: "#/components/schemas/CompletionDetailedJobOut"
                  propertyName: job_type
                oneOf:
                  - $ref: "#/components/schemas/CompletionDetailedJobOut"
                  - $ref: "#/components/schemas/ClassifierDetailedJobOut"
                title: Response
          description: OK
      summary: Get Fine Tuning Job
      tags:
        - fine-tuning
  /v1/fine_tuning/jobs/{job_id}/cancel:
    post:
      description: Request the cancellation of a fine tuning job.
      operationId: jobs_api_routes_fine_tuning_cancel_fine_tuning_job
      parameters:
        - description: The ID of the job to cancel.
          in: path
          name: job_id
          required: true
          schema:
            format: uuid
            title: Job Id
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                discriminator:
                  mapping:
                    classifier: "#/components/schemas/ClassifierDetailedJobOut"
                    completion: "#/components/schemas/CompletionDetailedJobOut"
                  propertyName: job_type
                oneOf:
                  - $ref: "#/components/schemas/CompletionDetailedJobOut"
                  - $ref: "#/components/schemas/ClassifierDetailedJobOut"
                title: Response
          description: OK
      summary: Cancel Fine Tuning Job
      tags:
        - fine-tuning
  /v1/fine_tuning/jobs/{job_id}/start:
    post:
      description: Request the start of a validated fine tuning job.
      operationId: jobs_api_routes_fine_tuning_start_fine_tuning_job
      parameters:
        - in: path
          name: job_id
          required: true
          schema:
            format: uuid
            title: Job Id
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                discriminator:
                  mapping:
                    classifier: "#/components/schemas/ClassifierDetailedJobOut"
                    completion: "#/components/schemas/CompletionDetailedJobOut"
                  propertyName: job_type
                oneOf:
                  - $ref: "#/components/schemas/CompletionDetailedJobOut"
                  - $ref: "#/components/schemas/ClassifierDetailedJobOut"
                title: Response
          description: OK
      summary: Start Fine Tuning Job
      tags:
        - fine-tuning
  /v1/fine_tuning/models/{model_id}:
    patch:
      description: Update a model name or description.
      operationId: jobs_api_routes_fine_tuning_update_fine_tuned_model
      parameters:
        - description: The ID of the model to update.
          example: ft:open-mistral-7b:587a6b29:20240514:7e773925
          in: path
          name: model_id
          required: true
          schema:
            title: Model Id
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UpdateFTModelIn"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                discriminator:
                  mapping:
                    classifier: "#/components/schemas/ClassifierFTModelOut"
                    completion: "#/components/schemas/CompletionFTModelOut"
                  propertyName: model_type
                oneOf:
                  - $ref: "#/components/schemas/CompletionFTModelOut"
                  - $ref: "#/components/schemas/ClassifierFTModelOut"
                title: Response
          description: OK
      summary: Update Fine Tuned Model
      tags:
        - models
  /v1/fine_tuning/models/{model_id}/archive:
    delete:
      description: Un-archive a fine-tuned model.
      operationId: jobs_api_routes_fine_tuning_unarchive_fine_tuned_model
      parameters:
        - description: The ID of the model to unarchive.
          example: ft:open-mistral-7b:587a6b29:20240514:7e773925
          in: path
          name: model_id
          required: true
          schema:
            title: Model Id
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UnarchiveFTModelOut"
          description: OK
      summary: Unarchive Fine Tuned Model
      tags:
        - models
    post:
      description: Archive a fine-tuned model.
      operationId: jobs_api_routes_fine_tuning_archive_fine_tuned_model
      parameters:
        - description: The ID of the model to archive.
          example: ft:open-mistral-7b:587a6b29:20240514:7e773925
          in: path
          name: model_id
          required: true
          schema:
            title: Model Id
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ArchiveFTModelOut"
          description: OK
      summary: Archive Fine Tuned Model
      tags:
        - models
  /v1/libraries:
    get:
      description: List all libraries that you have created or have been shared with you.
      operationId: libraries_list_v1
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ListLibraryOut"
          description: Successful Response
      summary: List all libraries you have access to.
      tags:
        - beta.libraries
    post:
      description: Create a new Library, you will be marked as the owner and only you will have the possibility to share it with others. When first created this will only be accessible by you.
      operationId: libraries_create_v1
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/LibraryIn"
        required: true
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/LibraryOut"
          description: Successful Response
        "422":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
          description: Validation Error
      summary: Create a new Library.
      tags:
        - beta.libraries
  /v1/libraries/{library_id}:
    delete:
      description: Given a library id, deletes it together with all documents that have been uploaded to that library.
      operationId: libraries_delete_v1
      parameters:
        - in: path
          name: library_id
          required: true
          schema:
            format: uuid
            title: Library Id
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/LibraryOut"
          description: Successful Response
        "422":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
          description: Validation Error
      summary: Delete a library and all of it's document.
      tags:
        - beta.libraries
    get:
      description: Given a library id, details information about that Library.
      operationId: libraries_get_v1
      parameters:
        - in: path
          name: library_id
          required: true
          schema:
            format: uuid
            title: Library Id
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/LibraryOut"
          description: Successful Response
        "422":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
          description: Validation Error
      summary: Detailed information about a specific Library.
      tags:
        - beta.libraries
    put:
      description: Given a library id, you can update the name and description.
      operationId: libraries_update_v1
      parameters:
        - in: path
          name: library_id
          required: true
          schema:
            format: uuid
            title: Library Id
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/LibraryInUpdate"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/LibraryOut"
          description: Successful Response
        "422":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
          description: Validation Error
      summary: Update a library.
      tags:
        - beta.libraries
  /v1/libraries/{library_id}/documents:
    get:
      description: Given a library, lists the document that have been uploaded to that library.
      operationId: libraries_documents_list_v1
      parameters:
        - in: path
          name: library_id
          required: true
          schema:
            format: uuid
            title: Library Id
            type: string
        - in: query
          name: search
          required: false
          schema:
            anyOf:
              - type: string
              - type: "null"
            title: Search
        - in: query
          name: page_size
          required: false
          schema:
            default: 100
            maximum: 100
            minimum: 1
            title: Page Size
            type: integer
        - in: query
          name: page
          required: false
          schema:
            default: 0
            minimum: 0
            title: Page
            type: integer
        - in: query
          name: filters_attributes
          required: false
          schema:
            anyOf:
              - type: string
              - type: "null"
            title: Filters Attributes
        - in: query
          name: sort_by
          required: false
          schema:
            default: created_at
            title: Sort By
            type: string
        - in: query
          name: sort_order
          required: false
          schema:
            default: desc
            title: Sort Order
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ListDocumentOut"
          description: Successful Response
        "422":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
          description: Validation Error
      summary: List documents in a given library.
      tags:
        - beta.libraries.documents
    post:
      description: Given a library, upload a new document to that library. It is queued for processing, it status will change it has been processed. The processing has to be completed in order be discoverable for the library search
      operationId: libraries_documents_upload_v1
      parameters:
        - in: path
          name: library_id
          required: true
          schema:
            format: uuid
            title: Library Id
            type: string
      requestBody:
        content:
          multipart/form-data:
            schema:
              properties:
                file:
                  $ref: "#/components/schemas/File"
              required:
                - file
              title: DocumentUpload
              type: object
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/DocumentOut"
          description: A document with the same hash was found in this library. Returns the existing document.
        "201":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/DocumentOut"
          description: Upload successful, returns the created document information's.
        "422":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
          description: Validation Error
      summary: Upload a new document.
      tags:
        - beta.libraries.documents
  /v1/libraries/{library_id}/documents/{document_id}:
    delete:
      description: Given a library and a document in that library, delete that document. The document will be deleted from the library and the search index.
      operationId: libraries_documents_delete_v1
      parameters:
        - in: path
          name: library_id
          required: true
          schema:
            format: uuid
            title: Library Id
            type: string
        - in: path
          name: document_id
          required: true
          schema:
            format: uuid
            title: Document Id
            type: string
      responses:
        "204":
          description: Successful Response
        "422":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
          description: Validation Error
      summary: Delete a document.
      tags:
        - beta.libraries.documents
    get:
      description: Given a library and a document in this library, you can retrieve the metadata of that document.
      operationId: libraries_documents_get_v1
      parameters:
        - in: path
          name: library_id
          required: true
          schema:
            format: uuid
            title: Library Id
            type: string
        - in: path
          name: document_id
          required: true
          schema:
            format: uuid
            title: Document Id
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/DocumentOut"
          description: Successful Response
        "422":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
          description: Validation Error
      summary: Retrieve the metadata of a specific document.
      tags:
        - beta.libraries.documents
    put:
      description: Given a library and a document in that library, update the name of that document.
      operationId: libraries_documents_update_v1
      parameters:
        - in: path
          name: library_id
          required: true
          schema:
            format: uuid
            title: Library Id
            type: string
        - in: path
          name: document_id
          required: true
          schema:
            format: uuid
            title: Document Id
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/DocumentUpdateIn"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/DocumentOut"
          description: Successful Response
        "422":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
          description: Validation Error
      summary: Update the metadata of a specific document.
      tags:
        - beta.libraries.documents
  /v1/libraries/{library_id}/documents/{document_id}/extracted-text-signed-url:
    get:
      description: Given a library and a document in that library, retrieve the signed URL of text extracted. For documents that are sent to the OCR this returns the result of the OCR queries.
      operationId: libraries_documents_get_extracted_text_signed_url_v1
      parameters:
        - in: path
          name: library_id
          required: true
          schema:
            format: uuid
            title: Library Id
            type: string
        - in: path
          name: document_id
          required: true
          schema:
            format: uuid
            title: Document Id
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                title: Response Libraries Documents Get Extracted Text Signed Url V1
                type: string
          description: Successful Response
        "422":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
          description: Validation Error
      summary: Retrieve the signed URL of text extracted from a given document.
      tags:
        - beta.libraries.documents
  /v1/libraries/{library_id}/documents/{document_id}/reprocess:
    post:
      description: Given a library and a document in that library, reprocess that document, it will be billed again.
      operationId: libraries_documents_reprocess_v1
      parameters:
        - in: path
          name: library_id
          required: true
          schema:
            format: uuid
            title: Library Id
            type: string
        - in: path
          name: document_id
          required: true
          schema:
            format: uuid
            title: Document Id
            type: string
      responses:
        "204":
          description: Successful Response
        "422":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
          description: Validation Error
      summary: Reprocess a document.
      tags:
        - beta.libraries.documents
  /v1/libraries/{library_id}/documents/{document_id}/signed-url:
    get:
      description: Given a library and a document in that library, retrieve the signed URL of a specific document.The url will expire after 30 minutes and can be accessed by anyone with the link.
      operationId: libraries_documents_get_signed_url_v1
      parameters:
        - in: path
          name: library_id
          required: true
          schema:
            format: uuid
            title: Library Id
            type: string
        - in: path
          name: document_id
          required: true
          schema:
            format: uuid
            title: Document Id
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                title: Response Libraries Documents Get Signed Url V1
                type: string
          description: Successful Response
        "422":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
          description: Validation Error
      summary: Retrieve the signed URL of a specific document.
      tags:
        - beta.libraries.documents
  /v1/libraries/{library_id}/documents/{document_id}/status:
    get:
      description: Given a library and a document in that library, retrieve the processing status of that document.
      operationId: libraries_documents_get_status_v1
      parameters:
        - in: path
          name: library_id
          required: true
          schema:
            format: uuid
            title: Library Id
            type: string
        - in: path
          name: document_id
          required: true
          schema:
            format: uuid
            title: Document Id
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ProcessingStatusOut"
          description: Successful Response
        "422":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
          description: Validation Error
      summary: Retrieve the processing status of a specific document.
      tags:
        - beta.libraries.documents
  /v1/libraries/{library_id}/documents/{document_id}/text_content:
    get:
      description: Given a library and a document in that library, you can retrieve the text content of that document if it exists. For documents like pdf, docx and pptx the text content results from our processing using Mistral OCR.
      operationId: libraries_documents_get_text_content_v1
      parameters:
        - in: path
          name: library_id
          required: true
          schema:
            format: uuid
            title: Library Id
            type: string
        - in: path
          name: document_id
          required: true
          schema:
            format: uuid
            title: Document Id
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/DocumentTextContent"
          description: Successful Response
        "422":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
          description: Validation Error
      summary: Retrieve the text content of a specific document.
      tags:
        - beta.libraries.documents
  /v1/libraries/{library_id}/share:
    delete:
      description: Given a library id, you can delete the access level of an entity. An owner cannot delete it's own access. You have to be the owner of the library to delete an acces other than yours.
      operationId: libraries_share_delete_v1
      parameters:
        - in: path
          name: library_id
          required: true
          schema:
            format: uuid
            title: Library Id
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SharingDelete"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SharingOut"
          description: Successful Response
        "422":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
          description: Validation Error
      summary: Delete an access level.
      tags:
        - beta.libraries.accesses
    get:
      description: Given a library, list all of the Entity that have access and to what level.
      operationId: libraries_share_list_v1
      parameters:
        - in: path
          name: library_id
          required: true
          schema:
            format: uuid
            title: Library Id
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ListSharingOut"
          description: Successful Response
        "422":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
          description: Validation Error
      summary: List all of the access to this library.
      tags:
        - beta.libraries.accesses
    put:
      description: Given a library id, you can create or update the access level of an entity. You have to be owner of the library to share a library. An owner cannot change their own role. A library cannot be shared outside of the organization.
      operationId: libraries_share_create_v1
      parameters:
        - in: path
          name: library_id
          required: true
          schema:
            format: uuid
            title: Library Id
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SharingIn"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SharingOut"
          description: Successful Response
        "422":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
          description: Validation Error
      summary: Create or update an access level.
      tags:
        - beta.libraries.accesses
  /v1/models:
    get:
      description: List all models available to the user.
      operationId: list_models_v1_models_get
      responses:
        "200":
          content:
            application/json:
              examples:
                userExample:
                  value:
                    - TYPE: fine-tuned
                      aliases: []
                      archived: false
                      capabilities:
                        classification: false
                        completion_chat: true
                        completion_fim: false
                        fine_tuning: false
                        function_calling: false
                        vision: false
                      created: 1756746619
                      default_model_temperature: null
                      deprecation: null
                      deprecation_replacement_model: null
                      description: null
                      id: <model_id>
                      job: <job_id>
                      max_context_length: 32768
                      name: null
                      object: model
                      owned_by: <owner_id>
                      root: open-mistral-7b
              schema:
                $ref: "#/components/schemas/ModelList"
          description: Successful Response
      summary: List Models
      tags:
        - models
  /v1/models/{model_id}:
    delete:
      description: Delete a fine-tuned model.
      operationId: delete_model_v1_models__model_id__delete
      parameters:
        - description: The ID of the model to delete.
          example: ft:open-mistral-7b:587a6b29:20240514:7e773925
          in: path
          name: model_id
          required: true
          schema:
            title: Model Id
            type: string
      responses:
        "200":
          content:
            application/json:
              examples:
                userExample:
                  value:
                    deleted: true
                    id: ft:open-mistral-7b:587a6b29:20240514:7e773925
                    object: model
              schema:
                $ref: "#/components/schemas/DeleteModelOut"
          description: Successful Response
        "422":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
          description: Validation Error
      summary: Delete Model
      tags:
        - models
    get:
      description: Retrieve information about a model.
      operationId: retrieve_model_v1_models__model_id__get
      parameters:
        - description: The ID of the model to retrieve.
          example: ft:open-mistral-7b:587a6b29:20240514:7e773925
          in: path
          name: model_id
          required: true
          schema:
            title: Model Id
            type: string
      responses:
        "200":
          content:
            application/json:
              examples:
                userExample:
                  value:
                    TYPE: fine-tuned
                    aliases: []
                    archived: false
                    capabilities:
                      classification: false
                      completion_chat: true
                      completion_fim: false
                      fine_tuning: false
                      function_calling: false
                      vision: false
                    created: 1756746619
                    default_model_temperature: null
                    deprecation: null
                    deprecation_replacement_model: null
                    description: null
                    id: <your_model_id>
                    job: <job_id>
                    max_context_length: 32768
                    name: null
                    object: model
                    owned_by: <owner_id>
                    root: open-mistral-7b
              schema:
                discriminator:
                  mapping:
                    base: "#/components/schemas/BaseModelCard"
                    fine-tuned: "#/components/schemas/FTModelCard"
                  propertyName: type
                oneOf:
                  - $ref: "#/components/schemas/BaseModelCard"
                  - $ref: "#/components/schemas/FTModelCard"
                title: Response Retrieve Model V1 Models  Model Id  Get
          description: Successful Response
        "422":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
          description: Validation Error
      summary: Retrieve Model
      tags:
        - models
  /v1/moderations:
    post:
      operationId: moderations_v1_moderations_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ClassificationRequest"
        required: true
      responses:
        "200":
          content:
            application/json:
              examples:
                userExample:
                  value:
                    id: 4d71ae510af942108ef7344f903e2b88
                    model: mistral-moderation-latest
                    results:
                      - categories:
                          dangerous_and_criminal_content: false
                          financial: false
                          hate_and_discrimination: false
                          health: false
                          law: false
                          pii: false
                          selfharm: false
                          sexual: false
                          violence_and_threats: false
                        category_scores:
                          dangerous_and_criminal_content: 0.002251847181469202
                          financial: 8.481103577651083e-05
                          hate_and_discrimination: 0.0030753696337342262
                          health: 0.0002780309587251395
                          law: 4.539786823443137e-05
                          pii: 0.0023967307060956955
                          selfharm: 0.00017952796770259738
                          sexual: 0.0011335690505802631
                          violence_and_threats: 0.0003569706459529698
                      - categories:
                          dangerous_and_criminal_content: false
                          financial: false
                          hate_and_discrimination: false
                          health: false
                          law: false
                          pii: false
                          selfharm: false
                          sexual: false
                          violence_and_threats: false
                        category_scores:
                          dangerous_and_criminal_content: 0.0030753696337342262
                          financial: 0.000191104321856983
                          hate_and_discrimination: 0.0013670255430042744
                          health: 0.00015843621804378927
                          law: 4.006369272246957e-05
                          pii: 0.0035936026833951473
                          selfharm: 0.00010889690747717395
                          sexual: 0.000626334105618298
                          violence_and_threats: 0.0002611903182696551
              schema:
                $ref: "#/components/schemas/ModerationResponse"
          description: Successful Response
        "422":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
          description: Validation Error
      summary: Moderations
      tags:
        - classifiers
  /v1/ocr:
    post:
      operationId: ocr_v1_ocr_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/OCRRequest"
        required: true
      responses:
        "200":
          content:
            application/json:
              examples:
                userExample:
                  value:
                    model: mistral-ocr-2503-completion
                    pages:
                      - dimensions:
                          dpi: 200
                          height: 2200
                          width: 1700
                        images: []
                        index: 1
                        markdown: |
                          # LEVERAGING UNLABELED DATA TO PREDICT OUT-OF-DISTRIBUTION PERFORMANCE
                          Saurabh Garg*<br> Carnegie Mellon University<br> sgarg2@andrew.cmu.edu<br> Sivaraman Balakrishnan<br> Carnegie Mellon University<br> sbalakri@andrew.cmu.edu<br> Zachary C. Lipton<br> Carnegie Mellon University<br> zlipton@andrew.cmu.edu
                          ## Behnam Neyshabur
                          Google Research, Blueshift team<br> neyshabur@google.com
                          Hanie Sedghi<br> Google Research, Brain team<br> hsedghi@google.com
                          #### Abstract
                          Real-world machine learning deployments are characterized by mismatches between the source (training) and target (test) distributions that may cause performance drops. In this work, we investigate methods for predicting the target domain accuracy using only labeled source data and unlabeled target data. We propose Average Thresholded Confidence (ATC), a practical method that learns a threshold on the model's confidence, predicting accuracy as the fraction of unlabeled examples for which model confidence exceeds that threshold. ATC outperforms previous methods across several model architectures, types of distribution shifts (e.g., due to synthetic corruptions, dataset reproduction, or novel subpopulations), and datasets (WILDS, ImageNet, BREEDS, CIFAR, and MNIST). In our experiments, ATC estimates target performance $2-4 \times$ more accurately than prior methods. We also explore the theoretical foundations of the problem, proving that, in general, identifying the accuracy is just as hard as identifying the optimal predictor and thus, the efficacy of any method rests upon (perhaps unstated) assumptions on the nature of the shift. Finally, analyzing our method on some toy distributions, we provide insights concerning when it works ${ }^{1}$.
                          ## 1 INTRODUCTION
                          Machine learning models deployed in the real world typically encounter examples from previously unseen distributions. While the IID assumption enables us to evaluate models using held-out data from the source distribution (from which training data is sampled), this estimate is no longer valid in presence of a distribution shift. Moreover, under such shifts, model accuracy tends to degrade (Szegedy et al., 2014; Recht et al., 2019; Koh et al., 2021). Commonly, the only data available to the practitioner are a labeled training set (source) and unlabeled deployment-time data which makes the problem more difficult. In this setting, detecting shifts in the distribution of covariates is known to be possible (but difficult) in theory (Ramdas et al., 2015), and in practice (Rabanser et al., 2018). However, producing an optimal predictor using only labeled source and unlabeled target data is well-known to be impossible absent further assumptions (Ben-David et al., 2010; Lipton et al., 2018).
                          Two vital questions that remain are: (i) the precise conditions under which we can estimate a classifier's target-domain accuracy; and (ii) which methods are most practically useful. To begin, the straightforward way to assess the performance of a model under distribution shift would be to collect labeled (target domain) examples and then to evaluate the model on that data. However, collecting fresh labeled data from the target distribution is prohibitively expensive and time-consuming, especially if the target distribution is non-stationary. Hence, instead of using labeled data, we aim to use unlabeled data from the target distribution, that is comparatively abundant, to predict model performance. Note that in this work, our focus is not to improve performance on the target but, rather, to estimate the accuracy on the target for a given classifier.
                          [^0]: Work done in part while Saurabh Garg was interning at Google ${ }^{1}$ Code is available at [https://github.com/saurabhgarg1996/ATC_code](https://github.com/saurabhgarg1996/ATC_code).
                      - dimensions:
                          dpi: 200
                          height: 2200
                          width: 1700
                        images:
                          - bottom_right_x: 1405
                            bottom_right_y: 649
                            id: img-0.jpeg
                            image_base64: "..."
                            top_left_x: 292
                            top_left_y: 217
                        index: 2
                        markdown: |
                          ![img-0.jpeg](img-0.jpeg)
                          Figure 1: Illustration of our proposed method ATC. Left: using source domain validation data, we identify a threshold on a score (e.g. negative entropy) computed on model confidence such that fraction of examples above the threshold matches the validation set accuracy. ATC estimates accuracy on unlabeled target data as the fraction of examples with the score above the threshold. Interestingly, this threshold yields accurate estimates on a wide set of target distributions resulting from natural and synthetic shifts. Right: Efficacy of ATC over previously proposed approaches on our testbed with a post-hoc calibrated model. To obtain errors on the same scale, we rescale all errors with Average Confidence (AC) error. Lower estimation error is better. See Table 1 for exact numbers and comparison on various types of distribution shift. See Sec. 5 for details on our testbed.
                          Recently, numerous methods have been proposed for this purpose (Deng & Zheng, 2021; Chen et al., 2021b; Jiang et al., 2021; Deng et al., 2021; Guillory et al., 2021). These methods either require calibration on the target domain to yield consistent estimates (Jiang et al., 2021; Guillory et al., 2021) or additional labeled data from several target domains to learn a linear regression function on a distributional distance that then predicts model performance (Deng et al., 2021; Deng & Zheng, 2021; Guillory et al., 2021). However, methods that require calibration on the target domain typically yield poor estimates since deep models trained and calibrated on source data are not, in general, calibrated on a (previously unseen) target domain (Ovadia et al., 2019). Besides, methods that leverage labeled data from target domains rely on the fact that unseen target domains exhibit strong linear correlation with seen target domains on the underlying distance measure and, hence, can be rendered ineffective when such target domains with labeled data are unavailable (in Sec. 5.1 we demonstrate such a failure on a real-world distribution shift problem). Therefore, throughout the paper, we assume access to labeled source data and only unlabeled data from target domain(s).
                          In this work, we first show that absent assumptions on the source classifier or the nature of the shift, no method of estimating accuracy will work generally (even in non-contrived settings). To estimate accuracy on target domain perfectly, we highlight that even given perfect knowledge of the labeled source distribution (i.e., $p_{s}(x, y)$ ) and unlabeled target distribution (i.e., $p_{t}(x)$ ), we need restrictions on the nature of the shift such that we can uniquely identify the target conditional $p_{t}(y \mid x)$. Thus, in general, identifying the accuracy of the classifier is as hard as identifying the optimal predictor.
                          Second, motivated by the superiority of methods that use maximum softmax probability (or logit) of a model for Out-Of-Distribution (OOD) detection (Hendrycks & Gimpel, 2016; Hendrycks et al., 2019), we propose a simple method that leverages softmax probability to predict model performance. Our method, Average Thresholded Confidence (ATC), learns a threshold on a score (e.g., maximum confidence or negative entropy) of model confidence on validation source data and predicts target domain accuracy as the fraction of unlabeled target points that receive a score above that threshold. ATC selects a threshold on validation source data such that the fraction of source examples that receive the score above the threshold match the accuracy of those examples. Our primary contribution in ATC is the proposal of obtaining the threshold and observing its efficacy on (practical) accuracy estimation. Importantly, our work takes a step forward in positively answering the question raised in Deng & Zheng (2021); Deng et al. (2021) about a practical strategy to select a threshold that enables accuracy prediction with thresholded model confidence.
                      - dimensions: {}
                        images: []
                        index: 3
                        markdown: "..."
                      - dimensions:
                          dpi: 200
                          height: 2200
                          width: 1700
                        images:
                          - bottom_right_x: 1405
                            bottom_right_y: 1834
                            id: img-8.jpeg
                            image_base64: "..."
                            top_left_x: 290
                            top_left_y: 226
                        index: 27
                        markdown: |
                          ![img-8.jpeg](img-8.jpeg)
                          Figure 9: Scatter plot of predicted accuracy versus (true) OOD accuracy for vision datasets except MNIST with a ResNet50 model. Results reported by aggregating MAE numbers over 4 different seeds.
                      - dimensions:
                          dpi: 200
                          height: 2200
                          width: 1700
                        images: []
                        index: 28
                        markdown: |
                          | Dataset | Shift | IM |  | AC |  | DOC |  | GDE | ATC-MC (Ours) |  | ATC-NE (Ours) |  | | :--: | :--: | :--: | :--: | :--: | :--: | :--: | :--: | :--: | :--: | :--: | :--: | :--: | |  |  | Pre T | Post T | Pre T | Post T | Pre T | Post T | Post T | Pre T | Post T | Pre T | Post T | | CIFAR10 | Natural | 6.60 | 5.74 | 9.88 | 6.89 | 7.25 | 6.07 | 4.77 | 3.21 | 3.02 | 2.99 | 2.85 | |  |  | (0.35) | (0.30) | (0.16) | (0.13) | (0.15) | (0.16) | (0.13) | (0.49) | (0.40) | (0.37) | (0.29) | |  | Synthetic | 12.33 | 10.20 | 16.50 | 11.91 | 13.87 | 11.08 | 6.55 | 4.65 | 4.25 | 4.21 | 3.87 | |  |  | (0.51) | (0.48) | (0.26) | (0.17) | (0.18) | (0.17) | (0.35) | (0.55) | (0.55) | (0.55) | (0.75) | | CIFAR100 | Synthetic | 13.69 | 11.51 | 23.61 | 13.10 | 14.60 | 10.14 | 9.85 | 5.50 | 4.75 | 4.72 | 4.94 | |  |  | (0.55) | (0.41) | (1.16) | (0.80) | (0.77) | (0.64) | (0.57) | (0.70) | (0.73) | (0.74) | (0.74) | | ImageNet200 | Natural | 12.37 | 8.19 | 22.07 | 8.61 | 15.17 | 7.81 | 5.13 | 4.37 | 2.04 | 3.79 | 1.45 | |  |  | (0.25) | (0.33) | (0.08) | (0.25) | (0.11) | (0.29) | (0.08) | (0.39) | (0.24) | (0.30) | (0.27) | |  | Synthetic | 19.86 | 12.94 | 32.44 | 13.35 | 25.02 | 12.38 | 5.41 | 5.93 | 3.09 | 5.00 | 2.68 | |  |  | (1.38) | (1.81) | (1.00) | (1.30) | (1.10) | (1.38) | (0.89) | (1.38) | (0.87) | (1.28) | (0.45) | | ImageNet | Natural | 7.77 | 6.50 | 18.13 | 6.02 | 8.13 | 5.76 | 6.23 | 3.88 | 2.17 | 2.06 | 0.80 | |  |  | (0.27) | (0.33) | (0.23) | (0.34) | (0.27) | (0.37) | (0.41) | (0.53) | (0.62) | (0.54) | (0.44) | |  | Synthetic | 13.39 | 10.12 | 24.62 | 8.51 | 13.55 | 7.90 | 6.32 | 3.34 | 2.53 | 2.61 | 4.89 | |  |  | (0.53) | (0.63) | (0.64) | (0.71) | (0.61) | (0.72) | (0.33) | (0.53) | (0.36) | (0.33) | (0.83) | | FMoW-WILDS | Natural | 5.53 | 4.31 | 33.53 | 12.84 | 5.94 | 4.45 | 5.74 | 3.06 | 2.70 | 3.02 | 2.72 | |  |  | (0.33) | (0.63) | (0.13) | (12.06) | (0.36) | (0.77) | (0.55) | (0.36) | (0.54) | (0.35) | (0.44) | | RxRx1-WILDS | Natural | 5.80 | 5.72 | 7.90 | 4.84 | 5.98 | 5.98 | 6.03 | 4.66 | 4.56 | 4.41 | 4.47 | |  |  | (0.17) | (0.15) | (0.24) | (0.09) | (0.15) | (0.13) | (0.08) | (0.38) | (0.38) | (0.31) | (0.26) | | Amazon-WILDS | Natural | 2.40 | 2.29 | 8.01 | 2.38 | 2.40 | 2.28 | 17.87 | 1.65 | 1.62 | 1.60 | 1.59 | |  |  | (0.08) | (0.09) | (0.53) | (0.17) | (0.09) | (0.09) | (0.18) | (0.06) | (0.05) | (0.14) | (0.15) | | CivilCom.-WILDS | Natural | 12.64 | 10.80 | 16.76 | 11.03 | 13.31 | 10.99 | 16.65 |  | 7.14 |  |  | |  |  | (0.52) | (0.48) | (0.53) | (0.49) | (0.52) | (0.49) | (0.25) |  | (0.41) |  |  | | MNIST | Natural | 18.48 | 15.99 | 21.17 | 14.81 | 20.19 | 14.56 | 24.42 | 5.02 | 2.40 | 3.14 | 3.50 | |  |  | (0.45) | (1.53) | (0.24) | (3.89) | (0.23) | (3.47) | (0.41) | (0.44) | (1.83) | (0.49) | (0.17) | | ENTITY-13 | Same | 16.23 | 11.14 | 24.97 | 10.88 | 19.08 | 10.47 | 10.71 | 5.39 | 3.88 | 4.58 | 4.19 | |  |  | (0.77) | (0.65) | (0.70) | (0.77) | (0.65) | (0.72) | (0.74) | (0.92) | (0.61) | (0.85) | (0.16) | |  | Novel | 28.53 | 22.02 | 38.33 | 21.64 | 32.43 | 21.22 | 20.61 | 13.58 | 10.28 | 12.25 | 6.63 | |  |  | (0.82) | (0.68) | (0.75) | (0.86) | (0.69) | (0.80) | (0.60) | (1.15) | (1.34) | (1.21) | (0.93) | | ENTITY-30 | Same | 18.59 | 14.46 | 28.82 | 14.30 | 21.63 | 13.46 | 12.92 | 9.12 | 7.75 | 8.15 | 7.64 | |  |  | (0.51) | (0.52) | (0.43) | (0.71) | (0.37) | (0.59) | (0.14) | (0.62) | (0.72) | (0.68) | (0.88) | |  | Novel | 32.34 | 26.85 | 44.02 | 26.27 | 36.82 | 25.42 | 23.16 | 17.75 | 14.30 | 15.60 | 10.57 | |  |  | (0.60) | (0.58) | (0.56) | (0.79) | (0.47) | (0.68) | (0.12) | (0.76) | (0.85) | (0.86) | (0.86) | | NONLIVING-26 | Same | 18.66 | 17.17 | 26.39 | 16.14 | 19.86 | 15.58 | 16.63 | 10.87 | 10.24 | 10.07 | 10.26 | |  |  | (0.76) | (0.74) | (0.82) | (0.81) | (0.67) | (0.76) | (0.45) | (0.98) | (0.83) | (0.92) | (1.18) | |  | Novel | 33.43 | 31.53 | 41.66 | 29.87 | 35.13 | 29.31 | 29.56 | 21.70 | 20.12 | 19.08 | 18.26 | |  |  | (0.67) | (0.65) | (0.67) | (0.71) | (0.54) | (0.64) | (0.21) | (0.86) | (0.75) | (0.82) | (1.12) | | LIVING-17 | Same | 12.63 | 11.05 | 18.32 | 10.46 | 14.43 | 10.14 | 9.87 | 4.57 | 3.95 | 3.81 | 4.21 | |  |  | (1.25) | (1.20) | (1.01) | (1.12) | (1.11) | (1.16) | (0.61) | (0.71) | (0.48) | (0.22) | (0.53) | |  | Novel | 29.03 | 26.96 | 35.67 | 26.11 | 31.73 | 25.73 | 23.53 | 16.15 | 14.49 | 12.97 | 11.39 | |  |  | (1.44) | (1.38) | (1.09) | (1.27) | (1.19) | (1.35) | (0.52) | (1.36) | (1.46) | (1.52) | (1.72) |
                          Table 3: Mean Absolute estimation Error (MAE) results for different datasets in our setup grouped by the nature of shift. 'Same' refers to same subpopulation shifts and 'Novel' refers novel subpopulation shifts. We include details about the target sets considered in each shift in Table 2. Post T denotes use of TS calibration on source. For language datasets, we use DistilBERT-base-uncased, for vision dataset we report results with DenseNet model with the exception of MNIST where we use FCN. Across all datasets, we observe that ATC achieves superior performance (lower MAE is better). For GDE post T and pre T estimates match since TS doesn't alter the argmax prediction. Results reported by aggregating MAE numbers over 4 different seeds. Values in parenthesis (i.e., $(\cdot)$ ) denote standard deviation values.
                      - dimensions:
                          dpi: 200
                          height: 2200
                          width: 1700
                        images: []
                        index: 29
                        markdown: |
                          | Dataset | Shift | IM |  | AC |  | DOC |  | GDE | ATC-MC (Ours) |  | ATC-NE (Ours) |  | | :--: | :--: | :--: | :--: | :--: | :--: | :--: | :--: | :--: | :--: | :--: | :--: | :--: | |  |  | Pre T | Post T | Pre T | Post T | Pre T | Post T | Post T | Pre T | Post T | Pre T | Post T | | CIFAR10 | Natural | 7.14 | 6.20 | 10.25 | 7.06 | 7.68 | 6.35 | 5.74 | 4.02 | 3.85 | 3.76 | 3.38 | |  |  | (0.14) | (0.11) | (0.31) | (0.33) | (0.28) | (0.27) | (0.25) | (0.38) | (0.30) | (0.33) | (0.32) | |  | Synthetic | 12.62 | 10.75 | 16.50 | 11.91 | 13.93 | 11.20 | 7.97 | 5.66 | 5.03 | 4.87 | 3.63 | |  |  | (0.76) | (0.71) | (0.28) | (0.24) | (0.29) | (0.28) | (0.13) | (0.64) | (0.71) | (0.71) | (0.62) | | CIFAR100 | Synthetic | 12.77 | 12.34 | 16.89 | 12.73 | 11.18 | 9.63 | 12.00 | 5.61 | 5.55 | 5.65 | 5.76 | |  |  | (0.43) | (0.68) | (0.20) | (2.59) | (0.35) | (1.25) | (0.48) | (0.51) | (0.55) | (0.35) | (0.27) | | ImageNet200 | Natural | 12.63 | 7.99 | 23.08 | 7.22 | 15.40 | 6.33 | 5.00 | 4.60 | 1.80 | 4.06 | 1.38 | |  |  | (0.59) | (0.47) | (0.31) | (0.22) | (0.42) | (0.24) | (0.36) | (0.63) | (0.17) | (0.69) | (0.29) | |  | Synthetic | 20.17 | 11.74 | 33.69 | 9.51 | 25.49 | 8.61 | 4.19 | 5.37 | 2.78 | 4.53 | 3.58 | |  |  | (0.74) | (0.80) | (0.73) | (0.51) | (0.66) | (0.50) | (0.14) | (0.88) | (0.23) | (0.79) | (0.33) | | ImageNet | Natural | 8.09 | 6.42 | 21.66 | 5.91 | 8.53 | 5.21 | 5.90 | 3.93 | 1.89 | 2.45 | 0.73 | |  |  | (0.25) | (0.28) | (0.38) | (0.22) | (0.26) | (0.25) | (0.44) | (0.26) | (0.21) | (0.16) | (0.10) | |  | Synthetic | 13.93 | 9.90 | 28.05 | 7.56 | 13.82 | 6.19 | 6.70 | 3.33 | 2.55 | 2.12 | 5.06 | |  |  | (0.14) | (0.23) | (0.39) | (0.13) | (0.31) | (0.07) | (0.52) | (0.25) | (0.25) | (0.31) | (0.27) | | FMoW-WILDS | Natural | 5.15 | 3.55 | 34.64 | 5.03 | 5.58 | 3.46 | 5.08 | 2.59 | 2.33 | 2.52 | 2.22 | |  |  | (0.19) | (0.41) | (0.22) | (0.29) | (0.17) | (0.37) | (0.46) | (0.32) | (0.28) | (0.25) | (0.30) | | RxRx1-WILDS | Natural | 6.17 | 6.11 | 21.05 | 5.21 | 6.54 | 6.27 | 6.82 | 5.30 | 5.20 | 5.19 | 5.63 | |  |  | (0.20) | (0.24) | (0.31) | (0.18) | (0.21) | (0.20) | (0.31) | (0.30) | (0.44) | (0.43) | (0.55) | | Entity-13 | Same | 18.32 | 14.38 | 27.79 | 13.56 | 20.50 | 13.22 | 16.09 | 9.35 | 7.50 | 7.80 | 6.94 | |  |  | (0.29) | (0.53) | (1.18) | (0.58) | (0.47) | (0.58) | (0.84) | (0.79) | (0.65) | (0.62) | (0.71) | |  | Novel | 28.82 | 24.03 | 38.97 | 22.96 | 31.66 | 22.61 | 25.26 | 17.11 | 13.96 | 14.75 | 9.94 | |  |  | (0.30) | (0.55) | (1.32) | (0.59) | (0.54) | (0.58) | (1.08) | (0.93) | (0.64) | (0.78) |  | | Entity-30 | Same | 16.91 | 14.61 | 26.84 | 14.37 | 18.60 | 13.11 | 13.74 | 8.54 | 7.94 | 7.77 | 8.04 | |  |  | (1.33) | (1.11) | (2.15) | (1.34) | (1.69) | (1.30) | (1.07) | (1.47) | (1.38) | (1.44) | (1.51) | |  | Novel | 28.66 | 25.83 | 39.21 | 25.03 | 30.95 | 23.73 | 23.15 | 15.57 | 13.24 | 12.44 | 11.05 | |  |  | (1.16) | (0.88) | (2.03) | (1.11) | (1.64) | (1.11) | (0.51) | (1.44) | (1.15) | (1.26) | (1.13) | | NonLIVING-26 | Same | 17.43 | 15.95 | 27.70 | 15.40 | 18.06 | 14.58 | 16.99 | 10.79 | 10.13 | 10.05 | 10.29 | |  |  | (0.90) | (0.86) | (0.90) | (0.69) | (1.00) | (0.78) | (1.25) | (0.62) | (0.32) | (0.46) | (0.79) | |  | Novel | 29.51 | 27.75 | 40.02 | 26.77 | 30.36 | 25.93 | 27.70 | 19.64 | 17.75 | 16.90 | 15.69 | |  |  | (0.86) | (0.82) | (0.76) | (0.82) | (0.95) | (0.80) | (1.42) | (0.68) | (0.53) | (0.60) | (0.83) | | LIVING-17 | Same | 14.28 | 12.21 | 23.46 | 11.16 | 15.22 | 10.78 | 10.49 | 4.92 | 4.23 | 4.19 | 4.73 | |  |  | (0.96) | (0.93) | (1.16) | (0.90) | (0.96) | (0.99) | (0.97) | (0.57) | (0.42) | (0.35) | (0.24) | |  | Novel | 28.91 | 26.35 | 38.62 | 24.91 | 30.32 | 24.52 | 22.49 | 15.42 | 13.02 | 12.29 | 10.34 | |  |  | (0.66) | (0.73) | (1.01) | (0.61) | (0.59) | (0.74) | (0.85) | (0.59) | (0.53) | (0.73) | (0.62) |
                          Table 4: Mean Absolute estimation Error (MAE) results for different datasets in our setup grouped by the nature of shift for ResNet model. 'Same' refers to same subpopulation shifts and 'Novel' refers novel subpopulation shifts. We include details about the target sets considered in each shift in Table 2. Post T denotes use of TS calibration on source. Across all datasets, we observe that ATC achieves superior performance (lower MAE is better). For GDE post T and pre T estimates match since TS doesn't alter the argmax prediction. Results reported by aggregating MAE numbers over 4 different seeds. Values in parenthesis (i.e., $(\cdot)$ ) denote standard deviation values.
                    usage_info:
                      doc_size_bytes: null
                      pages_processed: 29
              schema:
                $ref: "#/components/schemas/OCRResponse"
          description: Successful Response
        "422":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
          description: Validation Error
      summary: OCR
      tags:
        - ocr
security:
  - ApiKey: []
servers:
  - description: Production server
    url: https://api.mistral.ai
tags:
  - description: Chat Completion API.
    name: chat
    x-displayName: Chat
  - description: Fill-in-the-middle API.
    name: fim
    x-displayName: FIM
  - description: Agents API.
    name: agents
    x-displayName: Agents
  - description: Embeddings API.
    name: embeddings
    x-displayName: Embeddings
  - description: Classifiers API.
    name: classifiers
    x-displayName: Classifiers
  - description: Files API
    name: files
    x-displayName: Files
  - description: Fine-tuning API
    name: fine-tuning
    x-displayName: Fine Tuning
  - description: Model Management API
    name: models
    x-displayName: Models
  - description: Batch API
    name: batch
    x-displayName: Batch
  - description: OCR API
    name: ocr
    x-displayName: OCR API
  - description: API for audio transcription.
    name: audio.transcriptions
    x-displayName: Transcriptions API
  - description: (beta) Agents API
    name: beta.agents
    x-displayName: (beta) Agents API
  - description: (beta) Conversations API
    name: beta.conversations
    x-displayName: (beta) Conversations API
  - description: (beta) Libraries API to create and manage libraries - index your documents to enhance agent capabilities.
    name: beta.libraries
    x-displayName: (beta) Libraries  API - Main
  - description: (beta) Libraries API - manage documents in a library.
    name: beta.libraries.documents
    x-displayName: (beta) Libraries  API - Documents
  - description: (beta) Libraries API - manage access to a library.
    name: beta.libraries.accesses
    x-displayName: (beta) Libraries  API - Access
