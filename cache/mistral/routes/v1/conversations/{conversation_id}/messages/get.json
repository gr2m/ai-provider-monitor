{
  "description": "Given a conversation_id retrieve all the messages belonging to that conversation. This is similar to retrieving all entries except we filter the messages only.",
  "operationId": "agents_api_v1_conversations_messages",
  "parameters": [
    {
      "description": "ID of the conversation from which we are fetching messages.",
      "in": "path",
      "name": "conversation_id",
      "required": true,
      "schema": {
        "description": "ID of the conversation from which we are fetching messages.",
        "title": "Conversation Id",
        "type": "string"
      }
    }
  ],
  "responses": {
    "200": {
      "content": {
        "application/json": {
          "schema": {
            "$ref": "#/components/schemas/ConversationMessages"
          }
        }
      },
      "description": "Successful Response"
    },
    "422": {
      "content": {
        "application/json": {
          "schema": {
            "$ref": "#/components/schemas/HTTPValidationError"
          }
        }
      },
      "description": "Validation Error"
    }
  },
  "summary": "Retrieve all messages in a conversation.",
  "tags": [
    "beta.conversations"
  ],
  "components": {
    "schemas": {
      "ConversationMessages": {
        "additionalProperties": false,
        "description": "Similar to the conversation history but only keep the messages",
        "properties": {
          "conversation_id": {
            "title": "Conversation Id",
            "type": "string"
          },
          "messages": {
            "$ref": "#/components/schemas/MessageEntries"
          },
          "object": {
            "default": "conversation.messages",
            "enum": [
              "conversation.messages"
            ],
            "title": "Object",
            "type": "string"
          }
        },
        "required": [
          "conversation_id",
          "messages"
        ],
        "title": "ConversationMessages",
        "type": "object"
      },
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "title": "Detail",
            "type": "array"
          }
        },
        "title": "HTTPValidationError",
        "type": "object"
      },
      "MessageEntries": {
        "items": {
          "anyOf": [
            {
              "$ref": "#/components/schemas/MessageInputEntry"
            },
            {
              "$ref": "#/components/schemas/MessageOutputEntry"
            }
          ]
        },
        "title": "MessageEntries",
        "type": "array"
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "title": "Location",
            "type": "array"
          },
          "msg": {
            "title": "Message",
            "type": "string"
          },
          "type": {
            "title": "Error Type",
            "type": "string"
          }
        },
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "title": "ValidationError",
        "type": "object"
      },
      "MessageInputEntry": {
        "additionalProperties": false,
        "description": "Representation of an input message inside the conversation.",
        "properties": {
          "completed_at": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completed At"
          },
          "content": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "$ref": "#/components/schemas/MessageInputContentChunks"
              }
            ],
            "title": "Content"
          },
          "created_at": {
            "format": "date-time",
            "title": "Created At",
            "type": "string"
          },
          "id": {
            "title": "Id",
            "type": "string"
          },
          "object": {
            "default": "entry",
            "enum": [
              "entry"
            ],
            "title": "Object",
            "type": "string"
          },
          "prefix": {
            "default": false,
            "title": "Prefix",
            "type": "boolean"
          },
          "role": {
            "enum": [
              "assistant",
              "user"
            ],
            "title": "Role",
            "type": "string"
          },
          "type": {
            "default": "message.input",
            "enum": [
              "message.input"
            ],
            "title": "Type",
            "type": "string"
          }
        },
        "required": [
          "role",
          "content"
        ],
        "title": "MessageInputEntry",
        "type": "object"
      },
      "MessageOutputEntry": {
        "additionalProperties": false,
        "properties": {
          "agent_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Agent Id"
          },
          "completed_at": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completed At"
          },
          "content": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "$ref": "#/components/schemas/MessageOutputContentChunks"
              }
            ],
            "title": "Content"
          },
          "created_at": {
            "format": "date-time",
            "title": "Created At",
            "type": "string"
          },
          "id": {
            "title": "Id",
            "type": "string"
          },
          "model": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Model"
          },
          "object": {
            "default": "entry",
            "enum": [
              "entry"
            ],
            "title": "Object",
            "type": "string"
          },
          "role": {
            "default": "assistant",
            "enum": [
              "assistant"
            ],
            "title": "Role",
            "type": "string"
          },
          "type": {
            "default": "message.output",
            "enum": [
              "message.output"
            ],
            "title": "Type",
            "type": "string"
          }
        },
        "required": [
          "content"
        ],
        "title": "MessageOutputEntry",
        "type": "object"
      },
      "MessageInputContentChunks": {
        "items": {
          "anyOf": [
            {
              "$ref": "#/components/schemas/TextChunk"
            },
            {
              "$ref": "#/components/schemas/ImageURLChunk"
            },
            {
              "$ref": "#/components/schemas/ToolFileChunk"
            },
            {
              "$ref": "#/components/schemas/DocumentURLChunk"
            },
            {
              "$ref": "#/components/schemas/ThinkChunk"
            }
          ]
        },
        "title": "MessageInputContentChunks",
        "type": "array"
      },
      "MessageOutputContentChunks": {
        "items": {
          "anyOf": [
            {
              "$ref": "#/components/schemas/TextChunk"
            },
            {
              "$ref": "#/components/schemas/ImageURLChunk"
            },
            {
              "$ref": "#/components/schemas/ToolFileChunk"
            },
            {
              "$ref": "#/components/schemas/DocumentURLChunk"
            },
            {
              "$ref": "#/components/schemas/ThinkChunk"
            },
            {
              "$ref": "#/components/schemas/ToolReferenceChunk"
            }
          ]
        },
        "title": "MessageOutputContentChunks",
        "type": "array"
      },
      "TextChunk": {
        "additionalProperties": false,
        "properties": {
          "text": {
            "title": "Text",
            "type": "string"
          },
          "type": {
            "default": "text",
            "enum": [
              "text"
            ],
            "title": "Type",
            "type": "string"
          }
        },
        "required": [
          "text"
        ],
        "title": "TextChunk",
        "type": "object"
      },
      "ImageURLChunk": {
        "additionalProperties": false,
        "description": "{\"type\":\"image_url\",\"image_url\":{\"url\":\"data:image/png;base64,iVBORw0",
        "properties": {
          "image_url": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ImageURL"
              },
              {
                "type": "string"
              }
            ],
            "title": "Image Url"
          },
          "type": {
            "default": "image_url",
            "enum": [
              "image_url"
            ],
            "title": "Type",
            "type": "string"
          }
        },
        "required": [
          "image_url"
        ],
        "title": "ImageURLChunk",
        "type": "object"
      },
      "ToolFileChunk": {
        "additionalProperties": false,
        "properties": {
          "file_id": {
            "title": "File Id",
            "type": "string"
          },
          "file_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "File Name"
          },
          "file_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "File Type"
          },
          "tool": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/BuiltInConnectors"
              },
              {
                "type": "string"
              }
            ],
            "title": "Tool"
          },
          "type": {
            "default": "tool_file",
            "enum": [
              "tool_file"
            ],
            "title": "Type",
            "type": "string"
          }
        },
        "required": [
          "tool",
          "file_id"
        ],
        "title": "ToolFileChunk",
        "type": "object"
      },
      "DocumentURLChunk": {
        "additionalProperties": false,
        "properties": {
          "document_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "The filename of the document",
            "title": "Document Name"
          },
          "document_url": {
            "title": "Document Url",
            "type": "string"
          },
          "type": {
            "default": "document_url",
            "enum": [
              "document_url"
            ],
            "title": "Type",
            "type": "string"
          }
        },
        "required": [
          "document_url"
        ],
        "title": "DocumentURLChunk",
        "type": "object"
      },
      "ThinkChunk": {
        "additionalProperties": false,
        "properties": {
          "closed": {
            "default": true,
            "description": "Whether the thinking chunk is closed or not. Currently only used for prefixing.",
            "title": "Closed",
            "type": "boolean"
          },
          "thinking": {
            "items": {
              "anyOf": [
                {
                  "$ref": "#/components/schemas/ReferenceChunk"
                },
                {
                  "$ref": "#/components/schemas/TextChunk"
                }
              ]
            },
            "title": "Thinking",
            "type": "array"
          },
          "type": {
            "default": "thinking",
            "enum": [
              "thinking"
            ],
            "title": "Type",
            "type": "string"
          }
        },
        "required": [
          "thinking"
        ],
        "title": "ThinkChunk",
        "type": "object"
      },
      "ToolReferenceChunk": {
        "additionalProperties": false,
        "properties": {
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "favicon": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Favicon"
          },
          "title": {
            "title": "Title",
            "type": "string"
          },
          "tool": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/BuiltInConnectors"
              },
              {
                "type": "string"
              }
            ],
            "title": "Tool"
          },
          "type": {
            "default": "tool_reference",
            "enum": [
              "tool_reference"
            ],
            "title": "Type",
            "type": "string"
          },
          "url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Url"
          }
        },
        "required": [
          "tool",
          "title"
        ],
        "title": "ToolReferenceChunk",
        "type": "object"
      },
      "ImageURL": {
        "additionalProperties": false,
        "properties": {
          "detail": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Detail"
          },
          "url": {
            "title": "Url",
            "type": "string"
          }
        },
        "required": [
          "url"
        ],
        "title": "ImageURL",
        "type": "object"
      },
      "BuiltInConnectors": {
        "enum": [
          "web_search",
          "web_search_premium",
          "code_interpreter",
          "image_generation",
          "document_library"
        ],
        "title": "BuiltInConnectors",
        "type": "string"
      },
      "ReferenceChunk": {
        "additionalProperties": false,
        "properties": {
          "reference_ids": {
            "items": {
              "type": "integer"
            },
            "title": "Reference Ids",
            "type": "array"
          },
          "type": {
            "default": "reference",
            "enum": [
              "reference"
            ],
            "title": "Type",
            "type": "string"
          }
        },
        "required": [
          "reference_ids"
        ],
        "title": "ReferenceChunk",
        "type": "object"
      }
    }
  }
}
