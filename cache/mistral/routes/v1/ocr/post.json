{
  "operationId": "ocr_v1_ocr_post",
  "requestBody": {
    "content": {
      "application/json": {
        "schema": {
          "additionalProperties": false,
          "properties": {
            "bbox_annotation_format": {
              "anyOf": [
                {
                  "additionalProperties": false,
                  "properties": {
                    "json_schema": {
                      "anyOf": [
                        {
                          "additionalProperties": false,
                          "properties": {
                            "description": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "null"
                                }
                              ],
                              "title": "Description"
                            },
                            "name": {
                              "title": "Name",
                              "type": "string"
                            },
                            "schema": {
                              "additionalProperties": true,
                              "title": "Schema",
                              "type": "object"
                            },
                            "strict": {
                              "default": false,
                              "title": "Strict",
                              "type": "boolean"
                            }
                          },
                          "required": [
                            "name",
                            "schema"
                          ],
                          "title": "JsonSchema",
                          "type": "object"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "type": {
                      "default": "text",
                      "description": "An object specifying the format that the model must output. Setting to `{ \"type\": \"json_object\" }` enables JSON mode, which guarantees the message the model generates is in JSON. When using JSON mode you MUST also instruct the model to produce JSON yourself with a system or a user message.",
                      "enum": [
                        "text",
                        "json_object",
                        "json_schema"
                      ],
                      "title": "ResponseFormats",
                      "type": "string"
                    }
                  },
                  "title": "ResponseFormat",
                  "type": "object"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Structured output class for extracting useful information from each extracted bounding box / image from document. Only json_schema is valid for this field"
            },
            "document": {
              "anyOf": [
                {
                  "additionalProperties": false,
                  "properties": {
                    "file_id": {
                      "format": "uuid",
                      "title": "File Id",
                      "type": "string"
                    },
                    "type": {
                      "const": "file",
                      "default": "file",
                      "title": "Type",
                      "type": "string"
                    }
                  },
                  "required": [
                    "file_id"
                  ],
                  "title": "FileChunk",
                  "type": "object"
                },
                {
                  "additionalProperties": false,
                  "properties": {
                    "document_name": {
                      "anyOf": [
                        {
                          "type": "string"
                        },
                        {
                          "type": "null"
                        }
                      ],
                      "description": "The filename of the document",
                      "title": "Document Name"
                    },
                    "document_url": {
                      "title": "Document Url",
                      "type": "string"
                    },
                    "type": {
                      "default": "document_url",
                      "enum": [
                        "document_url"
                      ],
                      "title": "Type",
                      "type": "string"
                    }
                  },
                  "required": [
                    "document_url"
                  ],
                  "title": "DocumentURLChunk",
                  "type": "object"
                },
                {
                  "additionalProperties": false,
                  "description": "{\"type\":\"image_url\",\"image_url\":{\"url\":\"data:image/png;base64,iVBORw0",
                  "properties": {
                    "image_url": {
                      "anyOf": [
                        {
                          "additionalProperties": false,
                          "properties": {
                            "detail": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "null"
                                }
                              ],
                              "title": "Detail"
                            },
                            "url": {
                              "title": "Url",
                              "type": "string"
                            }
                          },
                          "required": [
                            "url"
                          ],
                          "title": "ImageURL",
                          "type": "object"
                        },
                        {
                          "type": "string"
                        }
                      ],
                      "title": "Image Url"
                    },
                    "type": {
                      "default": "image_url",
                      "enum": [
                        "image_url"
                      ],
                      "title": "Type",
                      "type": "string"
                    }
                  },
                  "required": [
                    "image_url"
                  ],
                  "title": "ImageURLChunk",
                  "type": "object"
                }
              ],
              "description": "Document to run OCR on",
              "title": "Document"
            },
            "document_annotation_format": {
              "anyOf": [
                {
                  "additionalProperties": false,
                  "properties": {
                    "json_schema": {
                      "anyOf": [
                        {
                          "additionalProperties": false,
                          "properties": {
                            "description": {
                              "anyOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "null"
                                }
                              ],
                              "title": "Description"
                            },
                            "name": {
                              "title": "Name",
                              "type": "string"
                            },
                            "schema": {
                              "additionalProperties": true,
                              "title": "Schema",
                              "type": "object"
                            },
                            "strict": {
                              "default": false,
                              "title": "Strict",
                              "type": "boolean"
                            }
                          },
                          "required": [
                            "name",
                            "schema"
                          ],
                          "title": "JsonSchema",
                          "type": "object"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "type": {
                      "default": "text",
                      "description": "An object specifying the format that the model must output. Setting to `{ \"type\": \"json_object\" }` enables JSON mode, which guarantees the message the model generates is in JSON. When using JSON mode you MUST also instruct the model to produce JSON yourself with a system or a user message.",
                      "enum": [
                        "text",
                        "json_object",
                        "json_schema"
                      ],
                      "title": "ResponseFormats",
                      "type": "string"
                    }
                  },
                  "title": "ResponseFormat",
                  "type": "object"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Structured output class for extracting useful information from the entire document. Only json_schema is valid for this field"
            },
            "id": {
              "title": "Id",
              "type": "string"
            },
            "image_limit": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Max images to extract",
              "title": "Image Limit"
            },
            "image_min_size": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Minimum height and width of image to extract",
              "title": "Image Min Size"
            },
            "include_image_base64": {
              "anyOf": [
                {
                  "type": "boolean"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Include image URLs in response",
              "title": "Include Image Base64"
            },
            "model": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Model"
            },
            "pages": {
              "anyOf": [
                {
                  "items": {
                    "type": "integer"
                  },
                  "type": "array"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Specific pages user wants to process in various formats: single number, range, or list of both. Starts from 0",
              "title": "Pages"
            }
          },
          "required": [
            "document",
            "model"
          ],
          "title": "OCRRequest",
          "type": "object"
        }
      }
    },
    "required": true
  },
  "responses": {
    "200": {
      "content": {
        "application/json": {
          "schema": {
            "additionalProperties": false,
            "properties": {
              "document_annotation": {
                "anyOf": [
                  {
                    "type": "string"
                  },
                  {
                    "type": "null"
                  }
                ],
                "description": "Formatted response in the request_format if provided in json str",
                "title": "Document Annotation"
              },
              "model": {
                "description": "The model used to generate the OCR.",
                "title": "Model",
                "type": "string"
              },
              "pages": {
                "description": "List of OCR info for pages.",
                "items": {
                  "additionalProperties": false,
                  "properties": {
                    "dimensions": {
                      "anyOf": [
                        {
                          "additionalProperties": false,
                          "properties": {
                            "dpi": {
                              "description": "Dots per inch of the page-image",
                              "minimum": 0,
                              "title": "Dpi",
                              "type": "integer"
                            },
                            "height": {
                              "description": "Height of the image in pixels",
                              "minimum": 0,
                              "title": "Height",
                              "type": "integer"
                            },
                            "width": {
                              "description": "Width of the image in pixels",
                              "minimum": 0,
                              "title": "Width",
                              "type": "integer"
                            }
                          },
                          "required": [
                            "dpi",
                            "height",
                            "width"
                          ],
                          "title": "OCRPageDimensions",
                          "type": "object"
                        },
                        {
                          "type": "null"
                        }
                      ],
                      "description": "The dimensions of the PDF Page's screenshot image"
                    },
                    "images": {
                      "description": "List of all extracted images in the page",
                      "items": {
                        "additionalProperties": false,
                        "properties": {
                          "bottom_right_x": {
                            "anyOf": [
                              {
                                "minimum": 0,
                                "type": "integer"
                              },
                              {
                                "type": "null"
                              }
                            ],
                            "description": "X coordinate of bottom-right corner of the extracted image",
                            "title": "Bottom Right X"
                          },
                          "bottom_right_y": {
                            "anyOf": [
                              {
                                "minimum": 0,
                                "type": "integer"
                              },
                              {
                                "type": "null"
                              }
                            ],
                            "description": "Y coordinate of bottom-right corner of the extracted image",
                            "title": "Bottom Right Y"
                          },
                          "id": {
                            "description": "Image ID for extracted image in a page",
                            "title": "Id",
                            "type": "string"
                          },
                          "image_annotation": {
                            "anyOf": [
                              {
                                "type": "string"
                              },
                              {
                                "type": "null"
                              }
                            ],
                            "description": "Annotation of the extracted image in json str",
                            "title": "Image Annotation"
                          },
                          "image_base64": {
                            "anyOf": [
                              {
                                "type": "string"
                              },
                              {
                                "type": "null"
                              }
                            ],
                            "description": "Base64 string of the extracted image",
                            "title": "Image Base64"
                          },
                          "top_left_x": {
                            "anyOf": [
                              {
                                "minimum": 0,
                                "type": "integer"
                              },
                              {
                                "type": "null"
                              }
                            ],
                            "description": "X coordinate of top-left corner of the extracted image",
                            "title": "Top Left X"
                          },
                          "top_left_y": {
                            "anyOf": [
                              {
                                "minimum": 0,
                                "type": "integer"
                              },
                              {
                                "type": "null"
                              }
                            ],
                            "description": "Y coordinate of top-left corner of the extracted image",
                            "title": "Top Left Y"
                          }
                        },
                        "required": [
                          "id",
                          "top_left_x",
                          "top_left_y",
                          "bottom_right_x",
                          "bottom_right_y"
                        ],
                        "title": "OCRImageObject",
                        "type": "object"
                      },
                      "title": "Images",
                      "type": "array"
                    },
                    "index": {
                      "description": "The page index in a pdf document starting from 0",
                      "minimum": 0,
                      "title": "Index",
                      "type": "integer"
                    },
                    "markdown": {
                      "description": "The markdown string response of the page",
                      "title": "Markdown",
                      "type": "string"
                    }
                  },
                  "required": [
                    "index",
                    "markdown",
                    "images",
                    "dimensions"
                  ],
                  "title": "OCRPageObject",
                  "type": "object"
                },
                "title": "Pages",
                "type": "array"
              },
              "usage_info": {
                "description": "Usage info for the OCR request.",
                "additionalProperties": false,
                "properties": {
                  "doc_size_bytes": {
                    "anyOf": [
                      {
                        "type": "integer"
                      },
                      {
                        "type": "null"
                      }
                    ],
                    "description": "Document size in bytes",
                    "title": "Doc Size Bytes"
                  },
                  "pages_processed": {
                    "description": "Number of pages processed",
                    "minimum": 0,
                    "title": "Pages Processed",
                    "type": "integer"
                  }
                },
                "required": [
                  "pages_processed"
                ],
                "title": "OCRUsageInfo",
                "type": "object"
              }
            },
            "required": [
              "pages",
              "model",
              "usage_info"
            ],
            "title": "OCRResponse",
            "type": "object"
          }
        }
      },
      "description": "Successful Response"
    },
    "422": {
      "content": {
        "application/json": {
          "schema": {
            "properties": {
              "detail": {
                "items": {
                  "properties": {
                    "loc": {
                      "items": {
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "integer"
                          }
                        ]
                      },
                      "title": "Location",
                      "type": "array"
                    },
                    "msg": {
                      "title": "Message",
                      "type": "string"
                    },
                    "type": {
                      "title": "Error Type",
                      "type": "string"
                    }
                  },
                  "required": [
                    "loc",
                    "msg",
                    "type"
                  ],
                  "title": "ValidationError",
                  "type": "object"
                },
                "title": "Detail",
                "type": "array"
              }
            },
            "title": "HTTPValidationError",
            "type": "object"
          }
        }
      },
      "description": "Validation Error"
    }
  },
  "summary": "OCR",
  "tags": [
    "ocr"
  ]
}
