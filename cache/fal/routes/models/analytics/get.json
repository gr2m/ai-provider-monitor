{
  "description": "\nTime-bucketed metrics per model endpoint, including request counts, success/error\nrates, and latency percentiles. `prepare_duration` reflects queue/prepare\ntime before execution; `duration` is request execution time. Use with the\nQueue/Webhooks flow to monitor SLAs.\n\n**Metric Selection:**\nYou must specify which metrics to include using the `expand` query\nparameter. Only requested metrics will be populated in the response,\nallowing you to optimize query performance and data transfer.\n\n**Available Metrics:**\n- `request_count`: Total number of requests in the time bucket\n- `success_count`: Number of successful requests (2xx responses)\n- `user_error_count`: Number of user errors (4xx responses)\n- `error_count`: Number of server errors (5xx responses)\n- `p50_prepare_duration`: 50th percentile queue/prepare time\n- `p75_prepare_duration`: 75th percentile queue/prepare time\n- `p90_prepare_duration`: 90th percentile queue/prepare time\n- `p50_duration`: 50th percentile request execution duration\n- `p75_duration`: 75th percentile request execution duration\n- `p90_duration`: 90th percentile request execution duration\n\n**Key Features:**\n- Selective metric inclusion via expand parameter\n- Performance metrics (latency percentiles, duration stats)\n- Reliability metrics (success/error rates, request counts)\n- Time-bucketed data for trend analysis\n- Single or multi-model analytics\n- Flexible date range and timeframe options\n\n**Common Use Cases:**\n- Monitor model performance and reliability\n- Generate performance dashboards\n- Analyze latency trends and patterns\n- Track error rates and success metrics\n\nSee [Queue API docs](https://docs.fal.ai/model-apis/model-endpoints/queue) for more details.\n    ",
  "operationId": "getAnalytics",
  "parameters": [
    {
      "description": "Maximum number of items to return. Actual maximum depends on query type and expansion parameters.",
      "in": "query",
      "name": "limit",
      "required": false,
      "schema": {
        "description": "Maximum number of items to return. Actual maximum depends on query type and expansion parameters.",
        "example": 50,
        "minimum": 1,
        "type": "integer"
      }
    },
    {
      "description": "Pagination cursor from previous response. Encodes the page number.",
      "in": "query",
      "name": "cursor",
      "required": false,
      "schema": {
        "description": "Pagination cursor from previous response. Encodes the page number.",
        "example": "Mg==",
        "type": "string"
      }
    },
    {
      "description": "Start date in ISO8601 format (e.g., '2025-01-01T00:00:00Z' or '2025-01-01'). Defaults to 24 hours ago.",
      "in": "query",
      "name": "start",
      "required": false,
      "schema": {
        "anyOf": [
          {
            "format": "date-time",
            "type": "string"
          },
          {
            "pattern": "^\\d{4}-\\d{2}-\\d{2}$",
            "type": "string"
          }
        ],
        "description": "Start date in ISO8601 format (e.g., '2025-01-01T00:00:00Z' or '2025-01-01'). Defaults to 24 hours ago.",
        "example": "2025-01-01T00:00:00Z"
      }
    },
    {
      "description": "End date in ISO8601 format (e.g., '2025-01-31T23:59:59Z' or '2025-01-31'). Defaults to current time.",
      "in": "query",
      "name": "end",
      "required": false,
      "schema": {
        "anyOf": [
          {
            "format": "date-time",
            "type": "string"
          },
          {
            "pattern": "^\\d{4}-\\d{2}-\\d{2}$",
            "type": "string"
          }
        ],
        "description": "End date in ISO8601 format (e.g., '2025-01-31T23:59:59Z' or '2025-01-31'). Defaults to current time.",
        "example": "2025-01-31T23:59:59Z"
      }
    },
    {
      "description": "Timezone for date aggregation and boundaries. All timestamps in responses are in UTC, but this controls how dates are bucketed.",
      "in": "query",
      "name": "timezone",
      "required": false,
      "schema": {
        "default": "UTC",
        "description": "Timezone for date aggregation and boundaries. All timestamps in responses are in UTC, but this controls how dates are bucketed.",
        "example": "UTC",
        "type": "string"
      }
    },
    {
      "description": "Aggregation timeframe for timeseries data (auto-detected from date range if not specified). Auto-detection uses: minute (<2h), hour (<2d), day (<64d), week (<183d), month (>=183d).",
      "in": "query",
      "name": "timeframe",
      "required": false,
      "schema": {
        "description": "Aggregation timeframe for timeseries data (auto-detected from date range if not specified). Auto-detection uses: minute (<2h), hour (<2d), day (<64d), week (<183d), month (>=183d).",
        "enum": [
          "minute",
          "hour",
          "day",
          "week",
          "month"
        ],
        "example": "day",
        "type": "string"
      }
    },
    {
      "description": "Whether to adjust start/end dates to align with timeframe boundaries and use exclusive end. Defaults to true. When true, dates are aligned to the start of the timeframe period (e.g., start of day) and end is made exclusive (e.g., start of next day). When false, uses exact dates provided.",
      "in": "query",
      "name": "bound_to_timeframe",
      "required": false,
      "schema": {
        "default": "true",
        "description": "Whether to adjust start/end dates to align with timeframe boundaries and use exclusive end. Defaults to true. When true, dates are aligned to the start of the timeframe period (e.g., start of day) and end is made exclusive (e.g., start of next day). When false, uses exact dates provided.",
        "enum": [
          "true",
          "false"
        ],
        "example": "true",
        "type": "string"
      }
    },
    {
      "description": "Filter by specific endpoint ID(s). Accepts 1-50 endpoint IDs. Supports comma-separated values: ?endpoint_id=model1,model2 or array syntax: ?endpoint_id=model1&endpoint_id=model2",
      "explode": true,
      "in": "query",
      "name": "endpoint_id",
      "required": true,
      "schema": {
        "anyOf": [
          {
            "type": "string"
          },
          {
            "items": {
              "type": "string"
            },
            "type": "array"
          }
        ],
        "description": "Filter by specific endpoint ID(s). Accepts 1-50 endpoint IDs. Supports comma-separated values: ?endpoint_id=model1,model2 or array syntax: ?endpoint_id=model1&endpoint_id=model2",
        "example": [
          "fal-ai/flux/dev"
        ]
      },
      "style": "form"
    },
    {
      "description": "Data and metrics to include in the response. Use 'time_series' for time-bucketed data, metric names for specific metrics in time series, and 'summary' for aggregate statistics. At least one of 'time_series' or 'summary' and at least one metric are required.",
      "explode": true,
      "in": "query",
      "name": "expand",
      "required": false,
      "schema": {
        "anyOf": [
          {
            "type": "string"
          },
          {
            "items": {
              "type": "string"
            },
            "type": "array"
          }
        ],
        "default": [
          "time_series",
          "request_count"
        ],
        "description": "Data and metrics to include in the response. Use 'time_series' for time-bucketed data, metric names for specific metrics in time series, and 'summary' for aggregate statistics. At least one of 'time_series' or 'summary' and at least one metric are required.",
        "example": [
          "request_count",
          "success_count"
        ]
      },
      "style": "form"
    }
  ],
  "responses": {
    "200": {
      "content": {
        "application/json": {
          "example": {
            "has_more": false,
            "next_cursor": null,
            "time_series": [
              {
                "bucket": "2025-01-15T12:00:00-05:00",
                "results": [
                  {
                    "endpoint_id": "fal-ai/flux/dev",
                    "p50_duration": 2.5,
                    "p90_duration": 4.8,
                    "request_count": 1500,
                    "success_count": 1450
                  }
                ]
              }
            ]
          },
          "schema": {
            "description": "Response containing performance analytics with pagination support",
            "properties": {
              "has_more": {
                "description": "Boolean indicating if more results are available (convenience field derived from next_cursor)",
                "type": "boolean"
              },
              "next_cursor": {
                "description": "Cursor for the next page of results, null if no more pages",
                "type": [
                  "string",
                  "null"
                ]
              },
              "summary": {
                "description": "Aggregate statistics (when expand includes 'summary')",
                "items": {
                  "description": "Aggregate performance statistics for the entire date range",
                  "properties": {
                    "endpoint_id": {
                      "description": "Endpoint identifier for these statistics",
                      "type": "string"
                    },
                    "error_count": {
                      "description": "Number of server errors (5xx responses)",
                      "minimum": 0,
                      "type": "integer"
                    },
                    "p50_duration": {
                      "description": "50th percentile request execution duration in seconds",
                      "minimum": 0,
                      "type": "number"
                    },
                    "p50_prepare_duration": {
                      "description": "50th percentile queue/prepare time before execution in seconds",
                      "minimum": 0,
                      "type": "number"
                    },
                    "p75_duration": {
                      "description": "75th percentile request execution duration in seconds",
                      "minimum": 0,
                      "type": "number"
                    },
                    "p75_prepare_duration": {
                      "description": "75th percentile queue/prepare time before execution in seconds",
                      "minimum": 0,
                      "type": "number"
                    },
                    "p90_duration": {
                      "description": "90th percentile request execution duration in seconds",
                      "minimum": 0,
                      "type": "number"
                    },
                    "p90_prepare_duration": {
                      "description": "90th percentile queue/prepare time before execution in seconds",
                      "minimum": 0,
                      "type": "number"
                    },
                    "request_count": {
                      "description": "Total number of requests",
                      "minimum": 0,
                      "type": "integer"
                    },
                    "success_count": {
                      "description": "Number of successful requests (2xx responses)",
                      "minimum": 0,
                      "type": "integer"
                    },
                    "user_error_count": {
                      "description": "Number of user errors (4xx responses)",
                      "minimum": 0,
                      "type": "integer"
                    }
                  },
                  "required": [
                    "endpoint_id"
                  ],
                  "type": "object"
                },
                "type": "array"
              },
              "time_series": {
                "description": "Time series analytics data grouped by time bucket (when expand includes 'time_series'). Each bucket contains all analytics records for that time period.",
                "items": {
                  "description": "Time bucket with grouped analytics records",
                  "properties": {
                    "bucket": {
                      "description": "Time bucket timestamp in user's timezone with offset (ISO8601 datetime)",
                      "type": "string"
                    },
                    "results": {
                      "description": "Analytics records for this time bucket",
                      "items": {
                        "description": "Performance and reliability analytics. Only requested metrics (via expand parameter) will be present in the response. 'prepare_duration' reflects queue/prepare time before execution; 'duration' is request execution time.",
                        "properties": {
                          "endpoint_id": {
                            "description": "Endpoint identifier for these statistics",
                            "type": "string"
                          },
                          "error_count": {
                            "description": "Number of server errors (5xx responses)",
                            "minimum": 0,
                            "type": "integer"
                          },
                          "p50_duration": {
                            "description": "50th percentile request execution duration in seconds",
                            "minimum": 0,
                            "type": "number"
                          },
                          "p50_prepare_duration": {
                            "description": "50th percentile queue/prepare time before execution in seconds",
                            "minimum": 0,
                            "type": "number"
                          },
                          "p75_duration": {
                            "description": "75th percentile request execution duration in seconds",
                            "minimum": 0,
                            "type": "number"
                          },
                          "p75_prepare_duration": {
                            "description": "75th percentile queue/prepare time before execution in seconds",
                            "minimum": 0,
                            "type": "number"
                          },
                          "p90_duration": {
                            "description": "90th percentile request execution duration in seconds",
                            "minimum": 0,
                            "type": "number"
                          },
                          "p90_prepare_duration": {
                            "description": "90th percentile queue/prepare time before execution in seconds",
                            "minimum": 0,
                            "type": "number"
                          },
                          "request_count": {
                            "description": "Total number of requests",
                            "minimum": 0,
                            "type": "integer"
                          },
                          "success_count": {
                            "description": "Number of successful requests (2xx responses)",
                            "minimum": 0,
                            "type": "integer"
                          },
                          "user_error_count": {
                            "description": "Number of user errors (4xx responses)",
                            "minimum": 0,
                            "type": "integer"
                          }
                        },
                        "required": [
                          "endpoint_id"
                        ],
                        "type": "object"
                      },
                      "type": "array"
                    }
                  },
                  "required": [
                    "bucket",
                    "results"
                  ],
                  "type": "object"
                },
                "type": "array"
              }
            },
            "required": [
              "next_cursor",
              "has_more"
            ],
            "type": "object"
          }
        }
      },
      "description": "Analytics data retrieved successfully"
    },
    "400": {
      "content": {
        "application/json": {
          "example": {
            "error": {
              "message": "Invalid request parameters",
              "type": "validation_error"
            }
          },
          "schema": {
            "description": "Standard error response format",
            "properties": {
              "error": {
                "description": "Error details",
                "properties": {
                  "docs_url": {
                    "description": "Link to relevant documentation",
                    "format": "uri",
                    "type": "string"
                  },
                  "message": {
                    "description": "Human-readable error message",
                    "type": "string"
                  },
                  "request_id": {
                    "description": "Unique request identifier for debugging",
                    "type": "string"
                  },
                  "type": {
                    "description": "The category of error that occurred",
                    "enum": [
                      "authorization_error",
                      "validation_error",
                      "not_found",
                      "rate_limited",
                      "server_error",
                      "not_implemented"
                    ],
                    "type": "string"
                  }
                },
                "required": [
                  "type",
                  "message"
                ],
                "type": "object"
              }
            },
            "required": [
              "error"
            ],
            "type": "object"
          }
        }
      },
      "description": "Invalid request parameters"
    },
    "401": {
      "content": {
        "application/json": {
          "example": {
            "error": {
              "message": "Authentication required",
              "type": "authorization_error"
            }
          },
          "schema": {
            "description": "Standard error response format",
            "properties": {
              "error": {
                "description": "Error details",
                "properties": {
                  "docs_url": {
                    "description": "Link to relevant documentation",
                    "format": "uri",
                    "type": "string"
                  },
                  "message": {
                    "description": "Human-readable error message",
                    "type": "string"
                  },
                  "request_id": {
                    "description": "Unique request identifier for debugging",
                    "type": "string"
                  },
                  "type": {
                    "description": "The category of error that occurred",
                    "enum": [
                      "authorization_error",
                      "validation_error",
                      "not_found",
                      "rate_limited",
                      "server_error",
                      "not_implemented"
                    ],
                    "type": "string"
                  }
                },
                "required": [
                  "type",
                  "message"
                ],
                "type": "object"
              }
            },
            "required": [
              "error"
            ],
            "type": "object"
          }
        }
      },
      "description": "Authentication required"
    },
    "403": {
      "content": {
        "application/json": {
          "example": {
            "error": {
              "message": "Access denied",
              "type": "authorization_error"
            }
          },
          "schema": {
            "description": "Standard error response format",
            "properties": {
              "error": {
                "description": "Error details",
                "properties": {
                  "docs_url": {
                    "description": "Link to relevant documentation",
                    "format": "uri",
                    "type": "string"
                  },
                  "message": {
                    "description": "Human-readable error message",
                    "type": "string"
                  },
                  "request_id": {
                    "description": "Unique request identifier for debugging",
                    "type": "string"
                  },
                  "type": {
                    "description": "The category of error that occurred",
                    "enum": [
                      "authorization_error",
                      "validation_error",
                      "not_found",
                      "rate_limited",
                      "server_error",
                      "not_implemented"
                    ],
                    "type": "string"
                  }
                },
                "required": [
                  "type",
                  "message"
                ],
                "type": "object"
              }
            },
            "required": [
              "error"
            ],
            "type": "object"
          }
        }
      },
      "description": "Access denied"
    },
    "404": {
      "content": {
        "application/json": {
          "example": {
            "error": {
              "message": "Resource not found",
              "type": "not_found"
            }
          },
          "schema": {
            "description": "Standard error response format",
            "properties": {
              "error": {
                "description": "Error details",
                "properties": {
                  "docs_url": {
                    "description": "Link to relevant documentation",
                    "format": "uri",
                    "type": "string"
                  },
                  "message": {
                    "description": "Human-readable error message",
                    "type": "string"
                  },
                  "request_id": {
                    "description": "Unique request identifier for debugging",
                    "type": "string"
                  },
                  "type": {
                    "description": "The category of error that occurred",
                    "enum": [
                      "authorization_error",
                      "validation_error",
                      "not_found",
                      "rate_limited",
                      "server_error",
                      "not_implemented"
                    ],
                    "type": "string"
                  }
                },
                "required": [
                  "type",
                  "message"
                ],
                "type": "object"
              }
            },
            "required": [
              "error"
            ],
            "type": "object"
          }
        }
      },
      "description": "Resource not found"
    },
    "429": {
      "content": {
        "application/json": {
          "example": {
            "error": {
              "message": "Rate limit exceeded",
              "type": "rate_limited"
            }
          },
          "schema": {
            "description": "Standard error response format",
            "properties": {
              "error": {
                "description": "Error details",
                "properties": {
                  "docs_url": {
                    "description": "Link to relevant documentation",
                    "format": "uri",
                    "type": "string"
                  },
                  "message": {
                    "description": "Human-readable error message",
                    "type": "string"
                  },
                  "request_id": {
                    "description": "Unique request identifier for debugging",
                    "type": "string"
                  },
                  "type": {
                    "description": "The category of error that occurred",
                    "enum": [
                      "authorization_error",
                      "validation_error",
                      "not_found",
                      "rate_limited",
                      "server_error",
                      "not_implemented"
                    ],
                    "type": "string"
                  }
                },
                "required": [
                  "type",
                  "message"
                ],
                "type": "object"
              }
            },
            "required": [
              "error"
            ],
            "type": "object"
          }
        }
      },
      "description": "Rate limit exceeded"
    }
  },
  "security": [
    {
      "apiKey": []
    }
  ],
  "summary": "Analytics",
  "tags": [
    "Models",
    "Analytics"
  ]
}
