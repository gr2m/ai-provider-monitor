{
  "description": "\nReturns paginated individual billing event records with filters\nfor endpoint and date range. Each record includes the request ID, timestamp,\nendpoint, and output units billed.\n\n**Key Features:**\n- Individual billing event records for each API request\n- Flexible date range filtering\n- Optional endpoint filtering\n- Cursor-based pagination for efficient large dataset queries\n- Limited to 100 records per page for performance\n\n**Common Use Cases:**\n- Audit individual billing events\n- Track request patterns and volumes\n- Debug specific requests by ID\n- Monitor billing unit consumption per request\n\nSee [fal.ai docs](https://docs.fal.ai/model-apis/faq) for more details.\n    ",
  "operationId": "getBillingEvents",
  "parameters": [
    {
      "description": "Maximum number of items to return. Actual maximum depends on query type and expansion parameters.",
      "in": "query",
      "name": "limit",
      "required": false,
      "schema": {
        "description": "Maximum number of items to return. Actual maximum depends on query type and expansion parameters.",
        "example": 50,
        "minimum": 1,
        "type": "integer"
      }
    },
    {
      "description": "Pagination cursor from previous response. Encodes the page number.",
      "in": "query",
      "name": "cursor",
      "required": false,
      "schema": {
        "description": "Pagination cursor from previous response. Encodes the page number.",
        "example": "Mg==",
        "type": "string"
      }
    },
    {
      "description": "Start date in ISO8601 format (e.g., '2025-01-01T00:00:00Z' or '2025-01-01'). Defaults to 24 hours ago.",
      "in": "query",
      "name": "start",
      "required": false,
      "schema": {
        "anyOf": [
          {
            "format": "date-time",
            "type": "string"
          },
          {
            "pattern": "^\\d{4}-\\d{2}-\\d{2}$",
            "type": "string"
          }
        ],
        "description": "Start date in ISO8601 format (e.g., '2025-01-01T00:00:00Z' or '2025-01-01'). Defaults to 24 hours ago.",
        "example": "2025-01-01T00:00:00Z"
      }
    },
    {
      "description": "End date in ISO8601 format (e.g., '2025-01-31T23:59:59Z' or '2025-01-31'). Defaults to current time.",
      "in": "query",
      "name": "end",
      "required": false,
      "schema": {
        "anyOf": [
          {
            "format": "date-time",
            "type": "string"
          },
          {
            "pattern": "^\\d{4}-\\d{2}-\\d{2}$",
            "type": "string"
          }
        ],
        "description": "End date in ISO8601 format (e.g., '2025-01-31T23:59:59Z' or '2025-01-31'). Defaults to current time.",
        "example": "2025-01-31T23:59:59Z"
      }
    },
    {
      "description": "Filter by specific endpoint ID(s). Accepts 1-50 endpoint IDs. Supports comma-separated values: ?endpoint_id=model1,model2 or array syntax: ?endpoint_id=model1&endpoint_id=model2",
      "explode": true,
      "in": "query",
      "name": "endpoint_id",
      "required": false,
      "schema": {
        "anyOf": [
          {
            "type": "string"
          },
          {
            "items": {
              "type": "string"
            },
            "type": "array"
          }
        ],
        "description": "Filter by specific endpoint ID(s). Accepts 1-50 endpoint IDs. Supports comma-separated values: ?endpoint_id=model1,model2 or array syntax: ?endpoint_id=model1&endpoint_id=model2",
        "example": [
          "fal-ai/flux/dev"
        ]
      },
      "style": "form"
    },
    {
      "description": "Filter by specific request ID(s). Accepts 1-50 request IDs. Supports comma-separated values: ?request_id=req1,req2 or array syntax: ?request_id=req1&request_id=req2",
      "explode": true,
      "in": "query",
      "name": "request_id",
      "required": false,
      "schema": {
        "anyOf": [
          {
            "type": "string"
          },
          {
            "items": {
              "type": "string"
            },
            "type": "array"
          }
        ],
        "description": "Filter by specific request ID(s). Accepts 1-50 request IDs. Supports comma-separated values: ?request_id=req1,req2 or array syntax: ?request_id=req1&request_id=req2",
        "example": [
          "req-abc123"
        ]
      },
      "style": "form"
    },
    {
      "description": "Data to include in the response. Use 'auth_method' to include authentication method information (formatted with user key aliases).",
      "explode": true,
      "in": "query",
      "name": "expand",
      "required": false,
      "schema": {
        "anyOf": [
          {
            "type": "string"
          },
          {
            "items": {
              "type": "string"
            },
            "type": "array"
          }
        ],
        "description": "Data to include in the response. Use 'auth_method' to include authentication method information (formatted with user key aliases).",
        "example": "auth_method"
      },
      "style": "form"
    }
  ],
  "responses": {
    "200": {
      "content": {
        "application/json": {
          "example": {
            "billing_events": [
              {
                "cost_estimate_nano_usd": 1500000,
                "endpoint_id": "fal-ai/flux/dev",
                "output_units": 1.5,
                "percent_discount": null,
                "request_id": "abc123",
                "timestamp": "2025-01-15T10:30:45Z",
                "unit_price": 0.001
              },
              {
                "cost_estimate_nano_usd": 1800000,
                "endpoint_id": "fal-ai/flux/dev",
                "output_units": 2,
                "percent_discount": 10,
                "request_id": "def456",
                "timestamp": "2025-01-15T10:25:30Z",
                "unit_price": 0.001
              }
            ],
            "has_more": true,
            "next_cursor": "MjAyNS0wMS0xNVQxMDoyNTozMFo="
          },
          "schema": {
            "description": "Response containing billing event data with pagination support",
            "properties": {
              "billing_events": {
                "description": "List of billing event records",
                "items": {
                  "description": "Individual billing event record with details",
                  "properties": {
                    "auth_method": {
                      "description": "Authentication method label (e.g., 'Key 1', 'API Key', 'User token'). Only populated when 'auth_method' is included in expand parameter.",
                      "type": "string"
                    },
                    "cost_estimate_nano_usd": {
                      "description": "Estimated cost in nano USD (1 USD = 1,000,000,000 nano USD)",
                      "minimum": 0,
                      "type": "number"
                    },
                    "endpoint_id": {
                      "description": "Endpoint identifier that was used (e.g., 'fal-ai/flux/dev')",
                      "type": "string"
                    },
                    "output_units": {
                      "description": "Custom billing units for this request",
                      "minimum": 0,
                      "type": [
                        "number",
                        "null"
                      ]
                    },
                    "percent_discount": {
                      "description": "Discount percentage applied to this request (e.g., 10 = 10% discount)",
                      "type": [
                        "number",
                        "null"
                      ]
                    },
                    "request_id": {
                      "description": "Unique identifier for the request",
                      "type": "string"
                    },
                    "timestamp": {
                      "description": "Request timestamp in ISO8601 format",
                      "type": "string"
                    },
                    "unit_price": {
                      "description": "Unit price for this request",
                      "minimum": 0,
                      "type": [
                        "number",
                        "null"
                      ]
                    }
                  },
                  "required": [
                    "request_id",
                    "endpoint_id",
                    "timestamp",
                    "output_units",
                    "unit_price",
                    "percent_discount",
                    "cost_estimate_nano_usd"
                  ],
                  "type": "object"
                },
                "type": "array"
              },
              "has_more": {
                "description": "Boolean indicating if more results are available (convenience field derived from next_cursor)",
                "type": "boolean"
              },
              "next_cursor": {
                "description": "Cursor for the next page of results, null if no more pages",
                "type": [
                  "string",
                  "null"
                ]
              }
            },
            "required": [
              "next_cursor",
              "has_more",
              "billing_events"
            ],
            "type": "object"
          }
        }
      },
      "description": "Billing event data retrieved successfully"
    },
    "400": {
      "content": {
        "application/json": {
          "example": {
            "error": {
              "message": "Invalid request parameters",
              "type": "validation_error"
            }
          },
          "schema": {
            "description": "Standard error response format",
            "properties": {
              "error": {
                "description": "Error details",
                "properties": {
                  "docs_url": {
                    "description": "Link to relevant documentation",
                    "format": "uri",
                    "type": "string"
                  },
                  "message": {
                    "description": "Human-readable error message",
                    "type": "string"
                  },
                  "request_id": {
                    "description": "Unique request identifier for debugging",
                    "type": "string"
                  },
                  "type": {
                    "description": "The category of error that occurred",
                    "enum": [
                      "authorization_error",
                      "validation_error",
                      "not_found",
                      "rate_limited",
                      "server_error",
                      "not_implemented"
                    ],
                    "type": "string"
                  }
                },
                "required": [
                  "type",
                  "message"
                ],
                "type": "object"
              }
            },
            "required": [
              "error"
            ],
            "type": "object"
          }
        }
      },
      "description": "Invalid request parameters"
    },
    "401": {
      "content": {
        "application/json": {
          "example": {
            "error": {
              "message": "Authentication required",
              "type": "authorization_error"
            }
          },
          "schema": {
            "description": "Standard error response format",
            "properties": {
              "error": {
                "description": "Error details",
                "properties": {
                  "docs_url": {
                    "description": "Link to relevant documentation",
                    "format": "uri",
                    "type": "string"
                  },
                  "message": {
                    "description": "Human-readable error message",
                    "type": "string"
                  },
                  "request_id": {
                    "description": "Unique request identifier for debugging",
                    "type": "string"
                  },
                  "type": {
                    "description": "The category of error that occurred",
                    "enum": [
                      "authorization_error",
                      "validation_error",
                      "not_found",
                      "rate_limited",
                      "server_error",
                      "not_implemented"
                    ],
                    "type": "string"
                  }
                },
                "required": [
                  "type",
                  "message"
                ],
                "type": "object"
              }
            },
            "required": [
              "error"
            ],
            "type": "object"
          }
        }
      },
      "description": "Authentication required"
    },
    "403": {
      "content": {
        "application/json": {
          "example": {
            "error": {
              "message": "Access denied",
              "type": "authorization_error"
            }
          },
          "schema": {
            "description": "Standard error response format",
            "properties": {
              "error": {
                "description": "Error details",
                "properties": {
                  "docs_url": {
                    "description": "Link to relevant documentation",
                    "format": "uri",
                    "type": "string"
                  },
                  "message": {
                    "description": "Human-readable error message",
                    "type": "string"
                  },
                  "request_id": {
                    "description": "Unique request identifier for debugging",
                    "type": "string"
                  },
                  "type": {
                    "description": "The category of error that occurred",
                    "enum": [
                      "authorization_error",
                      "validation_error",
                      "not_found",
                      "rate_limited",
                      "server_error",
                      "not_implemented"
                    ],
                    "type": "string"
                  }
                },
                "required": [
                  "type",
                  "message"
                ],
                "type": "object"
              }
            },
            "required": [
              "error"
            ],
            "type": "object"
          }
        }
      },
      "description": "Access denied"
    },
    "404": {
      "content": {
        "application/json": {
          "example": {
            "error": {
              "message": "Resource not found",
              "type": "not_found"
            }
          },
          "schema": {
            "description": "Standard error response format",
            "properties": {
              "error": {
                "description": "Error details",
                "properties": {
                  "docs_url": {
                    "description": "Link to relevant documentation",
                    "format": "uri",
                    "type": "string"
                  },
                  "message": {
                    "description": "Human-readable error message",
                    "type": "string"
                  },
                  "request_id": {
                    "description": "Unique request identifier for debugging",
                    "type": "string"
                  },
                  "type": {
                    "description": "The category of error that occurred",
                    "enum": [
                      "authorization_error",
                      "validation_error",
                      "not_found",
                      "rate_limited",
                      "server_error",
                      "not_implemented"
                    ],
                    "type": "string"
                  }
                },
                "required": [
                  "type",
                  "message"
                ],
                "type": "object"
              }
            },
            "required": [
              "error"
            ],
            "type": "object"
          }
        }
      },
      "description": "Resource not found"
    },
    "429": {
      "content": {
        "application/json": {
          "example": {
            "error": {
              "message": "Rate limit exceeded",
              "type": "rate_limited"
            }
          },
          "schema": {
            "description": "Standard error response format",
            "properties": {
              "error": {
                "description": "Error details",
                "properties": {
                  "docs_url": {
                    "description": "Link to relevant documentation",
                    "format": "uri",
                    "type": "string"
                  },
                  "message": {
                    "description": "Human-readable error message",
                    "type": "string"
                  },
                  "request_id": {
                    "description": "Unique request identifier for debugging",
                    "type": "string"
                  },
                  "type": {
                    "description": "The category of error that occurred",
                    "enum": [
                      "authorization_error",
                      "validation_error",
                      "not_found",
                      "rate_limited",
                      "server_error",
                      "not_implemented"
                    ],
                    "type": "string"
                  }
                },
                "required": [
                  "type",
                  "message"
                ],
                "type": "object"
              }
            },
            "required": [
              "error"
            ],
            "type": "object"
          }
        }
      },
      "description": "Rate limit exceeded"
    }
  },
  "security": [
    {
      "adminApiKey": []
    }
  ],
  "summary": "Billing Events",
  "tags": [
    "Models",
    "Usage"
  ]
}
