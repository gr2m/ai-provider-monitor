{
  "operationId": "create-realtime-client-secret",
  "requestBody": {
    "content": {
      "application/json": {
        "schema": {
          "description": "Create a session and client secret for the Realtime API. The request can specify\neither a realtime or a transcription session configuration.\n[Learn more about the Realtime API](/docs/guides/realtime).\n",
          "properties": {
            "expires_after": {
              "description": "Configuration for the client secret expiration. Expiration refers to the time after which\na client secret will no longer be valid for creating sessions. The session itself may\ncontinue after that time once started. A secret can be used to create multiple sessions\nuntil it expires.\n",
              "properties": {
                "anchor": {
                  "default": "created_at",
                  "description": "The anchor point for the client secret expiration, meaning that `seconds` will be added to the `created_at` time of the client secret to produce an expiration timestamp. Only `created_at` is currently supported.\n",
                  "enum": [
                    "created_at"
                  ],
                  "type": "string"
                },
                "seconds": {
                  "default": 600,
                  "description": "The number of seconds from the anchor point to the expiration. Select a value between `10` and `7200` (2 hours). This default to 600 seconds (10 minutes) if not specified.\n",
                  "maximum": 7200,
                  "minimum": 10,
                  "type": "integer"
                }
              },
              "title": "Client secret expiration",
              "type": "object"
            },
            "session": {
              "description": "Session configuration to use for the client secret. Choose either a realtime\nsession or a transcription session.\n",
              "oneOf": [
                {
                  "description": "Realtime session object configuration.",
                  "properties": {
                    "audio": {
                      "description": "Configuration for input and output audio.\n",
                      "properties": {
                        "input": {
                          "properties": {
                            "format": {
                              "description": "The format of the input audio.",
                              "anyOf": [
                                {
                                  "description": "The PCM audio format. Only a 24kHz sample rate is supported.",
                                  "properties": {
                                    "rate": {
                                      "description": "The sample rate of the audio. Always `24000`.",
                                      "enum": [
                                        24000
                                      ],
                                      "type": "integer"
                                    },
                                    "type": {
                                      "description": "The audio format. Always `audio/pcm`.",
                                      "enum": [
                                        "audio/pcm"
                                      ],
                                      "type": "string"
                                    }
                                  },
                                  "title": "PCM audio format",
                                  "type": "object"
                                },
                                {
                                  "description": "The G.711 μ-law format.",
                                  "properties": {
                                    "type": {
                                      "description": "The audio format. Always `audio/pcmu`.",
                                      "enum": [
                                        "audio/pcmu"
                                      ],
                                      "type": "string"
                                    }
                                  },
                                  "title": "PCMU audio format",
                                  "type": "object"
                                },
                                {
                                  "description": "The G.711 A-law format.",
                                  "properties": {
                                    "type": {
                                      "description": "The audio format. Always `audio/pcma`.",
                                      "enum": [
                                        "audio/pcma"
                                      ],
                                      "type": "string"
                                    }
                                  },
                                  "title": "PCMA audio format",
                                  "type": "object"
                                }
                              ]
                            },
                            "noise_reduction": {
                              "default": null,
                              "description": "Configuration for input audio noise reduction. This can be set to `null` to turn off.\nNoise reduction filters audio added to the input audio buffer before it is sent to VAD and the model.\nFiltering the audio can improve VAD and turn detection accuracy (reducing false positives) and model performance by improving perception of the input audio.\n",
                              "properties": {
                                "type": {
                                  "description": "Type of noise reduction. `near_field` is for close-talking microphones such as headphones, `far_field` is for far-field microphones such as laptop or conference room microphones.\n",
                                  "enum": [
                                    "near_field",
                                    "far_field"
                                  ],
                                  "type": "string"
                                }
                              },
                              "type": "object"
                            },
                            "transcription": {
                              "properties": {
                                "language": {
                                  "description": "The language of the input audio. Supplying the input language in\n[ISO-639-1](https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes) (e.g. `en`) format\nwill improve accuracy and latency.\n",
                                  "type": "string"
                                },
                                "model": {
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "enum": [
                                        "whisper-1",
                                        "gpt-4o-mini-transcribe",
                                        "gpt-4o-mini-transcribe-2025-12-15",
                                        "gpt-4o-transcribe",
                                        "gpt-4o-transcribe-diarize"
                                      ],
                                      "type": "string"
                                    }
                                  ],
                                  "description": "The model to use for transcription. Current options are `whisper-1`, `gpt-4o-mini-transcribe`, `gpt-4o-mini-transcribe-2025-12-15`, `gpt-4o-transcribe`, and `gpt-4o-transcribe-diarize`. Use `gpt-4o-transcribe-diarize` when you need diarization with speaker labels.\n"
                                },
                                "prompt": {
                                  "description": "An optional text to guide the model's style or continue a previous audio\nsegment.\nFor `whisper-1`, the [prompt is a list of keywords](/docs/guides/speech-to-text#prompting).\nFor `gpt-4o-transcribe` models (excluding `gpt-4o-transcribe-diarize`), the prompt is a free text string, for example \"expect words related to technology\".\n",
                                  "type": "string"
                                }
                              },
                              "type": "object",
                              "description": "Configuration for input audio transcription, defaults to off and can be set to `null` to turn off once on. Input audio transcription is not native to the model, since the model consumes audio directly. Transcription runs asynchronously through [the /audio/transcriptions endpoint](/docs/api-reference/audio/createTranscription) and should be treated as guidance of input audio content rather than precisely what the model heard. The client can optionally set the language and prompt for transcription, these offer additional guidance to the transcription service.\n"
                            },
                            "turn_detection": {
                              "anyOf": [
                                {
                                  "description": "Configuration for turn detection, ether Server VAD or Semantic VAD. This can be set to `null` to turn off, in which case the client must manually trigger model response.\n\nServer VAD means that the model will detect the start and end of speech based on audio volume and respond at the end of user speech.\n\nSemantic VAD is more advanced and uses a turn detection model (in conjunction with VAD) to semantically estimate whether the user has finished speaking, then dynamically sets a timeout based on this probability. For example, if user audio trails off with \"uhhm\", the model will score a low probability of turn end and wait longer for the user to continue speaking. This can be useful for more natural conversations, but may have a higher latency.\n",
                                  "discriminator": {
                                    "propertyName": "type"
                                  },
                                  "oneOf": [
                                    {
                                      "description": "Server-side voice activity detection (VAD) which flips on when user speech is detected and off after a period of silence.",
                                      "properties": {
                                        "create_response": {
                                          "default": true,
                                          "description": "Whether or not to automatically generate a response when a VAD stop event occurs. If `interrupt_response` is set to `false` this may fail to create a response if the model is already responding.\n\nIf both `create_response` and `interrupt_response` are set to `false`, the model will never respond automatically but VAD events will still be emitted.\n",
                                          "type": "boolean"
                                        },
                                        "idle_timeout_ms": {
                                          "anyOf": [
                                            {
                                              "description": "Optional timeout after which a model response will be triggered automatically. This is\nuseful for situations in which a long pause from the user is unexpected, such as a phone\ncall. The model will effectively prompt the user to continue the conversation based\non the current context.\n\nThe timeout value will be applied after the last model response's audio has finished playing,\ni.e. it's set to the `response.done` time plus audio playback duration.\n\nAn `input_audio_buffer.timeout_triggered` event (plus events\nassociated with the Response) will be emitted when the timeout is reached.\nIdle timeout is currently only supported for `server_vad` mode.\n",
                                              "maximum": 30000,
                                              "minimum": 5000,
                                              "type": "integer"
                                            },
                                            {
                                              "type": "null"
                                            }
                                          ]
                                        },
                                        "interrupt_response": {
                                          "default": true,
                                          "description": "Whether or not to automatically interrupt (cancel) any ongoing response with output to the default\nconversation (i.e. `conversation` of `auto`) when a VAD start event occurs. If `true` then the response will be cancelled, otherwise it will continue until complete.\n\nIf both `create_response` and `interrupt_response` are set to `false`, the model will never respond automatically but VAD events will still be emitted.\n",
                                          "type": "boolean"
                                        },
                                        "prefix_padding_ms": {
                                          "description": "Used only for `server_vad` mode. Amount of audio to include before the VAD detected speech (in\nmilliseconds). Defaults to 300ms.\n",
                                          "type": "integer"
                                        },
                                        "silence_duration_ms": {
                                          "description": "Used only for `server_vad` mode. Duration of silence to detect speech stop (in milliseconds). Defaults\nto 500ms. With shorter values the model will respond more quickly,\nbut may jump in on short pauses from the user.\n",
                                          "type": "integer"
                                        },
                                        "threshold": {
                                          "description": "Used only for `server_vad` mode. Activation threshold for VAD (0.0 to 1.0), this defaults to 0.5. A\nhigher threshold will require louder audio to activate the model, and\nthus might perform better in noisy environments.\n",
                                          "type": "number"
                                        },
                                        "type": {
                                          "const": "server_vad",
                                          "default": "server_vad",
                                          "description": "Type of turn detection, `server_vad` to turn on simple Server VAD.\n",
                                          "type": "string"
                                        }
                                      },
                                      "required": [
                                        "type"
                                      ],
                                      "title": "Server VAD",
                                      "type": "object"
                                    },
                                    {
                                      "description": "Server-side semantic turn detection which uses a model to determine when the user has finished speaking.",
                                      "properties": {
                                        "create_response": {
                                          "default": true,
                                          "description": "Whether or not to automatically generate a response when a VAD stop event occurs.\n",
                                          "type": "boolean"
                                        },
                                        "eagerness": {
                                          "default": "auto",
                                          "description": "Used only for `semantic_vad` mode. The eagerness of the model to respond. `low` will wait longer for the user to continue speaking, `high` will respond more quickly. `auto` is the default and is equivalent to `medium`. `low`, `medium`, and `high` have max timeouts of 8s, 4s, and 2s respectively.\n",
                                          "enum": [
                                            "low",
                                            "medium",
                                            "high",
                                            "auto"
                                          ],
                                          "type": "string"
                                        },
                                        "interrupt_response": {
                                          "default": true,
                                          "description": "Whether or not to automatically interrupt any ongoing response with output to the default\nconversation (i.e. `conversation` of `auto`) when a VAD start event occurs.\n",
                                          "type": "boolean"
                                        },
                                        "type": {
                                          "const": "semantic_vad",
                                          "description": "Type of turn detection, `semantic_vad` to turn on Semantic VAD.\n",
                                          "type": "string"
                                        }
                                      },
                                      "required": [
                                        "type"
                                      ],
                                      "title": "Semantic VAD",
                                      "type": "object"
                                    }
                                  ],
                                  "title": "Realtime Turn Detection"
                                },
                                {
                                  "type": "null"
                                }
                              ]
                            }
                          },
                          "type": "object"
                        },
                        "output": {
                          "properties": {
                            "format": {
                              "description": "The format of the output audio.",
                              "anyOf": [
                                {
                                  "description": "The PCM audio format. Only a 24kHz sample rate is supported.",
                                  "properties": {
                                    "rate": {
                                      "description": "The sample rate of the audio. Always `24000`.",
                                      "enum": [
                                        24000
                                      ],
                                      "type": "integer"
                                    },
                                    "type": {
                                      "description": "The audio format. Always `audio/pcm`.",
                                      "enum": [
                                        "audio/pcm"
                                      ],
                                      "type": "string"
                                    }
                                  },
                                  "title": "PCM audio format",
                                  "type": "object"
                                },
                                {
                                  "description": "The G.711 μ-law format.",
                                  "properties": {
                                    "type": {
                                      "description": "The audio format. Always `audio/pcmu`.",
                                      "enum": [
                                        "audio/pcmu"
                                      ],
                                      "type": "string"
                                    }
                                  },
                                  "title": "PCMU audio format",
                                  "type": "object"
                                },
                                {
                                  "description": "The G.711 A-law format.",
                                  "properties": {
                                    "type": {
                                      "description": "The audio format. Always `audio/pcma`.",
                                      "enum": [
                                        "audio/pcma"
                                      ],
                                      "type": "string"
                                    }
                                  },
                                  "title": "PCMA audio format",
                                  "type": "object"
                                }
                              ]
                            },
                            "speed": {
                              "default": 1,
                              "description": "The speed of the model's spoken response as a multiple of the original speed.\n1.0 is the default speed. 0.25 is the minimum speed. 1.5 is the maximum speed. This value can only be changed in between model turns, not while a response is in progress.\n\nThis parameter is a post-processing adjustment to the audio after it is generated, it's\nalso possible to prompt the model to speak faster or slower.\n",
                              "maximum": 1.5,
                              "minimum": 0.25,
                              "type": "number"
                            },
                            "voice": {
                              "default": "alloy",
                              "description": "The voice the model uses to respond. Supported built-in voices are\n`alloy`, `ash`, `ballad`, `coral`, `echo`, `sage`, `shimmer`, `verse`,\n`marin`, and `cedar`. You may also provide a custom voice object with\nan `id`, for example `{ \"id\": \"voice_1234\" }`. Voice cannot be changed\nduring the session once the model has responded with audio at least once.\nWe recommend `marin` and `cedar` for best quality.\n",
                              "anyOf": [
                                {
                                  "allOf": [
                                    {
                                      "anyOf": [
                                        {
                                          "type": "string"
                                        },
                                        {
                                          "enum": [
                                            "alloy",
                                            "ash",
                                            "ballad",
                                            "coral",
                                            "echo",
                                            "sage",
                                            "shimmer",
                                            "verse",
                                            "marin",
                                            "cedar"
                                          ],
                                          "type": "string"
                                        }
                                      ],
                                      "example": "ash"
                                    }
                                  ],
                                  "type": "string"
                                },
                                {
                                  "additionalProperties": false,
                                  "description": "Custom voice reference.",
                                  "properties": {
                                    "id": {
                                      "description": "The custom voice ID, e.g. `voice_1234`.",
                                      "example": "voice_1234",
                                      "type": "string"
                                    }
                                  },
                                  "required": [
                                    "id"
                                  ],
                                  "type": "object"
                                }
                              ],
                              "title": "Voice"
                            }
                          },
                          "type": "object"
                        }
                      },
                      "type": "object"
                    },
                    "include": {
                      "description": "Additional fields to include in server outputs.\n\n`item.input_audio_transcription.logprobs`: Include logprobs for input audio transcription.\n",
                      "items": {
                        "enum": [
                          "item.input_audio_transcription.logprobs"
                        ],
                        "type": "string"
                      },
                      "type": "array"
                    },
                    "instructions": {
                      "description": "The default system instructions (i.e. system message) prepended to model calls. This field allows the client to guide the model on desired responses. The model can be instructed on response content and format, (e.g. \"be extremely succinct\", \"act friendly\", \"here are examples of good responses\") and on audio behavior (e.g. \"talk quickly\", \"inject emotion into your voice\", \"laugh frequently\"). The instructions are not guaranteed to be followed by the model, but they provide guidance to the model on the desired behavior.\n\nNote that the server sets default instructions which will be used if this field is not set and are visible in the `session.created` event at the start of the session.\n",
                      "type": "string"
                    },
                    "max_output_tokens": {
                      "description": "Maximum number of output tokens for a single assistant response,\ninclusive of tool calls. Provide an integer between 1 and 4096 to\nlimit output tokens, or `inf` for the maximum available tokens for a\ngiven model. Defaults to `inf`.\n",
                      "oneOf": [
                        {
                          "type": "integer"
                        },
                        {
                          "enum": [
                            "inf"
                          ],
                          "type": "string"
                        }
                      ]
                    },
                    "model": {
                      "anyOf": [
                        {
                          "type": "string"
                        },
                        {
                          "enum": [
                            "gpt-realtime",
                            "gpt-realtime-1.5",
                            "gpt-realtime-2025-08-28",
                            "gpt-4o-realtime-preview",
                            "gpt-4o-realtime-preview-2024-10-01",
                            "gpt-4o-realtime-preview-2024-12-17",
                            "gpt-4o-realtime-preview-2025-06-03",
                            "gpt-4o-mini-realtime-preview",
                            "gpt-4o-mini-realtime-preview-2024-12-17",
                            "gpt-realtime-mini",
                            "gpt-realtime-mini-2025-10-06",
                            "gpt-realtime-mini-2025-12-15",
                            "gpt-audio-1.5",
                            "gpt-audio-mini",
                            "gpt-audio-mini-2025-10-06",
                            "gpt-audio-mini-2025-12-15"
                          ],
                          "type": "string"
                        }
                      ],
                      "description": "The Realtime model used for this session.\n"
                    },
                    "output_modalities": {
                      "default": [
                        "audio"
                      ],
                      "description": "The set of modalities the model can respond with. It defaults to `[\"audio\"]`, indicating\nthat the model will respond with audio plus a transcript. `[\"text\"]` can be used to make\nthe model respond with text only. It is not possible to request both `text` and `audio` at the same time.\n",
                      "items": {
                        "enum": [
                          "text",
                          "audio"
                        ],
                        "type": "string"
                      },
                      "type": "array"
                    },
                    "prompt": {
                      "anyOf": [
                        {
                          "description": "Reference to a prompt template and its variables.\n[Learn more](/docs/guides/text?api-mode=responses#reusable-prompts).\n",
                          "properties": {
                            "id": {
                              "description": "The unique identifier of the prompt template to use.",
                              "type": "string"
                            },
                            "variables": {
                              "anyOf": [
                                {
                                  "additionalProperties": {
                                    "oneOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "description": "A text input to the model.",
                                        "properties": {
                                          "text": {
                                            "description": "The text input to the model.",
                                            "type": "string"
                                          },
                                          "type": {
                                            "default": "input_text",
                                            "description": "The type of the input item. Always `input_text`.",
                                            "enum": [
                                              "input_text"
                                            ],
                                            "type": "string"
                                          }
                                        },
                                        "required": [
                                          "type",
                                          "text"
                                        ],
                                        "title": "Input text",
                                        "type": "object"
                                      },
                                      {
                                        "description": "An image input to the model. Learn about [image inputs](/docs/guides/vision).",
                                        "properties": {
                                          "detail": {
                                            "description": "The detail level of the image to be sent to the model. One of `high`, `low`, or `auto`. Defaults to `auto`.",
                                            "enum": [
                                              "low",
                                              "high",
                                              "auto"
                                            ],
                                            "type": "string"
                                          },
                                          "file_id": {
                                            "anyOf": [
                                              {
                                                "description": "The ID of the file to be sent to the model.",
                                                "type": "string"
                                              },
                                              {
                                                "type": "null"
                                              }
                                            ]
                                          },
                                          "image_url": {
                                            "anyOf": [
                                              {
                                                "description": "The URL of the image to be sent to the model. A fully qualified URL or base64 encoded image in a data URL.",
                                                "type": "string"
                                              },
                                              {
                                                "type": "null"
                                              }
                                            ]
                                          },
                                          "type": {
                                            "default": "input_image",
                                            "description": "The type of the input item. Always `input_image`.",
                                            "enum": [
                                              "input_image"
                                            ],
                                            "type": "string"
                                          }
                                        },
                                        "required": [
                                          "type",
                                          "detail"
                                        ],
                                        "title": "Input image",
                                        "type": "object"
                                      },
                                      {
                                        "description": "A file input to the model.",
                                        "properties": {
                                          "file_data": {
                                            "description": "The content of the file to be sent to the model.\n",
                                            "type": "string"
                                          },
                                          "file_id": {
                                            "anyOf": [
                                              {
                                                "description": "The ID of the file to be sent to the model.",
                                                "type": "string"
                                              },
                                              {
                                                "type": "null"
                                              }
                                            ]
                                          },
                                          "file_url": {
                                            "description": "The URL of the file to be sent to the model.",
                                            "type": "string"
                                          },
                                          "filename": {
                                            "description": "The name of the file to be sent to the model.",
                                            "type": "string"
                                          },
                                          "type": {
                                            "default": "input_file",
                                            "description": "The type of the input item. Always `input_file`.",
                                            "enum": [
                                              "input_file"
                                            ],
                                            "type": "string"
                                          }
                                        },
                                        "required": [
                                          "type"
                                        ],
                                        "title": "Input file",
                                        "type": "object"
                                      }
                                    ]
                                  },
                                  "description": "Optional map of values to substitute in for variables in your\nprompt. The substitution values can either be strings, or other\nResponse input types like images or files.\n",
                                  "title": "Prompt Variables",
                                  "type": "object"
                                },
                                {
                                  "type": "null"
                                }
                              ]
                            },
                            "version": {
                              "anyOf": [
                                {
                                  "description": "Optional version of the prompt template.",
                                  "type": "string"
                                },
                                {
                                  "type": "null"
                                }
                              ]
                            }
                          },
                          "required": [
                            "id"
                          ],
                          "type": "object"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "tool_choice": {
                      "default": "auto",
                      "description": "How the model chooses tools. Provide one of the string modes or force a specific\nfunction/MCP tool.\n",
                      "oneOf": [
                        {
                          "description": "Controls which (if any) tool is called by the model.\n\n`none` means the model will not call any tool and instead generates a message.\n\n`auto` means the model can pick between generating a message or calling one or\nmore tools.\n\n`required` means the model must call one or more tools.\n",
                          "enum": [
                            "none",
                            "auto",
                            "required"
                          ],
                          "title": "Tool choice mode",
                          "type": "string"
                        },
                        {
                          "description": "Use this option to force the model to call a specific function.\n",
                          "properties": {
                            "name": {
                              "description": "The name of the function to call.",
                              "type": "string"
                            },
                            "type": {
                              "description": "For function calling, the type is always `function`.",
                              "enum": [
                                "function"
                              ],
                              "type": "string"
                            }
                          },
                          "required": [
                            "type",
                            "name"
                          ],
                          "title": "Function tool",
                          "type": "object"
                        },
                        {
                          "description": "Use this option to force the model to call a specific tool on a remote MCP server.\n",
                          "properties": {
                            "name": {
                              "anyOf": [
                                {
                                  "description": "The name of the tool to call on the server.\n",
                                  "type": "string"
                                },
                                {
                                  "type": "null"
                                }
                              ]
                            },
                            "server_label": {
                              "description": "The label of the MCP server to use.\n",
                              "type": "string"
                            },
                            "type": {
                              "description": "For MCP tools, the type is always `mcp`.",
                              "enum": [
                                "mcp"
                              ],
                              "type": "string"
                            }
                          },
                          "required": [
                            "type",
                            "server_label"
                          ],
                          "title": "MCP tool",
                          "type": "object"
                        }
                      ]
                    },
                    "tools": {
                      "description": "Tools available to the model.",
                      "items": {
                        "oneOf": [
                          {
                            "properties": {
                              "description": {
                                "description": "The description of the function, including guidance on when and how\nto call it, and guidance about what to tell the user when calling\n(if anything).\n",
                                "type": "string"
                              },
                              "name": {
                                "description": "The name of the function.",
                                "type": "string"
                              },
                              "parameters": {
                                "description": "Parameters of the function in JSON Schema.",
                                "type": "object"
                              },
                              "type": {
                                "description": "The type of the tool, i.e. `function`.",
                                "enum": [
                                  "function"
                                ],
                                "type": "string"
                              }
                            },
                            "title": "Function tool",
                            "type": "object"
                          },
                          {
                            "description": "Give the model access to additional tools via remote Model Context Protocol\n(MCP) servers. [Learn more about MCP](/docs/guides/tools-remote-mcp).\n",
                            "properties": {
                              "allowed_tools": {
                                "anyOf": [
                                  {
                                    "description": "List of allowed tool names or a filter object.\n",
                                    "oneOf": [
                                      {
                                        "description": "A string array of allowed tool names",
                                        "items": {
                                          "type": "string"
                                        },
                                        "title": "MCP allowed tools",
                                        "type": "array"
                                      },
                                      {
                                        "additionalProperties": false,
                                        "description": "A filter object to specify which tools are allowed.\n",
                                        "properties": {
                                          "read_only": {
                                            "description": "Indicates whether or not a tool modifies data or is read-only. If an\nMCP server is [annotated with `readOnlyHint`](https://modelcontextprotocol.io/specification/2025-06-18/schema#toolannotations-readonlyhint),\nit will match this filter.\n",
                                            "type": "boolean"
                                          },
                                          "tool_names": {
                                            "description": "List of allowed tool names.",
                                            "items": {
                                              "type": "string"
                                            },
                                            "title": "MCP allowed tools",
                                            "type": "array"
                                          }
                                        },
                                        "required": [],
                                        "title": "MCP tool filter",
                                        "type": "object"
                                      }
                                    ]
                                  },
                                  {
                                    "type": "null"
                                  }
                                ]
                              },
                              "authorization": {
                                "description": "An OAuth access token that can be used with a remote MCP server, either\nwith a custom MCP server URL or a service connector. Your application\nmust handle the OAuth authorization flow and provide the token here.\n",
                                "type": "string"
                              },
                              "connector_id": {
                                "description": "Identifier for service connectors, like those available in ChatGPT. One of\n`server_url` or `connector_id` must be provided. Learn more about service\nconnectors [here](/docs/guides/tools-remote-mcp#connectors).\n\nCurrently supported `connector_id` values are:\n\n- Dropbox: `connector_dropbox`\n- Gmail: `connector_gmail`\n- Google Calendar: `connector_googlecalendar`\n- Google Drive: `connector_googledrive`\n- Microsoft Teams: `connector_microsoftteams`\n- Outlook Calendar: `connector_outlookcalendar`\n- Outlook Email: `connector_outlookemail`\n- SharePoint: `connector_sharepoint`\n",
                                "enum": [
                                  "connector_dropbox",
                                  "connector_gmail",
                                  "connector_googlecalendar",
                                  "connector_googledrive",
                                  "connector_microsoftteams",
                                  "connector_outlookcalendar",
                                  "connector_outlookemail",
                                  "connector_sharepoint"
                                ],
                                "type": "string"
                              },
                              "headers": {
                                "anyOf": [
                                  {
                                    "additionalProperties": {
                                      "type": "string"
                                    },
                                    "description": "Optional HTTP headers to send to the MCP server. Use for authentication\nor other purposes.\n",
                                    "type": "object"
                                  },
                                  {
                                    "type": "null"
                                  }
                                ]
                              },
                              "require_approval": {
                                "anyOf": [
                                  {
                                    "default": "always",
                                    "description": "Specify which of the MCP server's tools require approval.",
                                    "oneOf": [
                                      {
                                        "additionalProperties": false,
                                        "description": "Specify which of the MCP server's tools require approval. Can be\n`always`, `never`, or a filter object associated with tools\nthat require approval.\n",
                                        "properties": {
                                          "always": {
                                            "additionalProperties": false,
                                            "description": "A filter object to specify which tools are allowed.\n",
                                            "properties": {
                                              "read_only": {
                                                "description": "Indicates whether or not a tool modifies data or is read-only. If an\nMCP server is [annotated with `readOnlyHint`](https://modelcontextprotocol.io/specification/2025-06-18/schema#toolannotations-readonlyhint),\nit will match this filter.\n",
                                                "type": "boolean"
                                              },
                                              "tool_names": {
                                                "description": "List of allowed tool names.",
                                                "items": {
                                                  "type": "string"
                                                },
                                                "title": "MCP allowed tools",
                                                "type": "array"
                                              }
                                            },
                                            "required": [],
                                            "title": "MCP tool filter",
                                            "type": "object"
                                          },
                                          "never": {
                                            "additionalProperties": false,
                                            "description": "A filter object to specify which tools are allowed.\n",
                                            "properties": {
                                              "read_only": {
                                                "description": "Indicates whether or not a tool modifies data or is read-only. If an\nMCP server is [annotated with `readOnlyHint`](https://modelcontextprotocol.io/specification/2025-06-18/schema#toolannotations-readonlyhint),\nit will match this filter.\n",
                                                "type": "boolean"
                                              },
                                              "tool_names": {
                                                "description": "List of allowed tool names.",
                                                "items": {
                                                  "type": "string"
                                                },
                                                "title": "MCP allowed tools",
                                                "type": "array"
                                              }
                                            },
                                            "required": [],
                                            "title": "MCP tool filter",
                                            "type": "object"
                                          }
                                        },
                                        "title": "MCP tool approval filter",
                                        "type": "object"
                                      },
                                      {
                                        "description": "Specify a single approval policy for all tools. One of `always` or\n`never`. When set to `always`, all tools will require approval. When\nset to `never`, all tools will not require approval.\n",
                                        "enum": [
                                          "always",
                                          "never"
                                        ],
                                        "title": "MCP tool approval setting",
                                        "type": "string"
                                      }
                                    ]
                                  },
                                  {
                                    "type": "null"
                                  }
                                ]
                              },
                              "server_description": {
                                "description": "Optional description of the MCP server, used to provide more context.\n",
                                "type": "string"
                              },
                              "server_label": {
                                "description": "A label for this MCP server, used to identify it in tool calls.\n",
                                "type": "string"
                              },
                              "server_url": {
                                "description": "The URL for the MCP server. One of `server_url` or `connector_id` must be\nprovided.\n",
                                "type": "string"
                              },
                              "type": {
                                "description": "The type of the MCP tool. Always `mcp`.",
                                "enum": [
                                  "mcp"
                                ],
                                "type": "string"
                              }
                            },
                            "required": [
                              "type",
                              "server_label"
                            ],
                            "title": "MCP tool",
                            "type": "object"
                          }
                        ]
                      },
                      "type": "array"
                    },
                    "tracing": {
                      "default": null,
                      "description": "Realtime API can write session traces to the [Traces Dashboard](/logs?api=traces). Set to null to disable tracing. Once\ntracing is enabled for a session, the configuration cannot be modified.\n\n`auto` will create a trace for the session with default values for the\nworkflow name, group id, and metadata.\n",
                      "nullable": true,
                      "oneOf": [
                        {
                          "default": "auto",
                          "description": "Enables tracing and sets default values for tracing configuration options. Always `auto`.\n",
                          "enum": [
                            "auto"
                          ],
                          "title": "auto",
                          "type": "string"
                        },
                        {
                          "description": "Granular configuration for tracing.\n",
                          "properties": {
                            "group_id": {
                              "description": "The group id to attach to this trace to enable filtering and\ngrouping in the Traces Dashboard.\n",
                              "type": "string"
                            },
                            "metadata": {
                              "description": "The arbitrary metadata to attach to this trace to enable\nfiltering in the Traces Dashboard.\n",
                              "type": "object"
                            },
                            "workflow_name": {
                              "description": "The name of the workflow to attach to this trace. This is used to\nname the trace in the Traces Dashboard.\n",
                              "type": "string"
                            }
                          },
                          "title": "Tracing Configuration",
                          "type": "object"
                        }
                      ],
                      "title": "Tracing Configuration"
                    },
                    "truncation": {
                      "description": "When the number of tokens in a conversation exceeds the model's input token limit, the conversation be truncated, meaning messages (starting from the oldest) will not be included in the model's context. A 32k context model with 4,096 max output tokens can only include 28,224 tokens in the context before truncation occurs.\n\nClients can configure truncation behavior to truncate with a lower max token limit, which is an effective way to control token usage and cost.\n\nTruncation will reduce the number of cached tokens on the next turn (busting the cache), since messages are dropped from the beginning of the context. However, clients can also configure truncation to retain messages up to a fraction of the maximum context size, which will reduce the need for future truncations and thus improve the cache rate.\n\nTruncation can be disabled entirely, which means the server will never truncate but would instead return an error if the conversation exceeds the model's input token limit.\n",
                      "oneOf": [
                        {
                          "description": "The truncation strategy to use for the session. `auto` is the default truncation strategy. `disabled` will disable truncation and emit errors when the conversation exceeds the input token limit.",
                          "enum": [
                            "auto",
                            "disabled"
                          ],
                          "type": "string"
                        },
                        {
                          "description": "Retain a fraction of the conversation tokens when the conversation exceeds the input token limit. This allows you to amortize truncations across multiple turns, which can help improve cached token usage.",
                          "properties": {
                            "retention_ratio": {
                              "description": "Fraction of post-instruction conversation tokens to retain (`0.0` - `1.0`) when the conversation exceeds the input token limit. Setting this to `0.8` means that messages will be dropped until 80% of the maximum allowed tokens are used. This helps reduce the frequency of truncations and improve cache rates.\n",
                              "maximum": 1,
                              "minimum": 0,
                              "type": "number"
                            },
                            "token_limits": {
                              "description": "Optional custom token limits for this truncation strategy. If not provided, the model's default token limits will be used.",
                              "properties": {
                                "post_instructions": {
                                  "description": "Maximum tokens allowed in the conversation after instructions (which including tool definitions). For example, setting this to 5,000 would mean that truncation would occur when the conversation exceeds 5,000 tokens after instructions. This cannot be higher than the model's context window size minus the maximum output tokens.",
                                  "minimum": 0,
                                  "type": "integer"
                                }
                              },
                              "type": "object"
                            },
                            "type": {
                              "description": "Use retention ratio truncation.",
                              "enum": [
                                "retention_ratio"
                              ],
                              "type": "string"
                            }
                          },
                          "required": [
                            "type",
                            "retention_ratio"
                          ],
                          "title": "Retention ratio truncation",
                          "type": "object"
                        }
                      ],
                      "title": "Realtime Truncation Controls"
                    },
                    "type": {
                      "description": "The type of session to create. Always `realtime` for the Realtime API.\n",
                      "enum": [
                        "realtime"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "type"
                  ],
                  "title": "Realtime session configuration",
                  "type": "object"
                },
                {
                  "description": "Realtime transcription session object configuration.",
                  "properties": {
                    "audio": {
                      "description": "Configuration for input and output audio.\n",
                      "properties": {
                        "input": {
                          "properties": {
                            "format": {
                              "anyOf": [
                                {
                                  "description": "The PCM audio format. Only a 24kHz sample rate is supported.",
                                  "properties": {
                                    "rate": {
                                      "description": "The sample rate of the audio. Always `24000`.",
                                      "enum": [
                                        24000
                                      ],
                                      "type": "integer"
                                    },
                                    "type": {
                                      "description": "The audio format. Always `audio/pcm`.",
                                      "enum": [
                                        "audio/pcm"
                                      ],
                                      "type": "string"
                                    }
                                  },
                                  "title": "PCM audio format",
                                  "type": "object"
                                },
                                {
                                  "description": "The G.711 μ-law format.",
                                  "properties": {
                                    "type": {
                                      "description": "The audio format. Always `audio/pcmu`.",
                                      "enum": [
                                        "audio/pcmu"
                                      ],
                                      "type": "string"
                                    }
                                  },
                                  "title": "PCMU audio format",
                                  "type": "object"
                                },
                                {
                                  "description": "The G.711 A-law format.",
                                  "properties": {
                                    "type": {
                                      "description": "The audio format. Always `audio/pcma`.",
                                      "enum": [
                                        "audio/pcma"
                                      ],
                                      "type": "string"
                                    }
                                  },
                                  "title": "PCMA audio format",
                                  "type": "object"
                                }
                              ]
                            },
                            "noise_reduction": {
                              "default": null,
                              "description": "Configuration for input audio noise reduction. This can be set to `null` to turn off.\nNoise reduction filters audio added to the input audio buffer before it is sent to VAD and the model.\nFiltering the audio can improve VAD and turn detection accuracy (reducing false positives) and model performance by improving perception of the input audio.\n",
                              "properties": {
                                "type": {
                                  "description": "Type of noise reduction. `near_field` is for close-talking microphones such as headphones, `far_field` is for far-field microphones such as laptop or conference room microphones.\n",
                                  "enum": [
                                    "near_field",
                                    "far_field"
                                  ],
                                  "type": "string"
                                }
                              },
                              "type": "object"
                            },
                            "transcription": {
                              "properties": {
                                "language": {
                                  "description": "The language of the input audio. Supplying the input language in\n[ISO-639-1](https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes) (e.g. `en`) format\nwill improve accuracy and latency.\n",
                                  "type": "string"
                                },
                                "model": {
                                  "anyOf": [
                                    {
                                      "type": "string"
                                    },
                                    {
                                      "enum": [
                                        "whisper-1",
                                        "gpt-4o-mini-transcribe",
                                        "gpt-4o-mini-transcribe-2025-12-15",
                                        "gpt-4o-transcribe",
                                        "gpt-4o-transcribe-diarize"
                                      ],
                                      "type": "string"
                                    }
                                  ],
                                  "description": "The model to use for transcription. Current options are `whisper-1`, `gpt-4o-mini-transcribe`, `gpt-4o-mini-transcribe-2025-12-15`, `gpt-4o-transcribe`, and `gpt-4o-transcribe-diarize`. Use `gpt-4o-transcribe-diarize` when you need diarization with speaker labels.\n"
                                },
                                "prompt": {
                                  "description": "An optional text to guide the model's style or continue a previous audio\nsegment.\nFor `whisper-1`, the [prompt is a list of keywords](/docs/guides/speech-to-text#prompting).\nFor `gpt-4o-transcribe` models (excluding `gpt-4o-transcribe-diarize`), the prompt is a free text string, for example \"expect words related to technology\".\n",
                                  "type": "string"
                                }
                              },
                              "type": "object",
                              "description": "Configuration for input audio transcription, defaults to off and can be set to `null` to turn off once on. Input audio transcription is not native to the model, since the model consumes audio directly. Transcription runs asynchronously through [the /audio/transcriptions endpoint](/docs/api-reference/audio/createTranscription) and should be treated as guidance of input audio content rather than precisely what the model heard. The client can optionally set the language and prompt for transcription, these offer additional guidance to the transcription service.\n"
                            },
                            "turn_detection": {
                              "anyOf": [
                                {
                                  "description": "Configuration for turn detection, ether Server VAD or Semantic VAD. This can be set to `null` to turn off, in which case the client must manually trigger model response.\n\nServer VAD means that the model will detect the start and end of speech based on audio volume and respond at the end of user speech.\n\nSemantic VAD is more advanced and uses a turn detection model (in conjunction with VAD) to semantically estimate whether the user has finished speaking, then dynamically sets a timeout based on this probability. For example, if user audio trails off with \"uhhm\", the model will score a low probability of turn end and wait longer for the user to continue speaking. This can be useful for more natural conversations, but may have a higher latency.\n",
                                  "discriminator": {
                                    "propertyName": "type"
                                  },
                                  "oneOf": [
                                    {
                                      "description": "Server-side voice activity detection (VAD) which flips on when user speech is detected and off after a period of silence.",
                                      "properties": {
                                        "create_response": {
                                          "default": true,
                                          "description": "Whether or not to automatically generate a response when a VAD stop event occurs. If `interrupt_response` is set to `false` this may fail to create a response if the model is already responding.\n\nIf both `create_response` and `interrupt_response` are set to `false`, the model will never respond automatically but VAD events will still be emitted.\n",
                                          "type": "boolean"
                                        },
                                        "idle_timeout_ms": {
                                          "anyOf": [
                                            {
                                              "description": "Optional timeout after which a model response will be triggered automatically. This is\nuseful for situations in which a long pause from the user is unexpected, such as a phone\ncall. The model will effectively prompt the user to continue the conversation based\non the current context.\n\nThe timeout value will be applied after the last model response's audio has finished playing,\ni.e. it's set to the `response.done` time plus audio playback duration.\n\nAn `input_audio_buffer.timeout_triggered` event (plus events\nassociated with the Response) will be emitted when the timeout is reached.\nIdle timeout is currently only supported for `server_vad` mode.\n",
                                              "maximum": 30000,
                                              "minimum": 5000,
                                              "type": "integer"
                                            },
                                            {
                                              "type": "null"
                                            }
                                          ]
                                        },
                                        "interrupt_response": {
                                          "default": true,
                                          "description": "Whether or not to automatically interrupt (cancel) any ongoing response with output to the default\nconversation (i.e. `conversation` of `auto`) when a VAD start event occurs. If `true` then the response will be cancelled, otherwise it will continue until complete.\n\nIf both `create_response` and `interrupt_response` are set to `false`, the model will never respond automatically but VAD events will still be emitted.\n",
                                          "type": "boolean"
                                        },
                                        "prefix_padding_ms": {
                                          "description": "Used only for `server_vad` mode. Amount of audio to include before the VAD detected speech (in\nmilliseconds). Defaults to 300ms.\n",
                                          "type": "integer"
                                        },
                                        "silence_duration_ms": {
                                          "description": "Used only for `server_vad` mode. Duration of silence to detect speech stop (in milliseconds). Defaults\nto 500ms. With shorter values the model will respond more quickly,\nbut may jump in on short pauses from the user.\n",
                                          "type": "integer"
                                        },
                                        "threshold": {
                                          "description": "Used only for `server_vad` mode. Activation threshold for VAD (0.0 to 1.0), this defaults to 0.5. A\nhigher threshold will require louder audio to activate the model, and\nthus might perform better in noisy environments.\n",
                                          "type": "number"
                                        },
                                        "type": {
                                          "const": "server_vad",
                                          "default": "server_vad",
                                          "description": "Type of turn detection, `server_vad` to turn on simple Server VAD.\n",
                                          "type": "string"
                                        }
                                      },
                                      "required": [
                                        "type"
                                      ],
                                      "title": "Server VAD",
                                      "type": "object"
                                    },
                                    {
                                      "description": "Server-side semantic turn detection which uses a model to determine when the user has finished speaking.",
                                      "properties": {
                                        "create_response": {
                                          "default": true,
                                          "description": "Whether or not to automatically generate a response when a VAD stop event occurs.\n",
                                          "type": "boolean"
                                        },
                                        "eagerness": {
                                          "default": "auto",
                                          "description": "Used only for `semantic_vad` mode. The eagerness of the model to respond. `low` will wait longer for the user to continue speaking, `high` will respond more quickly. `auto` is the default and is equivalent to `medium`. `low`, `medium`, and `high` have max timeouts of 8s, 4s, and 2s respectively.\n",
                                          "enum": [
                                            "low",
                                            "medium",
                                            "high",
                                            "auto"
                                          ],
                                          "type": "string"
                                        },
                                        "interrupt_response": {
                                          "default": true,
                                          "description": "Whether or not to automatically interrupt any ongoing response with output to the default\nconversation (i.e. `conversation` of `auto`) when a VAD start event occurs.\n",
                                          "type": "boolean"
                                        },
                                        "type": {
                                          "const": "semantic_vad",
                                          "description": "Type of turn detection, `semantic_vad` to turn on Semantic VAD.\n",
                                          "type": "string"
                                        }
                                      },
                                      "required": [
                                        "type"
                                      ],
                                      "title": "Semantic VAD",
                                      "type": "object"
                                    }
                                  ],
                                  "title": "Realtime Turn Detection"
                                },
                                {
                                  "type": "null"
                                }
                              ]
                            }
                          },
                          "type": "object"
                        }
                      },
                      "type": "object"
                    },
                    "include": {
                      "description": "Additional fields to include in server outputs.\n\n`item.input_audio_transcription.logprobs`: Include logprobs for input audio transcription.\n",
                      "items": {
                        "enum": [
                          "item.input_audio_transcription.logprobs"
                        ],
                        "type": "string"
                      },
                      "type": "array"
                    },
                    "type": {
                      "description": "The type of session to create. Always `transcription` for transcription sessions.\n",
                      "enum": [
                        "transcription"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "type"
                  ],
                  "title": "Realtime transcription session configuration",
                  "type": "object"
                }
              ],
              "title": "Session configuration"
            }
          },
          "title": "Realtime client secret creation request",
          "type": "object"
        }
      }
    },
    "description": "Create a client secret with the given session configuration.",
    "required": true
  },
  "responses": {
    "200": {
      "content": {
        "application/json": {
          "schema": {
            "description": "Response from creating a session and client secret for the Realtime API.\n",
            "properties": {
              "expires_at": {
                "description": "Expiration timestamp for the client secret, in seconds since epoch.",
                "type": "integer"
              },
              "session": {
                "description": "The session configuration for either a realtime or transcription session.\n",
                "discriminator": {
                  "propertyName": "type"
                },
                "oneOf": [
                  {
                    "description": "A new Realtime session configuration, with an ephemeral key. Default TTL\nfor keys is one minute.\n",
                    "properties": {
                      "audio": {
                        "description": "Configuration for input and output audio.\n",
                        "properties": {
                          "input": {
                            "properties": {
                              "format": {
                                "anyOf": [
                                  {
                                    "description": "The PCM audio format. Only a 24kHz sample rate is supported.",
                                    "properties": {
                                      "rate": {
                                        "description": "The sample rate of the audio. Always `24000`.",
                                        "enum": [
                                          24000
                                        ],
                                        "type": "integer"
                                      },
                                      "type": {
                                        "description": "The audio format. Always `audio/pcm`.",
                                        "enum": [
                                          "audio/pcm"
                                        ],
                                        "type": "string"
                                      }
                                    },
                                    "title": "PCM audio format",
                                    "type": "object"
                                  },
                                  {
                                    "description": "The G.711 μ-law format.",
                                    "properties": {
                                      "type": {
                                        "description": "The audio format. Always `audio/pcmu`.",
                                        "enum": [
                                          "audio/pcmu"
                                        ],
                                        "type": "string"
                                      }
                                    },
                                    "title": "PCMU audio format",
                                    "type": "object"
                                  },
                                  {
                                    "description": "The G.711 A-law format.",
                                    "properties": {
                                      "type": {
                                        "description": "The audio format. Always `audio/pcma`.",
                                        "enum": [
                                          "audio/pcma"
                                        ],
                                        "type": "string"
                                      }
                                    },
                                    "title": "PCMA audio format",
                                    "type": "object"
                                  }
                                ],
                                "description": "The format of the input audio."
                              },
                              "noise_reduction": {
                                "default": null,
                                "description": "Configuration for input audio noise reduction. This can be set to `null` to turn off.\nNoise reduction filters audio added to the input audio buffer before it is sent to VAD and the model.\nFiltering the audio can improve VAD and turn detection accuracy (reducing false positives) and model performance by improving perception of the input audio.\n",
                                "properties": {
                                  "type": {
                                    "description": "Type of noise reduction. `near_field` is for close-talking microphones such as headphones, `far_field` is for far-field microphones such as laptop or conference room microphones.\n",
                                    "enum": [
                                      "near_field",
                                      "far_field"
                                    ],
                                    "type": "string"
                                  }
                                },
                                "type": "object"
                              },
                              "transcription": {
                                "properties": {
                                  "language": {
                                    "description": "The language of the input audio. Supplying the input language in\n[ISO-639-1](https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes) (e.g. `en`) format\nwill improve accuracy and latency.\n",
                                    "type": "string"
                                  },
                                  "model": {
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "enum": [
                                          "whisper-1",
                                          "gpt-4o-mini-transcribe",
                                          "gpt-4o-mini-transcribe-2025-12-15",
                                          "gpt-4o-transcribe",
                                          "gpt-4o-transcribe-diarize"
                                        ],
                                        "type": "string"
                                      }
                                    ],
                                    "description": "The model to use for transcription. Current options are `whisper-1`, `gpt-4o-mini-transcribe`, `gpt-4o-mini-transcribe-2025-12-15`, `gpt-4o-transcribe`, and `gpt-4o-transcribe-diarize`. Use `gpt-4o-transcribe-diarize` when you need diarization with speaker labels.\n"
                                  },
                                  "prompt": {
                                    "description": "An optional text to guide the model's style or continue a previous audio\nsegment.\nFor `whisper-1`, the [prompt is a list of keywords](/docs/guides/speech-to-text#prompting).\nFor `gpt-4o-transcribe` models (excluding `gpt-4o-transcribe-diarize`), the prompt is a free text string, for example \"expect words related to technology\".\n",
                                    "type": "string"
                                  }
                                },
                                "type": "object",
                                "description": "Configuration for input audio transcription, defaults to off and can be set to `null` to turn off once on. Input audio transcription is not native to the model, since the model consumes audio directly. Transcription runs asynchronously through [the /audio/transcriptions endpoint](/docs/api-reference/audio/createTranscription) and should be treated as guidance of input audio content rather than precisely what the model heard. The client can optionally set the language and prompt for transcription, these offer additional guidance to the transcription service.\n"
                              },
                              "turn_detection": {
                                "anyOf": [
                                  {
                                    "description": "Configuration for turn detection, ether Server VAD or Semantic VAD. This can be set to `null` to turn off, in which case the client must manually trigger model response.\n\nServer VAD means that the model will detect the start and end of speech based on audio volume and respond at the end of user speech.\n\nSemantic VAD is more advanced and uses a turn detection model (in conjunction with VAD) to semantically estimate whether the user has finished speaking, then dynamically sets a timeout based on this probability. For example, if user audio trails off with \"uhhm\", the model will score a low probability of turn end and wait longer for the user to continue speaking. This can be useful for more natural conversations, but may have a higher latency.\n",
                                    "discriminator": {
                                      "propertyName": "type"
                                    },
                                    "oneOf": [
                                      {
                                        "description": "Server-side voice activity detection (VAD) which flips on when user speech is detected and off after a period of silence.",
                                        "properties": {
                                          "create_response": {
                                            "default": true,
                                            "description": "Whether or not to automatically generate a response when a VAD stop event occurs. If `interrupt_response` is set to `false` this may fail to create a response if the model is already responding.\n\nIf both `create_response` and `interrupt_response` are set to `false`, the model will never respond automatically but VAD events will still be emitted.\n",
                                            "type": "boolean"
                                          },
                                          "idle_timeout_ms": {
                                            "anyOf": [
                                              {
                                                "description": "Optional timeout after which a model response will be triggered automatically. This is\nuseful for situations in which a long pause from the user is unexpected, such as a phone\ncall. The model will effectively prompt the user to continue the conversation based\non the current context.\n\nThe timeout value will be applied after the last model response's audio has finished playing,\ni.e. it's set to the `response.done` time plus audio playback duration.\n\nAn `input_audio_buffer.timeout_triggered` event (plus events\nassociated with the Response) will be emitted when the timeout is reached.\nIdle timeout is currently only supported for `server_vad` mode.\n",
                                                "maximum": 30000,
                                                "minimum": 5000,
                                                "type": "integer"
                                              },
                                              {
                                                "type": "null"
                                              }
                                            ]
                                          },
                                          "interrupt_response": {
                                            "default": true,
                                            "description": "Whether or not to automatically interrupt (cancel) any ongoing response with output to the default\nconversation (i.e. `conversation` of `auto`) when a VAD start event occurs. If `true` then the response will be cancelled, otherwise it will continue until complete.\n\nIf both `create_response` and `interrupt_response` are set to `false`, the model will never respond automatically but VAD events will still be emitted.\n",
                                            "type": "boolean"
                                          },
                                          "prefix_padding_ms": {
                                            "description": "Used only for `server_vad` mode. Amount of audio to include before the VAD detected speech (in\nmilliseconds). Defaults to 300ms.\n",
                                            "type": "integer"
                                          },
                                          "silence_duration_ms": {
                                            "description": "Used only for `server_vad` mode. Duration of silence to detect speech stop (in milliseconds). Defaults\nto 500ms. With shorter values the model will respond more quickly,\nbut may jump in on short pauses from the user.\n",
                                            "type": "integer"
                                          },
                                          "threshold": {
                                            "description": "Used only for `server_vad` mode. Activation threshold for VAD (0.0 to 1.0), this defaults to 0.5. A\nhigher threshold will require louder audio to activate the model, and\nthus might perform better in noisy environments.\n",
                                            "type": "number"
                                          },
                                          "type": {
                                            "const": "server_vad",
                                            "default": "server_vad",
                                            "description": "Type of turn detection, `server_vad` to turn on simple Server VAD.\n",
                                            "type": "string"
                                          }
                                        },
                                        "required": [
                                          "type"
                                        ],
                                        "title": "Server VAD",
                                        "type": "object"
                                      },
                                      {
                                        "description": "Server-side semantic turn detection which uses a model to determine when the user has finished speaking.",
                                        "properties": {
                                          "create_response": {
                                            "default": true,
                                            "description": "Whether or not to automatically generate a response when a VAD stop event occurs.\n",
                                            "type": "boolean"
                                          },
                                          "eagerness": {
                                            "default": "auto",
                                            "description": "Used only for `semantic_vad` mode. The eagerness of the model to respond. `low` will wait longer for the user to continue speaking, `high` will respond more quickly. `auto` is the default and is equivalent to `medium`. `low`, `medium`, and `high` have max timeouts of 8s, 4s, and 2s respectively.\n",
                                            "enum": [
                                              "low",
                                              "medium",
                                              "high",
                                              "auto"
                                            ],
                                            "type": "string"
                                          },
                                          "interrupt_response": {
                                            "default": true,
                                            "description": "Whether or not to automatically interrupt any ongoing response with output to the default\nconversation (i.e. `conversation` of `auto`) when a VAD start event occurs.\n",
                                            "type": "boolean"
                                          },
                                          "type": {
                                            "const": "semantic_vad",
                                            "description": "Type of turn detection, `semantic_vad` to turn on Semantic VAD.\n",
                                            "type": "string"
                                          }
                                        },
                                        "required": [
                                          "type"
                                        ],
                                        "title": "Semantic VAD",
                                        "type": "object"
                                      }
                                    ],
                                    "title": "Realtime Turn Detection"
                                  },
                                  {
                                    "type": "null"
                                  }
                                ]
                              }
                            },
                            "type": "object"
                          },
                          "output": {
                            "properties": {
                              "format": {
                                "anyOf": [
                                  {
                                    "description": "The PCM audio format. Only a 24kHz sample rate is supported.",
                                    "properties": {
                                      "rate": {
                                        "description": "The sample rate of the audio. Always `24000`.",
                                        "enum": [
                                          24000
                                        ],
                                        "type": "integer"
                                      },
                                      "type": {
                                        "description": "The audio format. Always `audio/pcm`.",
                                        "enum": [
                                          "audio/pcm"
                                        ],
                                        "type": "string"
                                      }
                                    },
                                    "title": "PCM audio format",
                                    "type": "object"
                                  },
                                  {
                                    "description": "The G.711 μ-law format.",
                                    "properties": {
                                      "type": {
                                        "description": "The audio format. Always `audio/pcmu`.",
                                        "enum": [
                                          "audio/pcmu"
                                        ],
                                        "type": "string"
                                      }
                                    },
                                    "title": "PCMU audio format",
                                    "type": "object"
                                  },
                                  {
                                    "description": "The G.711 A-law format.",
                                    "properties": {
                                      "type": {
                                        "description": "The audio format. Always `audio/pcma`.",
                                        "enum": [
                                          "audio/pcma"
                                        ],
                                        "type": "string"
                                      }
                                    },
                                    "title": "PCMA audio format",
                                    "type": "object"
                                  }
                                ],
                                "description": "The format of the output audio."
                              },
                              "speed": {
                                "default": 1,
                                "description": "The speed of the model's spoken response as a multiple of the original speed.\n1.0 is the default speed. 0.25 is the minimum speed. 1.5 is the maximum speed. This value can only be changed in between model turns, not while a response is in progress.\n\nThis parameter is a post-processing adjustment to the audio after it is generated, it's\nalso possible to prompt the model to speak faster or slower.\n",
                                "maximum": 1.5,
                                "minimum": 0.25,
                                "type": "number"
                              },
                              "voice": {
                                "anyOf": [
                                  {
                                    "type": "string"
                                  },
                                  {
                                    "enum": [
                                      "alloy",
                                      "ash",
                                      "ballad",
                                      "coral",
                                      "echo",
                                      "sage",
                                      "shimmer",
                                      "verse",
                                      "marin",
                                      "cedar"
                                    ],
                                    "type": "string"
                                  }
                                ],
                                "example": "ash",
                                "default": "alloy",
                                "description": "The voice the model uses to respond. Voice cannot be changed during the\nsession once the model has responded with audio at least once. Current\nvoice options are `alloy`, `ash`, `ballad`, `coral`, `echo`, `sage`,\n`shimmer`, `verse`, `marin`, and `cedar`. We recommend `marin` and `cedar` for\nbest quality.\n"
                              }
                            },
                            "type": "object"
                          }
                        },
                        "type": "object"
                      },
                      "client_secret": {
                        "description": "Ephemeral key returned by the API.",
                        "properties": {
                          "expires_at": {
                            "description": "Timestamp for when the token expires. Currently, all tokens expire\nafter one minute.\n",
                            "type": "integer"
                          },
                          "value": {
                            "description": "Ephemeral key usable in client environments to authenticate connections to the Realtime API. Use this in client-side environments rather than a standard API token, which should only be used server-side.\n",
                            "type": "string"
                          }
                        },
                        "required": [
                          "value",
                          "expires_at"
                        ],
                        "type": "object"
                      },
                      "include": {
                        "description": "Additional fields to include in server outputs.\n\n`item.input_audio_transcription.logprobs`: Include logprobs for input audio transcription.\n",
                        "items": {
                          "enum": [
                            "item.input_audio_transcription.logprobs"
                          ],
                          "type": "string"
                        },
                        "type": "array"
                      },
                      "instructions": {
                        "description": "The default system instructions (i.e. system message) prepended to model calls. This field allows the client to guide the model on desired responses. The model can be instructed on response content and format, (e.g. \"be extremely succinct\", \"act friendly\", \"here are examples of good responses\") and on audio behavior (e.g. \"talk quickly\", \"inject emotion into your voice\", \"laugh frequently\"). The instructions are not guaranteed to be followed by the model, but they provide guidance to the model on the desired behavior.\n\nNote that the server sets default instructions which will be used if this field is not set and are visible in the `session.created` event at the start of the session.\n",
                        "type": "string"
                      },
                      "max_output_tokens": {
                        "description": "Maximum number of output tokens for a single assistant response,\ninclusive of tool calls. Provide an integer between 1 and 4096 to\nlimit output tokens, or `inf` for the maximum available tokens for a\ngiven model. Defaults to `inf`.\n",
                        "oneOf": [
                          {
                            "type": "integer"
                          },
                          {
                            "enum": [
                              "inf"
                            ],
                            "type": "string"
                          }
                        ]
                      },
                      "model": {
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "enum": [
                              "gpt-realtime",
                              "gpt-realtime-1.5",
                              "gpt-realtime-2025-08-28",
                              "gpt-4o-realtime-preview",
                              "gpt-4o-realtime-preview-2024-10-01",
                              "gpt-4o-realtime-preview-2024-12-17",
                              "gpt-4o-realtime-preview-2025-06-03",
                              "gpt-4o-mini-realtime-preview",
                              "gpt-4o-mini-realtime-preview-2024-12-17",
                              "gpt-realtime-mini",
                              "gpt-realtime-mini-2025-10-06",
                              "gpt-realtime-mini-2025-12-15",
                              "gpt-audio-1.5",
                              "gpt-audio-mini",
                              "gpt-audio-mini-2025-10-06",
                              "gpt-audio-mini-2025-12-15"
                            ],
                            "type": "string"
                          }
                        ],
                        "description": "The Realtime model used for this session.\n"
                      },
                      "output_modalities": {
                        "default": [
                          "audio"
                        ],
                        "description": "The set of modalities the model can respond with. It defaults to `[\"audio\"]`, indicating\nthat the model will respond with audio plus a transcript. `[\"text\"]` can be used to make\nthe model respond with text only. It is not possible to request both `text` and `audio` at the same time.\n",
                        "items": {
                          "enum": [
                            "text",
                            "audio"
                          ],
                          "type": "string"
                        },
                        "type": "array"
                      },
                      "prompt": {
                        "anyOf": [
                          {
                            "description": "Reference to a prompt template and its variables.\n[Learn more](/docs/guides/text?api-mode=responses#reusable-prompts).\n",
                            "properties": {
                              "id": {
                                "description": "The unique identifier of the prompt template to use.",
                                "type": "string"
                              },
                              "variables": {
                                "anyOf": [
                                  {
                                    "additionalProperties": {
                                      "oneOf": [
                                        {
                                          "type": "string"
                                        },
                                        {
                                          "description": "A text input to the model.",
                                          "properties": {
                                            "text": {
                                              "description": "The text input to the model.",
                                              "type": "string"
                                            },
                                            "type": {
                                              "default": "input_text",
                                              "description": "The type of the input item. Always `input_text`.",
                                              "enum": [
                                                "input_text"
                                              ],
                                              "type": "string"
                                            }
                                          },
                                          "required": [
                                            "type",
                                            "text"
                                          ],
                                          "title": "Input text",
                                          "type": "object"
                                        },
                                        {
                                          "description": "An image input to the model. Learn about [image inputs](/docs/guides/vision).",
                                          "properties": {
                                            "detail": {
                                              "description": "The detail level of the image to be sent to the model. One of `high`, `low`, or `auto`. Defaults to `auto`.",
                                              "enum": [
                                                "low",
                                                "high",
                                                "auto"
                                              ],
                                              "type": "string"
                                            },
                                            "file_id": {
                                              "anyOf": [
                                                {
                                                  "description": "The ID of the file to be sent to the model.",
                                                  "type": "string"
                                                },
                                                {
                                                  "type": "null"
                                                }
                                              ]
                                            },
                                            "image_url": {
                                              "anyOf": [
                                                {
                                                  "description": "The URL of the image to be sent to the model. A fully qualified URL or base64 encoded image in a data URL.",
                                                  "type": "string"
                                                },
                                                {
                                                  "type": "null"
                                                }
                                              ]
                                            },
                                            "type": {
                                              "default": "input_image",
                                              "description": "The type of the input item. Always `input_image`.",
                                              "enum": [
                                                "input_image"
                                              ],
                                              "type": "string"
                                            }
                                          },
                                          "required": [
                                            "type",
                                            "detail"
                                          ],
                                          "title": "Input image",
                                          "type": "object"
                                        },
                                        {
                                          "description": "A file input to the model.",
                                          "properties": {
                                            "file_data": {
                                              "description": "The content of the file to be sent to the model.\n",
                                              "type": "string"
                                            },
                                            "file_id": {
                                              "anyOf": [
                                                {
                                                  "description": "The ID of the file to be sent to the model.",
                                                  "type": "string"
                                                },
                                                {
                                                  "type": "null"
                                                }
                                              ]
                                            },
                                            "file_url": {
                                              "description": "The URL of the file to be sent to the model.",
                                              "type": "string"
                                            },
                                            "filename": {
                                              "description": "The name of the file to be sent to the model.",
                                              "type": "string"
                                            },
                                            "type": {
                                              "default": "input_file",
                                              "description": "The type of the input item. Always `input_file`.",
                                              "enum": [
                                                "input_file"
                                              ],
                                              "type": "string"
                                            }
                                          },
                                          "required": [
                                            "type"
                                          ],
                                          "title": "Input file",
                                          "type": "object"
                                        }
                                      ]
                                    },
                                    "description": "Optional map of values to substitute in for variables in your\nprompt. The substitution values can either be strings, or other\nResponse input types like images or files.\n",
                                    "title": "Prompt Variables",
                                    "type": "object"
                                  },
                                  {
                                    "type": "null"
                                  }
                                ]
                              },
                              "version": {
                                "anyOf": [
                                  {
                                    "description": "Optional version of the prompt template.",
                                    "type": "string"
                                  },
                                  {
                                    "type": "null"
                                  }
                                ]
                              }
                            },
                            "required": [
                              "id"
                            ],
                            "type": "object"
                          },
                          {
                            "type": "null"
                          }
                        ]
                      },
                      "tool_choice": {
                        "default": "auto",
                        "description": "How the model chooses tools. Provide one of the string modes or force a specific\nfunction/MCP tool.\n",
                        "oneOf": [
                          {
                            "description": "Controls which (if any) tool is called by the model.\n\n`none` means the model will not call any tool and instead generates a message.\n\n`auto` means the model can pick between generating a message or calling one or\nmore tools.\n\n`required` means the model must call one or more tools.\n",
                            "enum": [
                              "none",
                              "auto",
                              "required"
                            ],
                            "title": "Tool choice mode",
                            "type": "string"
                          },
                          {
                            "description": "Use this option to force the model to call a specific function.\n",
                            "properties": {
                              "name": {
                                "description": "The name of the function to call.",
                                "type": "string"
                              },
                              "type": {
                                "description": "For function calling, the type is always `function`.",
                                "enum": [
                                  "function"
                                ],
                                "type": "string"
                              }
                            },
                            "required": [
                              "type",
                              "name"
                            ],
                            "title": "Function tool",
                            "type": "object"
                          },
                          {
                            "description": "Use this option to force the model to call a specific tool on a remote MCP server.\n",
                            "properties": {
                              "name": {
                                "anyOf": [
                                  {
                                    "description": "The name of the tool to call on the server.\n",
                                    "type": "string"
                                  },
                                  {
                                    "type": "null"
                                  }
                                ]
                              },
                              "server_label": {
                                "description": "The label of the MCP server to use.\n",
                                "type": "string"
                              },
                              "type": {
                                "description": "For MCP tools, the type is always `mcp`.",
                                "enum": [
                                  "mcp"
                                ],
                                "type": "string"
                              }
                            },
                            "required": [
                              "type",
                              "server_label"
                            ],
                            "title": "MCP tool",
                            "type": "object"
                          }
                        ]
                      },
                      "tools": {
                        "description": "Tools available to the model.",
                        "items": {
                          "oneOf": [
                            {
                              "properties": {
                                "description": {
                                  "description": "The description of the function, including guidance on when and how\nto call it, and guidance about what to tell the user when calling\n(if anything).\n",
                                  "type": "string"
                                },
                                "name": {
                                  "description": "The name of the function.",
                                  "type": "string"
                                },
                                "parameters": {
                                  "description": "Parameters of the function in JSON Schema.",
                                  "type": "object"
                                },
                                "type": {
                                  "description": "The type of the tool, i.e. `function`.",
                                  "enum": [
                                    "function"
                                  ],
                                  "type": "string"
                                }
                              },
                              "title": "Function tool",
                              "type": "object"
                            },
                            {
                              "description": "Give the model access to additional tools via remote Model Context Protocol\n(MCP) servers. [Learn more about MCP](/docs/guides/tools-remote-mcp).\n",
                              "properties": {
                                "allowed_tools": {
                                  "anyOf": [
                                    {
                                      "description": "List of allowed tool names or a filter object.\n",
                                      "oneOf": [
                                        {
                                          "description": "A string array of allowed tool names",
                                          "items": {
                                            "type": "string"
                                          },
                                          "title": "MCP allowed tools",
                                          "type": "array"
                                        },
                                        {
                                          "additionalProperties": false,
                                          "description": "A filter object to specify which tools are allowed.\n",
                                          "properties": {
                                            "read_only": {
                                              "description": "Indicates whether or not a tool modifies data or is read-only. If an\nMCP server is [annotated with `readOnlyHint`](https://modelcontextprotocol.io/specification/2025-06-18/schema#toolannotations-readonlyhint),\nit will match this filter.\n",
                                              "type": "boolean"
                                            },
                                            "tool_names": {
                                              "description": "List of allowed tool names.",
                                              "items": {
                                                "type": "string"
                                              },
                                              "title": "MCP allowed tools",
                                              "type": "array"
                                            }
                                          },
                                          "required": [],
                                          "title": "MCP tool filter",
                                          "type": "object"
                                        }
                                      ]
                                    },
                                    {
                                      "type": "null"
                                    }
                                  ]
                                },
                                "authorization": {
                                  "description": "An OAuth access token that can be used with a remote MCP server, either\nwith a custom MCP server URL or a service connector. Your application\nmust handle the OAuth authorization flow and provide the token here.\n",
                                  "type": "string"
                                },
                                "connector_id": {
                                  "description": "Identifier for service connectors, like those available in ChatGPT. One of\n`server_url` or `connector_id` must be provided. Learn more about service\nconnectors [here](/docs/guides/tools-remote-mcp#connectors).\n\nCurrently supported `connector_id` values are:\n\n- Dropbox: `connector_dropbox`\n- Gmail: `connector_gmail`\n- Google Calendar: `connector_googlecalendar`\n- Google Drive: `connector_googledrive`\n- Microsoft Teams: `connector_microsoftteams`\n- Outlook Calendar: `connector_outlookcalendar`\n- Outlook Email: `connector_outlookemail`\n- SharePoint: `connector_sharepoint`\n",
                                  "enum": [
                                    "connector_dropbox",
                                    "connector_gmail",
                                    "connector_googlecalendar",
                                    "connector_googledrive",
                                    "connector_microsoftteams",
                                    "connector_outlookcalendar",
                                    "connector_outlookemail",
                                    "connector_sharepoint"
                                  ],
                                  "type": "string"
                                },
                                "headers": {
                                  "anyOf": [
                                    {
                                      "additionalProperties": {
                                        "type": "string"
                                      },
                                      "description": "Optional HTTP headers to send to the MCP server. Use for authentication\nor other purposes.\n",
                                      "type": "object"
                                    },
                                    {
                                      "type": "null"
                                    }
                                  ]
                                },
                                "require_approval": {
                                  "anyOf": [
                                    {
                                      "default": "always",
                                      "description": "Specify which of the MCP server's tools require approval.",
                                      "oneOf": [
                                        {
                                          "additionalProperties": false,
                                          "description": "Specify which of the MCP server's tools require approval. Can be\n`always`, `never`, or a filter object associated with tools\nthat require approval.\n",
                                          "properties": {
                                            "always": {
                                              "additionalProperties": false,
                                              "description": "A filter object to specify which tools are allowed.\n",
                                              "properties": {
                                                "read_only": {
                                                  "description": "Indicates whether or not a tool modifies data or is read-only. If an\nMCP server is [annotated with `readOnlyHint`](https://modelcontextprotocol.io/specification/2025-06-18/schema#toolannotations-readonlyhint),\nit will match this filter.\n",
                                                  "type": "boolean"
                                                },
                                                "tool_names": {
                                                  "description": "List of allowed tool names.",
                                                  "items": {
                                                    "type": "string"
                                                  },
                                                  "title": "MCP allowed tools",
                                                  "type": "array"
                                                }
                                              },
                                              "required": [],
                                              "title": "MCP tool filter",
                                              "type": "object"
                                            },
                                            "never": {
                                              "additionalProperties": false,
                                              "description": "A filter object to specify which tools are allowed.\n",
                                              "properties": {
                                                "read_only": {
                                                  "description": "Indicates whether or not a tool modifies data or is read-only. If an\nMCP server is [annotated with `readOnlyHint`](https://modelcontextprotocol.io/specification/2025-06-18/schema#toolannotations-readonlyhint),\nit will match this filter.\n",
                                                  "type": "boolean"
                                                },
                                                "tool_names": {
                                                  "description": "List of allowed tool names.",
                                                  "items": {
                                                    "type": "string"
                                                  },
                                                  "title": "MCP allowed tools",
                                                  "type": "array"
                                                }
                                              },
                                              "required": [],
                                              "title": "MCP tool filter",
                                              "type": "object"
                                            }
                                          },
                                          "title": "MCP tool approval filter",
                                          "type": "object"
                                        },
                                        {
                                          "description": "Specify a single approval policy for all tools. One of `always` or\n`never`. When set to `always`, all tools will require approval. When\nset to `never`, all tools will not require approval.\n",
                                          "enum": [
                                            "always",
                                            "never"
                                          ],
                                          "title": "MCP tool approval setting",
                                          "type": "string"
                                        }
                                      ]
                                    },
                                    {
                                      "type": "null"
                                    }
                                  ]
                                },
                                "server_description": {
                                  "description": "Optional description of the MCP server, used to provide more context.\n",
                                  "type": "string"
                                },
                                "server_label": {
                                  "description": "A label for this MCP server, used to identify it in tool calls.\n",
                                  "type": "string"
                                },
                                "server_url": {
                                  "description": "The URL for the MCP server. One of `server_url` or `connector_id` must be\nprovided.\n",
                                  "type": "string"
                                },
                                "type": {
                                  "description": "The type of the MCP tool. Always `mcp`.",
                                  "enum": [
                                    "mcp"
                                  ],
                                  "type": "string"
                                }
                              },
                              "required": [
                                "type",
                                "server_label"
                              ],
                              "title": "MCP tool",
                              "type": "object"
                            }
                          ]
                        },
                        "type": "array"
                      },
                      "tracing": {
                        "anyOf": [
                          {
                            "default": null,
                            "description": "Realtime API can write session traces to the [Traces Dashboard](/logs?api=traces). Set to null to disable tracing. Once\ntracing is enabled for a session, the configuration cannot be modified.\n\n`auto` will create a trace for the session with default values for the\nworkflow name, group id, and metadata.\n",
                            "oneOf": [
                              {
                                "default": "auto",
                                "description": "Enables tracing and sets default values for tracing configuration options. Always `auto`.\n",
                                "enum": [
                                  "auto"
                                ],
                                "title": "auto",
                                "type": "string"
                              },
                              {
                                "description": "Granular configuration for tracing.\n",
                                "properties": {
                                  "group_id": {
                                    "description": "The group id to attach to this trace to enable filtering and\ngrouping in the Traces Dashboard.\n",
                                    "type": "string"
                                  },
                                  "metadata": {
                                    "description": "The arbitrary metadata to attach to this trace to enable\nfiltering in the Traces Dashboard.\n",
                                    "type": "object"
                                  },
                                  "workflow_name": {
                                    "description": "The name of the workflow to attach to this trace. This is used to\nname the trace in the Traces Dashboard.\n",
                                    "type": "string"
                                  }
                                },
                                "title": "Tracing Configuration",
                                "type": "object"
                              }
                            ],
                            "title": "Tracing Configuration"
                          },
                          {
                            "type": "null"
                          }
                        ]
                      },
                      "truncation": {
                        "description": "When the number of tokens in a conversation exceeds the model's input token limit, the conversation be truncated, meaning messages (starting from the oldest) will not be included in the model's context. A 32k context model with 4,096 max output tokens can only include 28,224 tokens in the context before truncation occurs.\n\nClients can configure truncation behavior to truncate with a lower max token limit, which is an effective way to control token usage and cost.\n\nTruncation will reduce the number of cached tokens on the next turn (busting the cache), since messages are dropped from the beginning of the context. However, clients can also configure truncation to retain messages up to a fraction of the maximum context size, which will reduce the need for future truncations and thus improve the cache rate.\n\nTruncation can be disabled entirely, which means the server will never truncate but would instead return an error if the conversation exceeds the model's input token limit.\n",
                        "oneOf": [
                          {
                            "description": "The truncation strategy to use for the session. `auto` is the default truncation strategy. `disabled` will disable truncation and emit errors when the conversation exceeds the input token limit.",
                            "enum": [
                              "auto",
                              "disabled"
                            ],
                            "type": "string"
                          },
                          {
                            "description": "Retain a fraction of the conversation tokens when the conversation exceeds the input token limit. This allows you to amortize truncations across multiple turns, which can help improve cached token usage.",
                            "properties": {
                              "retention_ratio": {
                                "description": "Fraction of post-instruction conversation tokens to retain (`0.0` - `1.0`) when the conversation exceeds the input token limit. Setting this to `0.8` means that messages will be dropped until 80% of the maximum allowed tokens are used. This helps reduce the frequency of truncations and improve cache rates.\n",
                                "maximum": 1,
                                "minimum": 0,
                                "type": "number"
                              },
                              "token_limits": {
                                "description": "Optional custom token limits for this truncation strategy. If not provided, the model's default token limits will be used.",
                                "properties": {
                                  "post_instructions": {
                                    "description": "Maximum tokens allowed in the conversation after instructions (which including tool definitions). For example, setting this to 5,000 would mean that truncation would occur when the conversation exceeds 5,000 tokens after instructions. This cannot be higher than the model's context window size minus the maximum output tokens.",
                                    "minimum": 0,
                                    "type": "integer"
                                  }
                                },
                                "type": "object"
                              },
                              "type": {
                                "description": "Use retention ratio truncation.",
                                "enum": [
                                  "retention_ratio"
                                ],
                                "type": "string"
                              }
                            },
                            "required": [
                              "type",
                              "retention_ratio"
                            ],
                            "title": "Retention ratio truncation",
                            "type": "object"
                          }
                        ],
                        "title": "Realtime Truncation Controls"
                      },
                      "type": {
                        "description": "The type of session to create. Always `realtime` for the Realtime API.\n",
                        "enum": [
                          "realtime"
                        ],
                        "type": "string"
                      }
                    },
                    "required": [
                      "client_secret",
                      "type"
                    ],
                    "type": "object"
                  },
                  {
                    "description": "A Realtime transcription session configuration object.\n",
                    "properties": {
                      "audio": {
                        "description": "Configuration for input audio for the session.\n",
                        "properties": {
                          "input": {
                            "properties": {
                              "format": {
                                "anyOf": [
                                  {
                                    "description": "The PCM audio format. Only a 24kHz sample rate is supported.",
                                    "properties": {
                                      "rate": {
                                        "description": "The sample rate of the audio. Always `24000`.",
                                        "enum": [
                                          24000
                                        ],
                                        "type": "integer"
                                      },
                                      "type": {
                                        "description": "The audio format. Always `audio/pcm`.",
                                        "enum": [
                                          "audio/pcm"
                                        ],
                                        "type": "string"
                                      }
                                    },
                                    "title": "PCM audio format",
                                    "type": "object"
                                  },
                                  {
                                    "description": "The G.711 μ-law format.",
                                    "properties": {
                                      "type": {
                                        "description": "The audio format. Always `audio/pcmu`.",
                                        "enum": [
                                          "audio/pcmu"
                                        ],
                                        "type": "string"
                                      }
                                    },
                                    "title": "PCMU audio format",
                                    "type": "object"
                                  },
                                  {
                                    "description": "The G.711 A-law format.",
                                    "properties": {
                                      "type": {
                                        "description": "The audio format. Always `audio/pcma`.",
                                        "enum": [
                                          "audio/pcma"
                                        ],
                                        "type": "string"
                                      }
                                    },
                                    "title": "PCMA audio format",
                                    "type": "object"
                                  }
                                ]
                              },
                              "noise_reduction": {
                                "description": "Configuration for input audio noise reduction.\n",
                                "properties": {
                                  "type": {
                                    "description": "Type of noise reduction. `near_field` is for close-talking microphones such as headphones, `far_field` is for far-field microphones such as laptop or conference room microphones.\n",
                                    "enum": [
                                      "near_field",
                                      "far_field"
                                    ],
                                    "type": "string"
                                  }
                                },
                                "type": "object"
                              },
                              "transcription": {
                                "properties": {
                                  "language": {
                                    "description": "The language of the input audio. Supplying the input language in\n[ISO-639-1](https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes) (e.g. `en`) format\nwill improve accuracy and latency.\n",
                                    "type": "string"
                                  },
                                  "model": {
                                    "anyOf": [
                                      {
                                        "type": "string"
                                      },
                                      {
                                        "enum": [
                                          "whisper-1",
                                          "gpt-4o-mini-transcribe",
                                          "gpt-4o-mini-transcribe-2025-12-15",
                                          "gpt-4o-transcribe",
                                          "gpt-4o-transcribe-diarize"
                                        ],
                                        "type": "string"
                                      }
                                    ],
                                    "description": "The model to use for transcription. Current options are `whisper-1`, `gpt-4o-mini-transcribe`, `gpt-4o-mini-transcribe-2025-12-15`, `gpt-4o-transcribe`, and `gpt-4o-transcribe-diarize`. Use `gpt-4o-transcribe-diarize` when you need diarization with speaker labels.\n"
                                  },
                                  "prompt": {
                                    "description": "An optional text to guide the model's style or continue a previous audio\nsegment.\nFor `whisper-1`, the [prompt is a list of keywords](/docs/guides/speech-to-text#prompting).\nFor `gpt-4o-transcribe` models (excluding `gpt-4o-transcribe-diarize`), the prompt is a free text string, for example \"expect words related to technology\".\n",
                                    "type": "string"
                                  }
                                },
                                "type": "object",
                                "description": "Configuration of the transcription model.\n"
                              },
                              "turn_detection": {
                                "description": "Configuration for turn detection. Can be set to `null` to turn off. Server\nVAD means that the model will detect the start and end of speech based on\naudio volume and respond at the end of user speech.\n",
                                "properties": {
                                  "prefix_padding_ms": {
                                    "description": "Amount of audio to include before the VAD detected speech (in\nmilliseconds). Defaults to 300ms.\n",
                                    "type": "integer"
                                  },
                                  "silence_duration_ms": {
                                    "description": "Duration of silence to detect speech stop (in milliseconds). Defaults\nto 500ms. With shorter values the model will respond more quickly,\nbut may jump in on short pauses from the user.\n",
                                    "type": "integer"
                                  },
                                  "threshold": {
                                    "description": "Activation threshold for VAD (0.0 to 1.0), this defaults to 0.5. A\nhigher threshold will require louder audio to activate the model, and\nthus might perform better in noisy environments.\n",
                                    "type": "number"
                                  },
                                  "type": {
                                    "description": "Type of turn detection, only `server_vad` is currently supported.\n",
                                    "type": "string"
                                  }
                                },
                                "type": "object"
                              }
                            },
                            "type": "object"
                          }
                        },
                        "type": "object"
                      },
                      "expires_at": {
                        "description": "Expiration timestamp for the session, in seconds since epoch.",
                        "type": "integer"
                      },
                      "id": {
                        "description": "Unique identifier for the session that looks like `sess_1234567890abcdef`.\n",
                        "type": "string"
                      },
                      "include": {
                        "description": "Additional fields to include in server outputs.\n- `item.input_audio_transcription.logprobs`: Include logprobs for input audio transcription.\n",
                        "items": {
                          "enum": [
                            "item.input_audio_transcription.logprobs"
                          ],
                          "type": "string"
                        },
                        "type": "array"
                      },
                      "object": {
                        "description": "The object type. Always `realtime.transcription_session`.",
                        "type": "string"
                      },
                      "type": {
                        "description": "The type of session. Always `transcription` for transcription sessions.\n",
                        "enum": [
                          "transcription"
                        ],
                        "type": "string"
                      }
                    },
                    "required": [
                      "type",
                      "id",
                      "object"
                    ],
                    "title": "Realtime transcription session configuration object",
                    "type": "object"
                  }
                ],
                "title": "Session configuration"
              },
              "value": {
                "description": "The generated client secret value.",
                "type": "string"
              }
            },
            "required": [
              "value",
              "expires_at",
              "session"
            ],
            "title": "Realtime session and client secret",
            "type": "object"
          }
        }
      },
      "description": "Client secret created successfully."
    }
  },
  "summary": "Create a Realtime client secret with an associated session configuration.\n\nClient secrets are short-lived tokens that can be passed to a client app,\nsuch as a web frontend or mobile client, which grants access to the Realtime API without\nleaking your main API key. You can configure a custom TTL for each client secret.\n\nYou can also attach session configuration options to the client secret, which will be\napplied to any sessions created using that client secret, but these can also be overridden\nby the client connection.\n\n[Learn more about authentication with client secrets over WebRTC](/docs/guides/realtime-webrtc).\n\nReturns the created client secret and the effective session object. The client secret is a string that looks like `ek_1234`.\n",
  "tags": [
    "Realtime"
  ]
}
