{
  "description": "Creates a container.",
  "operationId": "CreateContainer",
  "parameters": [],
  "requestBody": {
    "content": {
      "application/json": {
        "schema": {
          "$ref": "#/components/schemas/CreateContainerBody"
        }
      }
    }
  },
  "responses": {
    "200": {
      "content": {
        "application/json": {
          "schema": {
            "$ref": "#/components/schemas/ContainerResource"
          }
        }
      },
      "description": "Success"
    }
  },
  "summary": "Create Container",
  "components": {
    "schemas": {
      "CreateContainerBody": {
        "properties": {
          "expires_after": {
            "description": "Container expiration time in seconds relative to the 'anchor' time.",
            "properties": {
              "anchor": {
                "description": "Time anchor for the expiration time. Currently only 'last_active_at' is supported.",
                "enum": [
                  "last_active_at"
                ],
                "type": "string"
              },
              "minutes": {
                "type": "integer"
              }
            },
            "required": [
              "anchor",
              "minutes"
            ],
            "type": "object"
          },
          "file_ids": {
            "description": "IDs of files to copy to the container.",
            "items": {
              "type": "string"
            },
            "type": "array"
          },
          "memory_limit": {
            "description": "Optional memory limit for the container. Defaults to \"1g\".",
            "enum": [
              "1g",
              "4g",
              "16g",
              "64g"
            ],
            "type": "string"
          },
          "name": {
            "description": "Name of the container to create.",
            "type": "string"
          },
          "network_policy": {
            "description": "Network access policy for the container.",
            "discriminator": {
              "propertyName": "type"
            },
            "oneOf": [
              {
                "$ref": "#/components/schemas/ContainerNetworkPolicyDisabledParam"
              },
              {
                "$ref": "#/components/schemas/ContainerNetworkPolicyAllowlistParam"
              }
            ]
          },
          "skills": {
            "description": "An optional list of skills referenced by id or inline data.",
            "items": {
              "discriminator": {
                "propertyName": "type"
              },
              "oneOf": [
                {
                  "$ref": "#/components/schemas/SkillReferenceParam"
                },
                {
                  "$ref": "#/components/schemas/InlineSkillParam"
                }
              ]
            },
            "type": "array"
          }
        },
        "required": [
          "name"
        ],
        "type": "object"
      },
      "ContainerResource": {
        "properties": {
          "created_at": {
            "description": "Unix timestamp (in seconds) when the container was created.",
            "type": "integer"
          },
          "expires_after": {
            "description": "The container will expire after this time period.\nThe anchor is the reference point for the expiration.\nThe minutes is the number of minutes after the anchor before the container expires.\n",
            "properties": {
              "anchor": {
                "description": "The reference point for the expiration.",
                "enum": [
                  "last_active_at"
                ],
                "type": "string"
              },
              "minutes": {
                "description": "The number of minutes after the anchor before the container expires.",
                "type": "integer"
              }
            },
            "type": "object"
          },
          "id": {
            "description": "Unique identifier for the container.",
            "type": "string"
          },
          "last_active_at": {
            "description": "Unix timestamp (in seconds) when the container was last active.",
            "type": "integer"
          },
          "memory_limit": {
            "description": "The memory limit configured for the container.",
            "enum": [
              "1g",
              "4g",
              "16g",
              "64g"
            ],
            "type": "string"
          },
          "name": {
            "description": "Name of the container.",
            "type": "string"
          },
          "network_policy": {
            "description": "Network access policy for the container.",
            "properties": {
              "allowed_domains": {
                "description": "Allowed outbound domains when `type` is `allowlist`.",
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              "type": {
                "description": "The network policy mode.",
                "enum": [
                  "allowlist",
                  "disabled"
                ],
                "type": "string"
              }
            },
            "required": [
              "type"
            ],
            "type": "object"
          },
          "object": {
            "description": "The type of this object.",
            "type": "string"
          },
          "status": {
            "description": "Status of the container (e.g., active, deleted).",
            "type": "string"
          }
        },
        "required": [
          "id",
          "object",
          "name",
          "created_at",
          "status",
          "id",
          "name",
          "created_at",
          "status"
        ],
        "title": "The container object",
        "type": "object"
      },
      "ContainerNetworkPolicyDisabledParam": {
        "properties": {
          "type": {
            "default": "disabled",
            "description": "Disable outbound network access. Always `disabled`.",
            "enum": [
              "disabled"
            ],
            "type": "string"
          }
        },
        "required": [
          "type"
        ],
        "type": "object"
      },
      "ContainerNetworkPolicyAllowlistParam": {
        "properties": {
          "allowed_domains": {
            "description": "A list of allowed domains when type is `allowlist`.",
            "items": {
              "type": "string"
            },
            "minItems": 1,
            "type": "array"
          },
          "domain_secrets": {
            "description": "Optional domain-scoped secrets for allowlisted domains.",
            "items": {
              "$ref": "#/components/schemas/ContainerNetworkPolicyDomainSecretParam"
            },
            "minItems": 1,
            "type": "array"
          },
          "type": {
            "default": "allowlist",
            "description": "Allow outbound network access only to specified domains. Always `allowlist`.",
            "enum": [
              "allowlist"
            ],
            "type": "string"
          }
        },
        "required": [
          "type",
          "allowed_domains"
        ],
        "type": "object"
      },
      "SkillReferenceParam": {
        "properties": {
          "skill_id": {
            "description": "The ID of the referenced skill.",
            "maxLength": 64,
            "minLength": 1,
            "type": "string"
          },
          "type": {
            "default": "skill_reference",
            "description": "References a skill created with the /v1/skills endpoint.",
            "enum": [
              "skill_reference"
            ],
            "type": "string"
          },
          "version": {
            "description": "Optional skill version. Use a positive integer or 'latest'. Omit for default.",
            "type": "string"
          }
        },
        "required": [
          "type",
          "skill_id"
        ],
        "type": "object"
      },
      "InlineSkillParam": {
        "properties": {
          "description": {
            "description": "The description of the skill.",
            "type": "string"
          },
          "name": {
            "description": "The name of the skill.",
            "type": "string"
          },
          "source": {
            "$ref": "#/components/schemas/InlineSkillSourceParam",
            "description": "Inline skill payload"
          },
          "type": {
            "default": "inline",
            "description": "Defines an inline skill for this request.",
            "enum": [
              "inline"
            ],
            "type": "string"
          }
        },
        "required": [
          "type",
          "name",
          "description",
          "source"
        ],
        "type": "object"
      },
      "ContainerNetworkPolicyDomainSecretParam": {
        "properties": {
          "domain": {
            "description": "The domain associated with the secret.",
            "minLength": 1,
            "type": "string"
          },
          "name": {
            "description": "The name of the secret to inject for the domain.",
            "minLength": 1,
            "type": "string"
          },
          "value": {
            "description": "The secret value to inject for the domain.",
            "maxLength": 10485760,
            "minLength": 1,
            "type": "string"
          }
        },
        "required": [
          "domain",
          "name",
          "value"
        ],
        "type": "object"
      },
      "InlineSkillSourceParam": {
        "description": "Inline skill payload",
        "properties": {
          "data": {
            "description": "Base64-encoded skill zip bundle.",
            "maxLength": 70254592,
            "minLength": 1,
            "type": "string"
          },
          "media_type": {
            "default": "application/zip",
            "description": "The media type of the inline skill payload. Must be `application/zip`.",
            "enum": [
              "application/zip"
            ],
            "type": "string"
          },
          "type": {
            "default": "base64",
            "description": "The type of the inline skill source. Must be `base64`.",
            "enum": [
              "base64"
            ],
            "type": "string"
          }
        },
        "required": [
          "type",
          "media_type",
          "data"
        ],
        "type": "object"
      }
    }
  }
}
