{
  "operationId": "CancelChatSessionMethod",
  "parameters": [
    {
      "description": "Unique identifier for the ChatKit session to cancel.",
      "in": "path",
      "name": "session_id",
      "required": true,
      "schema": {
        "example": "cksess_123",
        "type": "string"
      }
    }
  ],
  "responses": {
    "200": {
      "content": {
        "application/json": {
          "schema": {
            "description": "Represents a ChatKit session and its resolved configuration.",
            "example": {
              "chatkit_configuration": {
                "automatic_thread_titling": {
                  "enabled": true
                },
                "file_upload": {
                  "enabled": true,
                  "max_file_size": 16,
                  "max_files": 20
                },
                "history": {
                  "enabled": true,
                  "recent_threads": 10
                }
              },
              "client_secret": "ek_token_123",
              "expires_at": 1712349876,
              "id": "cksess_123",
              "max_requests_per_1_minute": 60,
              "object": "chatkit.session",
              "rate_limits": {
                "max_requests_per_1_minute": 60
              },
              "status": "cancelled",
              "user": "user_789",
              "workflow": {
                "id": "workflow_alpha",
                "version": "2024-10-01T00:00:00.000Z"
              }
            },
            "properties": {
              "chatkit_configuration": {
                "description": "Resolved ChatKit feature configuration for the session.",
                "properties": {
                  "automatic_thread_titling": {
                    "description": "Automatic thread titling preferences.",
                    "properties": {
                      "enabled": {
                        "description": "Whether automatic thread titling is enabled.",
                        "type": "boolean"
                      }
                    },
                    "required": [
                      "enabled"
                    ],
                    "title": "Automatic thread titling",
                    "type": "object"
                  },
                  "file_upload": {
                    "description": "Upload settings for the session.",
                    "properties": {
                      "enabled": {
                        "description": "Indicates if uploads are enabled for the session.",
                        "type": "boolean"
                      },
                      "max_file_size": {
                        "anyOf": [
                          {
                            "description": "Maximum upload size in megabytes.",
                            "type": "integer"
                          },
                          {
                            "type": "null"
                          }
                        ]
                      },
                      "max_files": {
                        "anyOf": [
                          {
                            "description": "Maximum number of uploads allowed during the session.",
                            "type": "integer"
                          },
                          {
                            "type": "null"
                          }
                        ]
                      }
                    },
                    "required": [
                      "enabled",
                      "max_file_size",
                      "max_files"
                    ],
                    "title": "File upload settings",
                    "type": "object"
                  },
                  "history": {
                    "description": "History retention configuration.",
                    "properties": {
                      "enabled": {
                        "description": "Indicates if chat history is persisted for the session.",
                        "type": "boolean"
                      },
                      "recent_threads": {
                        "anyOf": [
                          {
                            "description": "Number of prior threads surfaced in history views. Defaults to null when all history is retained.",
                            "type": "integer"
                          },
                          {
                            "type": "null"
                          }
                        ]
                      }
                    },
                    "required": [
                      "enabled",
                      "recent_threads"
                    ],
                    "title": "History settings",
                    "type": "object"
                  }
                },
                "required": [
                  "automatic_thread_titling",
                  "file_upload",
                  "history"
                ],
                "title": "ChatKit configuration",
                "type": "object"
              },
              "client_secret": {
                "description": "Ephemeral client secret that authenticates session requests.",
                "type": "string"
              },
              "expires_at": {
                "description": "Unix timestamp (in seconds) for when the session expires.",
                "type": "integer"
              },
              "id": {
                "description": "Identifier for the ChatKit session.",
                "type": "string"
              },
              "max_requests_per_1_minute": {
                "description": "Convenience copy of the per-minute request limit.",
                "type": "integer"
              },
              "object": {
                "default": "chatkit.session",
                "description": "Type discriminator that is always `chatkit.session`.",
                "enum": [
                  "chatkit.session"
                ],
                "type": "string"
              },
              "rate_limits": {
                "description": "Resolved rate limit values.",
                "properties": {
                  "max_requests_per_1_minute": {
                    "description": "Maximum allowed requests per one-minute window.",
                    "type": "integer"
                  }
                },
                "required": [
                  "max_requests_per_1_minute"
                ],
                "title": "Rate limits",
                "type": "object"
              },
              "status": {
                "description": "Current lifecycle state of the session.",
                "enum": [
                  "active",
                  "expired",
                  "cancelled"
                ],
                "type": "string"
              },
              "user": {
                "description": "User identifier associated with the session.",
                "type": "string"
              },
              "workflow": {
                "description": "Workflow metadata for the session.",
                "properties": {
                  "id": {
                    "description": "Identifier of the workflow backing the session.",
                    "type": "string"
                  },
                  "state_variables": {
                    "anyOf": [
                      {
                        "additionalProperties": {
                          "oneOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "integer"
                            },
                            {
                              "type": "boolean"
                            },
                            {
                              "type": "number"
                            }
                          ]
                        },
                        "description": "State variable key-value pairs applied when invoking the workflow. Defaults to null when no overrides were provided.",
                        "type": "object"
                      },
                      {
                        "type": "null"
                      }
                    ]
                  },
                  "tracing": {
                    "description": "Tracing settings applied to the workflow.",
                    "properties": {
                      "enabled": {
                        "description": "Indicates whether tracing is enabled.",
                        "type": "boolean"
                      }
                    },
                    "required": [
                      "enabled"
                    ],
                    "title": "Tracing Configuration",
                    "type": "object"
                  },
                  "version": {
                    "anyOf": [
                      {
                        "description": "Specific workflow version used for the session. Defaults to null when using the latest deployment.",
                        "type": "string"
                      },
                      {
                        "type": "null"
                      }
                    ]
                  }
                },
                "required": [
                  "id",
                  "version",
                  "state_variables",
                  "tracing"
                ],
                "title": "Workflow",
                "type": "object"
              }
            },
            "required": [
              "id",
              "object",
              "expires_at",
              "client_secret",
              "workflow",
              "user",
              "rate_limits",
              "max_requests_per_1_minute",
              "status",
              "chatkit_configuration"
            ],
            "title": "The chat session object",
            "type": "object"
          }
        }
      },
      "description": "Success"
    }
  },
  "summary": "Cancel an active ChatKit session and return its most recent metadata.\n\nCancelling prevents new requests from using the issued client secret."
}
