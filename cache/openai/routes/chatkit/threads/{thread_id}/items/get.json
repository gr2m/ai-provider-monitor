{
  "operationId": "ListThreadItemsMethod",
  "parameters": [
    {
      "description": "Identifier of the ChatKit thread whose items are requested.",
      "in": "path",
      "name": "thread_id",
      "required": true,
      "schema": {
        "example": "cthr_123",
        "type": "string"
      }
    },
    {
      "description": "Maximum number of thread items to return. Defaults to 20.",
      "in": "query",
      "name": "limit",
      "required": false,
      "schema": {
        "maximum": 100,
        "minimum": 0,
        "type": "integer"
      }
    },
    {
      "description": "Sort order for results by creation time. Defaults to `desc`.",
      "in": "query",
      "name": "order",
      "required": false,
      "schema": {
        "$ref": "#/components/schemas/OrderEnum"
      }
    },
    {
      "description": "List items created after this thread item ID. Defaults to null for the first page.",
      "in": "query",
      "name": "after",
      "required": false,
      "schema": {
        "description": "List items created after this thread item ID. Defaults to null for the first page.",
        "type": "string"
      }
    },
    {
      "description": "List items created before this thread item ID. Defaults to null for the newest results.",
      "in": "query",
      "name": "before",
      "required": false,
      "schema": {
        "description": "List items created before this thread item ID. Defaults to null for the newest results.",
        "type": "string"
      }
    }
  ],
  "responses": {
    "200": {
      "content": {
        "application/json": {
          "schema": {
            "$ref": "#/components/schemas/ThreadItemListResource"
          }
        }
      },
      "description": "Success"
    }
  },
  "summary": "List items that belong to a ChatKit thread.",
  "components": {
    "schemas": {
      "OrderEnum": {
        "enum": [
          "asc",
          "desc"
        ],
        "type": "string"
      },
      "ThreadItemListResource": {
        "description": "A paginated list of thread items rendered for the ChatKit API.",
        "properties": {
          "data": {
            "description": "A list of items",
            "items": {
              "$ref": "#/components/schemas/ThreadItem"
            },
            "type": "array"
          },
          "first_id": {
            "anyOf": [
              {
                "description": "The ID of the first item in the list.",
                "type": "string"
              },
              {
                "type": "null"
              }
            ]
          },
          "has_more": {
            "description": "Whether there are more items available.",
            "type": "boolean"
          },
          "last_id": {
            "anyOf": [
              {
                "description": "The ID of the last item in the list.",
                "type": "string"
              },
              {
                "type": "null"
              }
            ]
          },
          "object": {
            "default": "list",
            "description": "The type of object returned, must be `list`.",
            "enum": [
              "list"
            ],
            "type": "string"
          }
        },
        "required": [
          "object",
          "data",
          "first_id",
          "last_id",
          "has_more"
        ],
        "title": "Thread Items",
        "type": "object"
      },
      "ThreadItem": {
        "discriminator": {
          "propertyName": "type"
        },
        "oneOf": [
          {
            "$ref": "#/components/schemas/UserMessageItem"
          },
          {
            "$ref": "#/components/schemas/AssistantMessageItem"
          },
          {
            "$ref": "#/components/schemas/WidgetMessageItem"
          },
          {
            "$ref": "#/components/schemas/ClientToolCallItem"
          },
          {
            "$ref": "#/components/schemas/TaskItem"
          },
          {
            "$ref": "#/components/schemas/TaskGroupItem"
          }
        ],
        "title": "The thread item"
      },
      "UserMessageItem": {
        "description": "User-authored messages within a thread.",
        "properties": {
          "attachments": {
            "description": "Attachments associated with the user message. Defaults to an empty list.",
            "items": {
              "$ref": "#/components/schemas/Attachment"
            },
            "type": "array"
          },
          "content": {
            "description": "Ordered content elements supplied by the user.",
            "items": {
              "description": "Content blocks that comprise a user message.",
              "discriminator": {
                "propertyName": "type"
              },
              "oneOf": [
                {
                  "$ref": "#/components/schemas/UserMessageInputText"
                },
                {
                  "$ref": "#/components/schemas/UserMessageQuotedText"
                }
              ]
            },
            "type": "array"
          },
          "created_at": {
            "description": "Unix timestamp (in seconds) for when the item was created.",
            "type": "integer"
          },
          "id": {
            "description": "Identifier of the thread item.",
            "type": "string"
          },
          "inference_options": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/InferenceOptions",
                "description": "Inference overrides applied to the message. Defaults to null when unset."
              },
              {
                "type": "null"
              }
            ]
          },
          "object": {
            "default": "chatkit.thread_item",
            "description": "Type discriminator that is always `chatkit.thread_item`.",
            "enum": [
              "chatkit.thread_item"
            ],
            "type": "string"
          },
          "thread_id": {
            "description": "Identifier of the parent thread.",
            "type": "string"
          },
          "type": {
            "default": "chatkit.user_message",
            "enum": [
              "chatkit.user_message"
            ],
            "type": "string"
          }
        },
        "required": [
          "id",
          "object",
          "created_at",
          "thread_id",
          "type",
          "content",
          "attachments",
          "inference_options"
        ],
        "title": "User Message Item",
        "type": "object"
      },
      "AssistantMessageItem": {
        "description": "Assistant-authored message within a thread.",
        "properties": {
          "content": {
            "description": "Ordered assistant response segments.",
            "items": {
              "$ref": "#/components/schemas/ResponseOutputText"
            },
            "type": "array"
          },
          "created_at": {
            "description": "Unix timestamp (in seconds) for when the item was created.",
            "type": "integer"
          },
          "id": {
            "description": "Identifier of the thread item.",
            "type": "string"
          },
          "object": {
            "default": "chatkit.thread_item",
            "description": "Type discriminator that is always `chatkit.thread_item`.",
            "enum": [
              "chatkit.thread_item"
            ],
            "type": "string"
          },
          "thread_id": {
            "description": "Identifier of the parent thread.",
            "type": "string"
          },
          "type": {
            "default": "chatkit.assistant_message",
            "description": "Type discriminator that is always `chatkit.assistant_message`.",
            "enum": [
              "chatkit.assistant_message"
            ],
            "type": "string"
          }
        },
        "required": [
          "id",
          "object",
          "created_at",
          "thread_id",
          "type",
          "content"
        ],
        "title": "Assistant message",
        "type": "object"
      },
      "WidgetMessageItem": {
        "description": "Thread item that renders a widget payload.",
        "properties": {
          "created_at": {
            "description": "Unix timestamp (in seconds) for when the item was created.",
            "type": "integer"
          },
          "id": {
            "description": "Identifier of the thread item.",
            "type": "string"
          },
          "object": {
            "default": "chatkit.thread_item",
            "description": "Type discriminator that is always `chatkit.thread_item`.",
            "enum": [
              "chatkit.thread_item"
            ],
            "type": "string"
          },
          "thread_id": {
            "description": "Identifier of the parent thread.",
            "type": "string"
          },
          "type": {
            "default": "chatkit.widget",
            "description": "Type discriminator that is always `chatkit.widget`.",
            "enum": [
              "chatkit.widget"
            ],
            "type": "string"
          },
          "widget": {
            "description": "Serialized widget payload rendered in the UI.",
            "type": "string"
          }
        },
        "required": [
          "id",
          "object",
          "created_at",
          "thread_id",
          "type",
          "widget"
        ],
        "title": "Widget message",
        "type": "object"
      },
      "ClientToolCallItem": {
        "description": "Record of a client side tool invocation initiated by the assistant.",
        "properties": {
          "arguments": {
            "description": "JSON-encoded arguments that were sent to the tool.",
            "type": "string"
          },
          "call_id": {
            "description": "Identifier for the client tool call.",
            "type": "string"
          },
          "created_at": {
            "description": "Unix timestamp (in seconds) for when the item was created.",
            "type": "integer"
          },
          "id": {
            "description": "Identifier of the thread item.",
            "type": "string"
          },
          "name": {
            "description": "Tool name that was invoked.",
            "type": "string"
          },
          "object": {
            "default": "chatkit.thread_item",
            "description": "Type discriminator that is always `chatkit.thread_item`.",
            "enum": [
              "chatkit.thread_item"
            ],
            "type": "string"
          },
          "output": {
            "anyOf": [
              {
                "description": "JSON-encoded output captured from the tool. Defaults to null while execution is in progress.",
                "type": "string"
              },
              {
                "type": "null"
              }
            ]
          },
          "status": {
            "$ref": "#/components/schemas/ClientToolCallStatus",
            "description": "Execution status for the tool call."
          },
          "thread_id": {
            "description": "Identifier of the parent thread.",
            "type": "string"
          },
          "type": {
            "default": "chatkit.client_tool_call",
            "description": "Type discriminator that is always `chatkit.client_tool_call`.",
            "enum": [
              "chatkit.client_tool_call"
            ],
            "type": "string"
          }
        },
        "required": [
          "id",
          "object",
          "created_at",
          "thread_id",
          "type",
          "status",
          "call_id",
          "name",
          "arguments",
          "output"
        ],
        "title": "Client tool call",
        "type": "object"
      },
      "TaskItem": {
        "description": "Task emitted by the workflow to show progress and status updates.",
        "properties": {
          "created_at": {
            "description": "Unix timestamp (in seconds) for when the item was created.",
            "type": "integer"
          },
          "heading": {
            "anyOf": [
              {
                "description": "Optional heading for the task. Defaults to null when not provided.",
                "type": "string"
              },
              {
                "type": "null"
              }
            ]
          },
          "id": {
            "description": "Identifier of the thread item.",
            "type": "string"
          },
          "object": {
            "default": "chatkit.thread_item",
            "description": "Type discriminator that is always `chatkit.thread_item`.",
            "enum": [
              "chatkit.thread_item"
            ],
            "type": "string"
          },
          "summary": {
            "anyOf": [
              {
                "description": "Optional summary that describes the task. Defaults to null when omitted.",
                "type": "string"
              },
              {
                "type": "null"
              }
            ]
          },
          "task_type": {
            "$ref": "#/components/schemas/TaskType",
            "description": "Subtype for the task."
          },
          "thread_id": {
            "description": "Identifier of the parent thread.",
            "type": "string"
          },
          "type": {
            "default": "chatkit.task",
            "description": "Type discriminator that is always `chatkit.task`.",
            "enum": [
              "chatkit.task"
            ],
            "type": "string"
          }
        },
        "required": [
          "id",
          "object",
          "created_at",
          "thread_id",
          "type",
          "task_type",
          "heading",
          "summary"
        ],
        "title": "Task item",
        "type": "object"
      },
      "TaskGroupItem": {
        "description": "Collection of workflow tasks grouped together in the thread.",
        "properties": {
          "created_at": {
            "description": "Unix timestamp (in seconds) for when the item was created.",
            "type": "integer"
          },
          "id": {
            "description": "Identifier of the thread item.",
            "type": "string"
          },
          "object": {
            "default": "chatkit.thread_item",
            "description": "Type discriminator that is always `chatkit.thread_item`.",
            "enum": [
              "chatkit.thread_item"
            ],
            "type": "string"
          },
          "tasks": {
            "description": "Tasks included in the group.",
            "items": {
              "$ref": "#/components/schemas/TaskGroupTask"
            },
            "type": "array"
          },
          "thread_id": {
            "description": "Identifier of the parent thread.",
            "type": "string"
          },
          "type": {
            "default": "chatkit.task_group",
            "description": "Type discriminator that is always `chatkit.task_group`.",
            "enum": [
              "chatkit.task_group"
            ],
            "type": "string"
          }
        },
        "required": [
          "id",
          "object",
          "created_at",
          "thread_id",
          "type",
          "tasks"
        ],
        "title": "Task group",
        "type": "object"
      },
      "Attachment": {
        "description": "Attachment metadata included on thread items.",
        "properties": {
          "id": {
            "description": "Identifier for the attachment.",
            "type": "string"
          },
          "mime_type": {
            "description": "MIME type of the attachment.",
            "type": "string"
          },
          "name": {
            "description": "Original display name for the attachment.",
            "type": "string"
          },
          "preview_url": {
            "anyOf": [
              {
                "description": "Preview URL for rendering the attachment inline.",
                "type": "string"
              },
              {
                "type": "null"
              }
            ]
          },
          "type": {
            "$ref": "#/components/schemas/AttachmentType",
            "description": "Attachment discriminator."
          }
        },
        "required": [
          "type",
          "id",
          "name",
          "mime_type",
          "preview_url"
        ],
        "title": "Attachment",
        "type": "object"
      },
      "UserMessageInputText": {
        "description": "Text block that a user contributed to the thread.",
        "properties": {
          "text": {
            "description": "Plain-text content supplied by the user.",
            "type": "string"
          },
          "type": {
            "default": "input_text",
            "description": "Type discriminator that is always `input_text`.",
            "enum": [
              "input_text"
            ],
            "type": "string"
          }
        },
        "required": [
          "type",
          "text"
        ],
        "title": "User message input",
        "type": "object"
      },
      "UserMessageQuotedText": {
        "description": "Quoted snippet that the user referenced in their message.",
        "properties": {
          "text": {
            "description": "Quoted text content.",
            "type": "string"
          },
          "type": {
            "default": "quoted_text",
            "description": "Type discriminator that is always `quoted_text`.",
            "enum": [
              "quoted_text"
            ],
            "type": "string"
          }
        },
        "required": [
          "type",
          "text"
        ],
        "title": "User message quoted text",
        "type": "object"
      },
      "InferenceOptions": {
        "description": "Model and tool overrides applied when generating the assistant response.",
        "properties": {
          "model": {
            "anyOf": [
              {
                "description": "Model name that generated the response. Defaults to null when using the session default.",
                "type": "string"
              },
              {
                "type": "null"
              }
            ]
          },
          "tool_choice": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ToolChoice",
                "description": "Preferred tool to invoke. Defaults to null when ChatKit should auto-select."
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "required": [
          "tool_choice",
          "model"
        ],
        "title": "Inference options",
        "type": "object"
      },
      "ResponseOutputText": {
        "description": "Assistant response text accompanied by optional annotations.",
        "properties": {
          "annotations": {
            "description": "Ordered list of annotations attached to the response text.",
            "items": {
              "description": "Annotation object describing a cited source.",
              "discriminator": {
                "propertyName": "type"
              },
              "oneOf": [
                {
                  "$ref": "#/components/schemas/FileAnnotation"
                },
                {
                  "$ref": "#/components/schemas/UrlAnnotation"
                }
              ]
            },
            "type": "array"
          },
          "text": {
            "description": "Assistant generated text.",
            "type": "string"
          },
          "type": {
            "default": "output_text",
            "description": "Type discriminator that is always `output_text`.",
            "enum": [
              "output_text"
            ],
            "type": "string"
          }
        },
        "required": [
          "type",
          "text",
          "annotations"
        ],
        "title": "Assistant message content",
        "type": "object"
      },
      "ClientToolCallStatus": {
        "enum": [
          "in_progress",
          "completed"
        ],
        "type": "string"
      },
      "TaskType": {
        "enum": [
          "custom",
          "thought"
        ],
        "type": "string"
      },
      "TaskGroupTask": {
        "description": "Task entry that appears within a TaskGroup.",
        "properties": {
          "heading": {
            "anyOf": [
              {
                "description": "Optional heading for the grouped task. Defaults to null when not provided.",
                "type": "string"
              },
              {
                "type": "null"
              }
            ]
          },
          "summary": {
            "anyOf": [
              {
                "description": "Optional summary that describes the grouped task. Defaults to null when omitted.",
                "type": "string"
              },
              {
                "type": "null"
              }
            ]
          },
          "type": {
            "$ref": "#/components/schemas/TaskType",
            "description": "Subtype for the grouped task."
          }
        },
        "required": [
          "type",
          "heading",
          "summary"
        ],
        "title": "Task group task",
        "type": "object"
      },
      "AttachmentType": {
        "enum": [
          "image",
          "file"
        ],
        "type": "string"
      },
      "ToolChoice": {
        "description": "Tool selection that the assistant should honor when executing the item.",
        "properties": {
          "id": {
            "description": "Identifier of the requested tool.",
            "type": "string"
          }
        },
        "required": [
          "id"
        ],
        "title": "Tool choice",
        "type": "object"
      },
      "FileAnnotation": {
        "description": "Annotation that references an uploaded file.",
        "properties": {
          "source": {
            "$ref": "#/components/schemas/FileAnnotationSource",
            "description": "File attachment referenced by the annotation."
          },
          "type": {
            "default": "file",
            "description": "Type discriminator that is always `file` for this annotation.",
            "enum": [
              "file"
            ],
            "type": "string"
          }
        },
        "required": [
          "type",
          "source"
        ],
        "title": "File annotation",
        "type": "object"
      },
      "UrlAnnotation": {
        "description": "Annotation that references a URL.",
        "properties": {
          "source": {
            "$ref": "#/components/schemas/UrlAnnotationSource",
            "description": "URL referenced by the annotation."
          },
          "type": {
            "default": "url",
            "description": "Type discriminator that is always `url` for this annotation.",
            "enum": [
              "url"
            ],
            "type": "string"
          }
        },
        "required": [
          "type",
          "source"
        ],
        "title": "URL annotation",
        "type": "object"
      },
      "FileAnnotationSource": {
        "description": "Attachment source referenced by an annotation.",
        "properties": {
          "filename": {
            "description": "Filename referenced by the annotation.",
            "type": "string"
          },
          "type": {
            "default": "file",
            "description": "Type discriminator that is always `file`.",
            "enum": [
              "file"
            ],
            "type": "string"
          }
        },
        "required": [
          "type",
          "filename"
        ],
        "title": "File annotation source",
        "type": "object"
      },
      "UrlAnnotationSource": {
        "description": "URL backing an annotation entry.",
        "properties": {
          "type": {
            "default": "url",
            "description": "Type discriminator that is always `url`.",
            "enum": [
              "url"
            ],
            "type": "string"
          },
          "url": {
            "description": "URL referenced by the annotation.",
            "type": "string"
          }
        },
        "required": [
          "type",
          "url"
        ],
        "title": "URL annotation source",
        "type": "object"
      }
    }
  }
}
