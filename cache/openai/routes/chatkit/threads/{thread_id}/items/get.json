{
  "description": "List ChatKit thread items",
  "operationId": "ListThreadItemsMethod",
  "parameters": [
    {
      "description": "Identifier of the ChatKit thread whose items are requested.",
      "in": "path",
      "name": "thread_id",
      "required": true,
      "schema": {
        "example": "cthr_123",
        "type": "string"
      }
    },
    {
      "description": "Maximum number of thread items to return. Defaults to 20.",
      "in": "query",
      "name": "limit",
      "required": false,
      "schema": {
        "maximum": 100,
        "minimum": 0,
        "type": "integer"
      }
    },
    {
      "description": "Sort order for results by creation time. Defaults to `desc`.",
      "in": "query",
      "name": "order",
      "required": false,
      "schema": {
        "enum": [
          "asc",
          "desc"
        ],
        "type": "string"
      }
    },
    {
      "description": "List items created after this thread item ID. Defaults to null for the first page.",
      "in": "query",
      "name": "after",
      "required": false,
      "schema": {
        "description": "List items created after this thread item ID. Defaults to null for the first page.",
        "type": "string"
      }
    },
    {
      "description": "List items created before this thread item ID. Defaults to null for the newest results.",
      "in": "query",
      "name": "before",
      "required": false,
      "schema": {
        "description": "List items created before this thread item ID. Defaults to null for the newest results.",
        "type": "string"
      }
    }
  ],
  "responses": {
    "200": {
      "content": {
        "application/json": {
          "schema": {
            "description": "A paginated list of thread items rendered for the ChatKit API.",
            "properties": {
              "data": {
                "description": "A list of items",
                "items": {
                  "anyOf": [
                    {
                      "description": "User-authored messages within a thread.",
                      "properties": {
                        "attachments": {
                          "description": "Attachments associated with the user message. Defaults to an empty list.",
                          "items": {
                            "description": "Attachment metadata included on thread items.",
                            "properties": {
                              "id": {
                                "description": "Identifier for the attachment.",
                                "type": "string"
                              },
                              "mime_type": {
                                "description": "MIME type of the attachment.",
                                "type": "string"
                              },
                              "name": {
                                "description": "Original display name for the attachment.",
                                "type": "string"
                              },
                              "preview_url": {
                                "anyOf": [
                                  {
                                    "description": "Preview URL for rendering the attachment inline.",
                                    "type": "string"
                                  },
                                  {
                                    "type": "null"
                                  }
                                ]
                              },
                              "type": {
                                "description": "Attachment discriminator.",
                                "enum": [
                                  "image",
                                  "file"
                                ],
                                "type": "string"
                              }
                            },
                            "required": [
                              "type",
                              "id",
                              "name",
                              "mime_type",
                              "preview_url"
                            ],
                            "title": "Attachment",
                            "type": "object"
                          },
                          "type": "array"
                        },
                        "content": {
                          "description": "Ordered content elements supplied by the user.",
                          "items": {
                            "anyOf": [
                              {
                                "description": "Text block that a user contributed to the thread.",
                                "properties": {
                                  "text": {
                                    "description": "Plain-text content supplied by the user.",
                                    "type": "string"
                                  },
                                  "type": {
                                    "default": "input_text",
                                    "description": "Type discriminator that is always `input_text`.",
                                    "enum": [
                                      "input_text"
                                    ],
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "type",
                                  "text"
                                ],
                                "title": "User message input",
                                "type": "object"
                              },
                              {
                                "description": "Quoted snippet that the user referenced in their message.",
                                "properties": {
                                  "text": {
                                    "description": "Quoted text content.",
                                    "type": "string"
                                  },
                                  "type": {
                                    "default": "quoted_text",
                                    "description": "Type discriminator that is always `quoted_text`.",
                                    "enum": [
                                      "quoted_text"
                                    ],
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "type",
                                  "text"
                                ],
                                "title": "User message quoted text",
                                "type": "object"
                              }
                            ],
                            "description": "Content blocks that comprise a user message.",
                            "discriminator": {
                              "propertyName": "type"
                            }
                          },
                          "type": "array"
                        },
                        "created_at": {
                          "description": "Unix timestamp (in seconds) for when the item was created.",
                          "type": "integer"
                        },
                        "id": {
                          "description": "Identifier of the thread item.",
                          "type": "string"
                        },
                        "inference_options": {
                          "anyOf": [
                            {
                              "description": "Inference overrides applied to the message. Defaults to null when unset.",
                              "properties": {
                                "model": {
                                  "anyOf": [
                                    {
                                      "description": "Model name that generated the response. Defaults to null when using the session default.",
                                      "type": "string"
                                    },
                                    {
                                      "type": "null"
                                    }
                                  ]
                                },
                                "tool_choice": {
                                  "anyOf": [
                                    {
                                      "description": "Preferred tool to invoke. Defaults to null when ChatKit should auto-select.",
                                      "properties": {
                                        "id": {
                                          "description": "Identifier of the requested tool.",
                                          "type": "string"
                                        }
                                      },
                                      "required": [
                                        "id"
                                      ],
                                      "title": "Tool choice",
                                      "type": "object"
                                    },
                                    {
                                      "type": "null"
                                    }
                                  ]
                                }
                              },
                              "required": [
                                "tool_choice",
                                "model"
                              ],
                              "title": "Inference options",
                              "type": "object"
                            },
                            {
                              "type": "null"
                            }
                          ]
                        },
                        "object": {
                          "default": "chatkit.thread_item",
                          "description": "Type discriminator that is always `chatkit.thread_item`.",
                          "enum": [
                            "chatkit.thread_item"
                          ],
                          "type": "string"
                        },
                        "thread_id": {
                          "description": "Identifier of the parent thread.",
                          "type": "string"
                        },
                        "type": {
                          "default": "chatkit.user_message",
                          "enum": [
                            "chatkit.user_message"
                          ],
                          "type": "string"
                        }
                      },
                      "required": [
                        "id",
                        "object",
                        "created_at",
                        "thread_id",
                        "type",
                        "content",
                        "attachments",
                        "inference_options"
                      ],
                      "title": "User Message Item",
                      "type": "object"
                    },
                    {
                      "description": "Assistant-authored message within a thread.",
                      "properties": {
                        "content": {
                          "description": "Ordered assistant response segments.",
                          "items": {
                            "description": "Assistant response text accompanied by optional annotations.",
                            "properties": {
                              "annotations": {
                                "description": "Ordered list of annotations attached to the response text.",
                                "items": {
                                  "anyOf": [
                                    {
                                      "description": "Annotation that references an uploaded file.",
                                      "properties": {
                                        "source": {
                                          "description": "File attachment referenced by the annotation.",
                                          "properties": {
                                            "filename": {
                                              "description": "Filename referenced by the annotation.",
                                              "type": "string"
                                            },
                                            "type": {
                                              "default": "file",
                                              "description": "Type discriminator that is always `file`.",
                                              "enum": [
                                                "file"
                                              ],
                                              "type": "string"
                                            }
                                          },
                                          "required": [
                                            "type",
                                            "filename"
                                          ],
                                          "title": "File annotation source",
                                          "type": "object"
                                        },
                                        "type": {
                                          "default": "file",
                                          "description": "Type discriminator that is always `file` for this annotation.",
                                          "enum": [
                                            "file"
                                          ],
                                          "type": "string"
                                        }
                                      },
                                      "required": [
                                        "type",
                                        "source"
                                      ],
                                      "title": "File annotation",
                                      "type": "object"
                                    },
                                    {
                                      "description": "Annotation that references a URL.",
                                      "properties": {
                                        "source": {
                                          "description": "URL referenced by the annotation.",
                                          "properties": {
                                            "type": {
                                              "default": "url",
                                              "description": "Type discriminator that is always `url`.",
                                              "enum": [
                                                "url"
                                              ],
                                              "type": "string"
                                            },
                                            "url": {
                                              "description": "URL referenced by the annotation.",
                                              "type": "string"
                                            }
                                          },
                                          "required": [
                                            "type",
                                            "url"
                                          ],
                                          "title": "URL annotation source",
                                          "type": "object"
                                        },
                                        "type": {
                                          "default": "url",
                                          "description": "Type discriminator that is always `url` for this annotation.",
                                          "enum": [
                                            "url"
                                          ],
                                          "type": "string"
                                        }
                                      },
                                      "required": [
                                        "type",
                                        "source"
                                      ],
                                      "title": "URL annotation",
                                      "type": "object"
                                    }
                                  ],
                                  "description": "Annotation object describing a cited source.",
                                  "discriminator": {
                                    "propertyName": "type"
                                  }
                                },
                                "type": "array"
                              },
                              "text": {
                                "description": "Assistant generated text.",
                                "type": "string"
                              },
                              "type": {
                                "default": "output_text",
                                "description": "Type discriminator that is always `output_text`.",
                                "enum": [
                                  "output_text"
                                ],
                                "type": "string"
                              }
                            },
                            "required": [
                              "type",
                              "text",
                              "annotations"
                            ],
                            "title": "Assistant message content",
                            "type": "object"
                          },
                          "type": "array"
                        },
                        "created_at": {
                          "description": "Unix timestamp (in seconds) for when the item was created.",
                          "type": "integer"
                        },
                        "id": {
                          "description": "Identifier of the thread item.",
                          "type": "string"
                        },
                        "object": {
                          "default": "chatkit.thread_item",
                          "description": "Type discriminator that is always `chatkit.thread_item`.",
                          "enum": [
                            "chatkit.thread_item"
                          ],
                          "type": "string"
                        },
                        "thread_id": {
                          "description": "Identifier of the parent thread.",
                          "type": "string"
                        },
                        "type": {
                          "default": "chatkit.assistant_message",
                          "description": "Type discriminator that is always `chatkit.assistant_message`.",
                          "enum": [
                            "chatkit.assistant_message"
                          ],
                          "type": "string"
                        }
                      },
                      "required": [
                        "id",
                        "object",
                        "created_at",
                        "thread_id",
                        "type",
                        "content"
                      ],
                      "title": "Assistant message",
                      "type": "object"
                    },
                    {
                      "description": "Thread item that renders a widget payload.",
                      "properties": {
                        "created_at": {
                          "description": "Unix timestamp (in seconds) for when the item was created.",
                          "type": "integer"
                        },
                        "id": {
                          "description": "Identifier of the thread item.",
                          "type": "string"
                        },
                        "object": {
                          "default": "chatkit.thread_item",
                          "description": "Type discriminator that is always `chatkit.thread_item`.",
                          "enum": [
                            "chatkit.thread_item"
                          ],
                          "type": "string"
                        },
                        "thread_id": {
                          "description": "Identifier of the parent thread.",
                          "type": "string"
                        },
                        "type": {
                          "default": "chatkit.widget",
                          "description": "Type discriminator that is always `chatkit.widget`.",
                          "enum": [
                            "chatkit.widget"
                          ],
                          "type": "string"
                        },
                        "widget": {
                          "description": "Serialized widget payload rendered in the UI.",
                          "type": "string"
                        }
                      },
                      "required": [
                        "id",
                        "object",
                        "created_at",
                        "thread_id",
                        "type",
                        "widget"
                      ],
                      "title": "Widget message",
                      "type": "object"
                    },
                    {
                      "description": "Record of a client side tool invocation initiated by the assistant.",
                      "properties": {
                        "arguments": {
                          "description": "JSON-encoded arguments that were sent to the tool.",
                          "type": "string"
                        },
                        "call_id": {
                          "description": "Identifier for the client tool call.",
                          "type": "string"
                        },
                        "created_at": {
                          "description": "Unix timestamp (in seconds) for when the item was created.",
                          "type": "integer"
                        },
                        "id": {
                          "description": "Identifier of the thread item.",
                          "type": "string"
                        },
                        "name": {
                          "description": "Tool name that was invoked.",
                          "type": "string"
                        },
                        "object": {
                          "default": "chatkit.thread_item",
                          "description": "Type discriminator that is always `chatkit.thread_item`.",
                          "enum": [
                            "chatkit.thread_item"
                          ],
                          "type": "string"
                        },
                        "output": {
                          "anyOf": [
                            {
                              "description": "JSON-encoded output captured from the tool. Defaults to null while execution is in progress.",
                              "type": "string"
                            },
                            {
                              "type": "null"
                            }
                          ]
                        },
                        "status": {
                          "description": "Execution status for the tool call.",
                          "enum": [
                            "in_progress",
                            "completed"
                          ],
                          "type": "string"
                        },
                        "thread_id": {
                          "description": "Identifier of the parent thread.",
                          "type": "string"
                        },
                        "type": {
                          "default": "chatkit.client_tool_call",
                          "description": "Type discriminator that is always `chatkit.client_tool_call`.",
                          "enum": [
                            "chatkit.client_tool_call"
                          ],
                          "type": "string"
                        }
                      },
                      "required": [
                        "id",
                        "object",
                        "created_at",
                        "thread_id",
                        "type",
                        "status",
                        "call_id",
                        "name",
                        "arguments",
                        "output"
                      ],
                      "title": "Client tool call",
                      "type": "object"
                    },
                    {
                      "description": "Task emitted by the workflow to show progress and status updates.",
                      "properties": {
                        "created_at": {
                          "description": "Unix timestamp (in seconds) for when the item was created.",
                          "type": "integer"
                        },
                        "heading": {
                          "anyOf": [
                            {
                              "description": "Optional heading for the task. Defaults to null when not provided.",
                              "type": "string"
                            },
                            {
                              "type": "null"
                            }
                          ]
                        },
                        "id": {
                          "description": "Identifier of the thread item.",
                          "type": "string"
                        },
                        "object": {
                          "default": "chatkit.thread_item",
                          "description": "Type discriminator that is always `chatkit.thread_item`.",
                          "enum": [
                            "chatkit.thread_item"
                          ],
                          "type": "string"
                        },
                        "summary": {
                          "anyOf": [
                            {
                              "description": "Optional summary that describes the task. Defaults to null when omitted.",
                              "type": "string"
                            },
                            {
                              "type": "null"
                            }
                          ]
                        },
                        "task_type": {
                          "description": "Subtype for the task.",
                          "enum": [
                            "custom",
                            "thought"
                          ],
                          "type": "string"
                        },
                        "thread_id": {
                          "description": "Identifier of the parent thread.",
                          "type": "string"
                        },
                        "type": {
                          "default": "chatkit.task",
                          "description": "Type discriminator that is always `chatkit.task`.",
                          "enum": [
                            "chatkit.task"
                          ],
                          "type": "string"
                        }
                      },
                      "required": [
                        "id",
                        "object",
                        "created_at",
                        "thread_id",
                        "type",
                        "task_type",
                        "heading",
                        "summary"
                      ],
                      "title": "Task item",
                      "type": "object"
                    },
                    {
                      "description": "Collection of workflow tasks grouped together in the thread.",
                      "properties": {
                        "created_at": {
                          "description": "Unix timestamp (in seconds) for when the item was created.",
                          "type": "integer"
                        },
                        "id": {
                          "description": "Identifier of the thread item.",
                          "type": "string"
                        },
                        "object": {
                          "default": "chatkit.thread_item",
                          "description": "Type discriminator that is always `chatkit.thread_item`.",
                          "enum": [
                            "chatkit.thread_item"
                          ],
                          "type": "string"
                        },
                        "tasks": {
                          "description": "Tasks included in the group.",
                          "items": {
                            "description": "Task entry that appears within a TaskGroup.",
                            "properties": {
                              "heading": {
                                "anyOf": [
                                  {
                                    "description": "Optional heading for the grouped task. Defaults to null when not provided.",
                                    "type": "string"
                                  },
                                  {
                                    "type": "null"
                                  }
                                ]
                              },
                              "summary": {
                                "anyOf": [
                                  {
                                    "description": "Optional summary that describes the grouped task. Defaults to null when omitted.",
                                    "type": "string"
                                  },
                                  {
                                    "type": "null"
                                  }
                                ]
                              },
                              "type": {
                                "description": "Subtype for the grouped task.",
                                "enum": [
                                  "custom",
                                  "thought"
                                ],
                                "type": "string"
                              }
                            },
                            "required": [
                              "type",
                              "heading",
                              "summary"
                            ],
                            "title": "Task group task",
                            "type": "object"
                          },
                          "type": "array"
                        },
                        "thread_id": {
                          "description": "Identifier of the parent thread.",
                          "type": "string"
                        },
                        "type": {
                          "default": "chatkit.task_group",
                          "description": "Type discriminator that is always `chatkit.task_group`.",
                          "enum": [
                            "chatkit.task_group"
                          ],
                          "type": "string"
                        }
                      },
                      "required": [
                        "id",
                        "object",
                        "created_at",
                        "thread_id",
                        "type",
                        "tasks"
                      ],
                      "title": "Task group",
                      "type": "object"
                    }
                  ],
                  "discriminator": {
                    "propertyName": "type"
                  },
                  "title": "The thread item"
                },
                "type": "array"
              },
              "first_id": {
                "anyOf": [
                  {
                    "description": "The ID of the first item in the list.",
                    "type": "string"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "has_more": {
                "description": "Whether there are more items available.",
                "type": "boolean"
              },
              "last_id": {
                "anyOf": [
                  {
                    "description": "The ID of the last item in the list.",
                    "type": "string"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "object": {
                "const": "list",
                "default": "list",
                "description": "The type of object returned, must be `list`."
              }
            },
            "required": [
              "object",
              "data",
              "first_id",
              "last_id",
              "has_more"
            ],
            "title": "Thread Items",
            "type": "object"
          }
        }
      },
      "description": "Success"
    }
  },
  "summary": "List ChatKit thread items"
}
