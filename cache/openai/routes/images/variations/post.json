{
  "description": "Creates a variation of a given image. This endpoint only supports `dall-e-2`.",
  "operationId": "createImageVariation",
  "requestBody": {
    "content": {
      "multipart/form-data": {
        "schema": {
          "properties": {
            "image": {
              "description": "The image to use as the basis for the variation(s). Must be a valid PNG file, less than 4MB, and square.",
              "format": "binary",
              "type": "string"
            },
            "model": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "enum": [
                    "dall-e-2"
                  ],
                  "type": "string"
                }
              ],
              "description": "The model to use for image generation. Only `dall-e-2` is supported at this time.",
              "nullable": true
            },
            "n": {
              "default": 1,
              "description": "The number of images to generate. Must be between 1 and 10.",
              "example": 1,
              "maximum": 10,
              "minimum": 1,
              "nullable": true,
              "type": "integer"
            },
            "response_format": {
              "default": "url",
              "description": "The format in which the generated images are returned. Must be one of `url` or `b64_json`. URLs are only valid for 60 minutes after the image has been generated.",
              "enum": [
                "url",
                "b64_json"
              ],
              "example": "url",
              "nullable": true,
              "type": "string"
            },
            "size": {
              "default": "1024x1024",
              "description": "The size of the generated images. Must be one of `256x256`, `512x512`, or `1024x1024`.",
              "enum": [
                "256x256",
                "512x512",
                "1024x1024"
              ],
              "example": "1024x1024",
              "nullable": true,
              "type": "string"
            },
            "user": {
              "description": "A unique identifier representing your end-user, which can help OpenAI to monitor and detect abuse. [Learn more](https://platform.openai.com/docs/guides/safety-best-practices#end-user-ids).\n",
              "example": "user-1234",
              "type": "string"
            }
          },
          "required": [
            "image"
          ],
          "type": "object"
        }
      }
    },
    "required": true
  },
  "responses": {
    "200": {
      "content": {
        "application/json": {
          "schema": {
            "description": "The response from the image generation endpoint.",
            "properties": {
              "background": {
                "description": "The background parameter used for the image generation. Either `transparent` or `opaque`.",
                "enum": [
                  "transparent",
                  "opaque"
                ],
                "type": "string"
              },
              "created": {
                "description": "The Unix timestamp (in seconds) of when the image was created.",
                "type": "integer"
              },
              "data": {
                "description": "The list of generated images.",
                "items": {
                  "description": "Represents the content or the URL of an image generated by the OpenAI API.",
                  "properties": {
                    "b64_json": {
                      "description": "The base64-encoded JSON of the generated image. Default value for `gpt-image-1`, and only present if `response_format` is set to `b64_json` for `dall-e-2` and `dall-e-3`.",
                      "type": "string"
                    },
                    "revised_prompt": {
                      "description": "For `dall-e-3` only, the revised prompt that was used to generate the image.",
                      "type": "string"
                    },
                    "url": {
                      "description": "When using `dall-e-2` or `dall-e-3`, the URL of the generated image if `response_format` is set to `url` (default value). Unsupported for `gpt-image-1`.",
                      "type": "string"
                    }
                  },
                  "type": "object"
                },
                "type": "array"
              },
              "output_format": {
                "description": "The output format of the image generation. Either `png`, `webp`, or `jpeg`.",
                "enum": [
                  "png",
                  "webp",
                  "jpeg"
                ],
                "type": "string"
              },
              "quality": {
                "description": "The quality of the image generated. Either `low`, `medium`, or `high`.",
                "enum": [
                  "low",
                  "medium",
                  "high"
                ],
                "type": "string"
              },
              "size": {
                "description": "The size of the image generated. Either `1024x1024`, `1024x1536`, or `1536x1024`.",
                "enum": [
                  "1024x1024",
                  "1024x1536",
                  "1536x1024"
                ],
                "type": "string"
              },
              "usage": {
                "description": "For `gpt-image-1` only, the token usage information for the image generation.",
                "properties": {
                  "input_tokens": {
                    "description": "The number of tokens (images and text) in the input prompt.",
                    "type": "integer"
                  },
                  "input_tokens_details": {
                    "description": "The input tokens detailed information for the image generation.",
                    "properties": {
                      "image_tokens": {
                        "description": "The number of image tokens in the input prompt.",
                        "type": "integer"
                      },
                      "text_tokens": {
                        "description": "The number of text tokens in the input prompt.",
                        "type": "integer"
                      }
                    },
                    "required": [
                      "text_tokens",
                      "image_tokens"
                    ],
                    "title": "Input usage details",
                    "type": "object"
                  },
                  "output_tokens": {
                    "description": "The number of output tokens generated by the model.",
                    "type": "integer"
                  },
                  "total_tokens": {
                    "description": "The total number of tokens (images and text) used for the image generation.",
                    "type": "integer"
                  }
                },
                "required": [
                  "input_tokens",
                  "total_tokens",
                  "output_tokens",
                  "input_tokens_details"
                ],
                "title": "Image generation usage",
                "type": "object"
              }
            },
            "required": [
              "created"
            ],
            "title": "Image generation response",
            "type": "object"
          }
        }
      },
      "description": "OK"
    }
  },
  "summary": "Create image variation",
  "tags": [
    "Images"
  ]
}
